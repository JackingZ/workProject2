(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["container-management"],{"185c":function(e,t,i){"use strict";var a=i("46f3"),r=i.n(a);r.a},"46f3":function(e,t,i){},dd13:function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"c",function(){return n}),i.d(t,"a",function(){return l});var a=i("b32d");function r(e){var t={url:"/setting/container/getContainerList",method:"get",params:e};return Object(a["a"])(t)}function n(e){var t={url:"/setting/container/saveContainer",method:"post",data:e};return Object(a["a"])(t)}function l(e){var t={url:"/setting/container/deleteContainer",method:"delete",params:e};return Object(a["a"])(t)}},eb78:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"car-management",staticStyle:{display:"flex","flex-flow":"row nowrap","min-height":"inherit"}},[i("div",{staticClass:"dashboard-container",staticStyle:{flex:"1",overflow:"auto"}},[i("div",{staticClass:"app-container"},[i("head-info",{attrs:{info:"",title:"货柜管理"}}),i("div",{staticClass:"app-panel"},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["addContainer"],expression:"['addContainer']"}],staticStyle:{"margin-left":"10px"},attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:e.addCar}},[e._v("\n              新增柜型\n            ")])],1),i("el-col",{staticStyle:{"text-align":"right"},attrs:{span:18}},[i("el-input",{staticStyle:{width:"180px","margin-right":"10px"},attrs:{size:"small",clearable:"",placeholder:"车型名称关键字"},model:{value:e.selectValue.name,callback:function(t){e.$set(e.selectValue,"name",t)},expression:"selectValue.name"}}),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["queryCurrency"],expression:"['queryCurrency']"}],attrs:{type:"primary",size:"small"},on:{click:function(t){return e.queryAll(1)}}},[e._v("\n              查询\n            ")])],1)],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.tableData,height:"calc(100vh - 313px)",border:""}},[i("el-table-column",{attrs:{prop:"name",label:"柜型名称"}}),i("el-table-column",{attrs:{prop:"alias",label:"英文名称"}}),i("el-table-column",{attrs:{prop:"length",label:"柜长","min-width":"100",formatter:function(t,i,a,r){return e.formatterUnit(t,a,e.umLengthList,"umLength")}}}),i("el-table-column",{attrs:{prop:"width",label:"柜宽","min-width":"100",formatter:function(t,i,a,r){return e.formatterUnit(t,a,e.umLengthList,"umLength")}}}),i("el-table-column",{attrs:{prop:"height",label:"柜高","min-width":"100",formatter:function(t,i,a,r){return e.formatterUnit(t,a,e.umLengthList,"umLength")}}}),i("el-table-column",{attrs:{prop:"volume",label:"装载体积","min-width":"100",formatter:function(t,i,a,r){return e.formatterUnit(t,a,e.umVolumeList,"umVolume")}}}),i("el-table-column",{attrs:{prop:"loadLimit",label:"最大限重","min-width":"100",formatter:function(t,i,a,r){return e.formatterUnit(t,a,e.umWeightList,"umWeight")}}}),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"160px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["editContainer"],expression:"['editContainer']"}],attrs:{type:"text",size:"medium"},on:{click:function(i){return e.editVehicle(t.row)}}},[e._v("\n                编辑\n              ")]),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["deleteContainer"],expression:"['deleteContainer']"}],attrs:{type:"text",size:"medium"},on:{click:function(i){return e.deleteVehicle(t.row)}}},[e._v("\n                删除\n              ")])]}}])})],1),i("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.page,"page-size":e.size,layout:"total, prev, pager, next",total:e.total},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),i("el-dialog",{attrs:{title:e.isEdit?"编辑柜型":"新增柜型",visible:e.isAddEditVisible,"close-on-click-modal":!1,width:"900px"},on:{"update:visible":function(t){e.isAddEditVisible=t},closed:e.cancel}},[i("el-form",{ref:"editForm",staticStyle:{"padding-right":"20px"},attrs:{model:e.selectForm,rules:e.formRules,"label-width":"100px","label-position":"right",size:"small"}},[i("el-form-item",{attrs:{label:"货柜名称",prop:"name"}},[i("el-input",{ref:"firstInput",attrs:{maxlength:50,placeholder:"请输入"},model:{value:e.selectForm.name,callback:function(t){e.$set(e.selectForm,"name",t)},expression:"selectForm.name"}})],1),i("el-form-item",{attrs:{label:"英文名称",prop:"alias"}},[i("el-input",{attrs:{maxlength:50,placeholder:"请输入"},model:{value:e.selectForm.alias,callback:function(t){e.$set(e.selectForm,"alias",t)},expression:"selectForm.alias"}})],1),i("el-form-item",{attrs:{label:"长度单位",prop:"umLength"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:e.onLength},model:{value:e.selectForm.umLength,callback:function(t){e.$set(e.selectForm,"umLength",t)},expression:"selectForm.umLength"}},e._l(e.umLengthList,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),i("el-form-item",{attrs:{label:"体积单位",prop:"umVolume"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"请选择"},model:{value:e.selectForm.umVolume,callback:function(t){e.$set(e.selectForm,"umVolume",t)},expression:"selectForm.umVolume"}},e._l(e.umVolumeList,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),i("el-form-item",{attrs:{label:"重量单位",prop:"umWeight"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.selectForm.umWeight,callback:function(t){e.$set(e.selectForm,"umWeight",t)},expression:"selectForm.umWeight"}},e._l(e.umWeightList,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),i("el-form-item",{attrs:{label:"长度",prop:"length"}},[i("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:9999,precision:2},model:{value:e.selectForm.length,callback:function(t){e.$set(e.selectForm,"length",t)},expression:"selectForm.length"}})],1),i("el-form-item",{attrs:{label:"宽度",prop:"width"}},[i("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:9999,precision:2},model:{value:e.selectForm.width,callback:function(t){e.$set(e.selectForm,"width",t)},expression:"selectForm.width"}})],1),i("el-form-item",{attrs:{label:"高度",prop:"height"}},[i("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:9999,precision:2},model:{value:e.selectForm.height,callback:function(t){e.$set(e.selectForm,"height",t)},expression:"selectForm.height"}})],1),i("el-form-item",{attrs:{label:"装载体积",prop:"volume"}},[i("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:99999,precision:2},model:{value:e.selectForm.volume,callback:function(t){e.$set(e.selectForm,"volume",t)},expression:"selectForm.volume"}})],1),i("el-form-item",{attrs:{label:"最大限重",prop:"loadLimit"}},[i("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:99999,precision:2},model:{value:e.selectForm.loadLimit,callback:function(t){e.$set(e.selectForm,"loadLimit",t)},expression:"selectForm.loadLimit"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.cancel}},[e._v("\n              取 消\n            ")]),i("el-button",{attrs:{type:"primary"},on:{click:e.saveConfirm}},[e._v("\n              确 定\n            ")])],1)],1)],1)],1)])])},r=[],n=(i("8e6e"),i("456d"),i("c5f6"),i("bd86")),l=(i("7f7f"),i("ac6a"),i("5df3"),i("96cf"),i("3b8d")),o=(i("7514"),i("d225")),s=i("b0b4"),u=i("308d"),c=i("6bb5"),m=i("4e2b"),d=i("9ab4"),h=i("60a3"),p=i("ac1a"),g=i("dd13"),f=i("bef3");function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,a)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(i,!0).forEach(function(t){Object(n["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var y=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.loading=!1,e.isAddEditVisible=!1,e.dialogLoading=!1,e.isEdit=!1,e.tableData=[],e.volumeUnit="1",e.weightUnit="1",e.currentId="",e.selectValue={name:""},e.selectForm={name:void 0,alias:void 0,umLength:void 0,umVolume:void 0,umWeight:void 0,length:void 0,width:void 0,height:void 0,volume:void 0,loadLimit:void 0},e.formRules={name:[{required:!0,message:"货柜名称不能为空",trigger:"blur"}],alias:[{required:!0,message:"英文名称不能为空",trigger:"blur"},{validator:function(e,t,i){var a=/[\u4e00-\u9fa5]/;t?a.test(t)?i(new Error("英文名称不能有中文")):i():i(new Error("英文名称不能为空"))},trigger:"blur"}],umLength:[{required:!0,message:"长度单位不能为空",trigger:"change"}],umVolume:[{required:!0,message:"体积单位不能为空",trigger:"change"}],umWeight:[{required:!0,message:"重量单位不能为空",trigger:"change"}],length:[{required:!0,message:"长度不能为空",trigger:"blur"}],width:[{required:!0,message:"宽度不能为空",trigger:"blur"}],height:[{required:!0,message:"高度不能为空",trigger:"blur"}],volume:[{required:!0,message:"装载体积不能为空",trigger:"change"}],loadLimit:[{required:!0,message:"载重不能为空",trigger:"blur"}]},e.umLengthList=[],e.umVolumeList=[],e.umWeightList=[],e.page=1,e.size=10,e.total=0,e}return Object(m["a"])(t,e),Object(s["a"])(t,[{key:"formatterUnit",value:function(e,t,i,a){var r=i.find(function(t){return t.value===e[a]});return r?"".concat(t," (").concat(r.label,")"):t}},{key:"getWordsList",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(f["d"])({type:"measurement_type"}),Object(f["d"])({type:"VOLUME_TYPE"}),Object(f["d"])({type:"weight_type"})]).then(function(e){t.umLengthList=e[0].data||[],t.umVolumeList=e[1].data||[],t.umWeightList=e[2].data||[]}).catch(function(e){return e});case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"queryAll",value:function(e){var t=this;this.loading=!0,e&&(this.page=e);var i={page:this.page,size:this.size,name:this.selectValue.name};Object(g["b"])(i).then(function(e){t.loading=!1,t.tableData=e.data.result,t.total=e.data.total}).catch(function(e){return t.loading=!1,e})}},{key:"deleteVehicle",value:function(e){var t=this,i={id:e.id};this.$confirm("请确认是否删除该条数据?","温馨提示",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){Object(g["a"])(i).then(function(e){t.$message({type:"success",message:"删除成功"}),t.queryAll()}).catch(function(e){return e})}).catch(function(){return!1})}},{key:"handleChange",value:function(){return 123}},{key:"onLength",value:function(e){if(e){e.toUpperCase();switch(e){case"CM":this.selectForm.umVolume="CBCM";break;case"M":this.selectForm.umVolume="CBM";break;case"IN":this.selectForm.umVolume="CUIN";break;case"FT":this.selectForm.umVolume="CUFT";break;default:this.selectForm.umVolume=void 0;break}}else this.selectForm.umVolume=void 0}},{key:"addCar",value:function(){var e=this;this.isEdit=!1,this.isAddEditVisible=!0,this.$nextTick(function(){var t=e.$refs.firstInput;t.focus()})}},{key:"clearValidate",value:function(){var e=this;this.$nextTick(function(){var t=e.$refs.editForm;t.clearValidate()})}},{key:"cancel",value:function(){this.isAddEditVisible=!1,this.resetForm(),this.clearValidate()}},{key:"saveConfirm",value:function(){var e=this,t=this.$refs.editForm;t.validate(function(t){if(!t)return!1;var i=b({},e.selectForm);e.isEdit?i.id=e.currentId:i.id="",Object(g["c"])(i).then(function(t){e.$message({type:"success",message:"操作成功"}),e.isAddEditVisible=!1,e.resetForm(),e.queryAll()}).catch(function(e){return e})})}},{key:"resetForm",value:function(){this.selectForm={name:void 0,alias:void 0,umLength:void 0,umVolume:void 0,umWeight:void 0,length:void 0,width:void 0,height:void 0,volume:void 0,loadLimit:void 0}}},{key:"editVehicle",value:function(e){this.currentId=e.id;var t=e.name,i=e.alias,a=e.umLength,r=e.umVolume,n=e.umWeight,l=e.length,o=e.width,s=e.height,u=e.volume,c=e.loadLimit;e.seats;this.selectForm={name:t,alias:i,umLength:a,umVolume:r,umWeight:n,length:l,width:o,height:s,volume:u,loadLimit:c},this.isEdit=!0,this.isAddEditVisible=!0}},{key:"close",value:function(){this.isAddEditVisible=!1,this.resetForm()}},{key:"handleSizeChange",value:function(e){this.size=Number(e),this.queryAll()}},{key:"handleCurrentChange",value:function(e){this.page=Number(e),this.queryAll()}},{key:"created",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.getWordsList();case 3:this.queryAll();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"labelPosition",get:function(){var e=p["a"].language;return e&&"en"===e?"top":"left"}},{key:"lang",get:function(){var e=p["a"].language;return e||"en"}}]),t}(h["e"]);y=d["a"]([Object(h["a"])({name:"Port",components:{},props:{}})],y);var w=y,k=w,x=(i("185c"),i("2877")),F=Object(x["a"])(k,a,r,!1,null,"46d6d53a",null);t["default"]=F.exports}}]);