(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["trailer-task"],{"0f32":function(t,e,a){"use strict";var r=a("4646"),n=a.n(r);n.a},"228b":function(t,e,a){},4646:function(t,e,a){},"72ae":function(t,e,a){"use strict";a.d(e,"d",function(){return n}),a.d(e,"c",function(){return o}),a.d(e,"e",function(){return i}),a.d(e,"a",function(){return l}),a.d(e,"b",function(){return s});var r=a("b32d");function n(t){var e={url:"/orders/removal/task_page",method:"post",data:t};return Object(r["a"])(e)}function o(t){var e={url:"/orders/removal/task_page_details",method:"post",data:t};return Object(r["a"])(e)}function i(t){var e={url:"/orders/removal/details_save",method:"post",data:t};return Object(r["a"])(e)}function l(t){var e={url:"/orders/removal/scan_add",method:"get",params:t};return Object(r["a"])(e)}function s(t){var e={url:"/orders/removal/details_audit",method:"post",data:t};return Object(r["a"])(e)}},ae7e:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"examine-form",staticStyle:{display:"flex","flex-flow":"row nowrap","min-height":"inherit"}},[a("div",{staticClass:"dashboard-container",staticStyle:{flex:"1",overflow:"auto"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.detailShow,expression:"!detailShow"}],staticClass:"app-container"},[a("head-info",{attrs:{info:"",title:"拆柜任务单"}}),a("div",{staticClass:"app-panel"},[a("el-row",[a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[a("el-input",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{size:"small",placeholder:"柜号"},model:{value:t.searchForm.cabinetNo,callback:function(e){t.$set(t.searchForm,"cabinetNo",e)},expression:"searchForm.cabinetNo"}}),a("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{placeholder:"状态",size:"small",clearable:""},model:{value:t.searchForm.status,callback:function(e){t.$set(t.searchForm,"status",e)},expression:"searchForm.status"}},t._l(t.statusList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1),a("el-date-picker",{staticStyle:{width:"240px","margin-right":"10px"},attrs:{clearable:!1,"unlink-panels":"",type:"daterange","value-format":"yyyy-MM-dd","range-separator":"~",align:"right",size:"small","start-placeholder":"起始时间","end-placeholder":"截止时间"},model:{value:t.searchForm.applyTime,callback:function(e){t.$set(t.searchForm,"applyTime",e)},expression:"searchForm.applyTime"}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleSearch(1)}}},[t._v("\n              查询\n            ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:t.tableData,height:"calc(100vh - 313px)",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"拆柜任务单ID","min-width":"160"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s((t.statusList.find(function(t){return e.row.status===t.id})||{}).name)+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"cabinetNo",label:"柜号","min-width":"150"}}),a("el-table-column",{attrs:{label:"仓库名称","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s((e.row.warehouse||{}).name)+"\n            ")]}}])}),a("el-table-column",{attrs:{label:"下单客户","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s((e.row.buyer||{}).name)+"\n            ")]}}])}),a("el-table-column",{attrs:{label:"客户名称","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s((e.row.buyer||{}).name)+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"170"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleDetail(e.row)}}},[t._v("\n                查看详情\n              ")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":t.page,"page-size":t.size,layout:"total, prev, pager, next",total:t.total},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.detailShow,expression:"detailShow"}],staticClass:"app-container"},[a("detail",{ref:"detail",on:{back:function(e){t.detailShow=!1}}})],1)])])},n=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=a("d225"),l=a("b0b4"),s=a("308d"),u=a("6bb5"),c=a("4e2b"),d=a("9ab4"),m=a("60a3"),f=a("9dba"),p=a("5a0c"),h=a.n(p),b=a("72ae"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.detailLoading,expression:"detailLoading"}]},[a("div",{staticClass:"detail-back"},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.$emit("back")}}},[a("i",{staticClass:"el-icon-back"}),a("span",[t._v("返回")])])]),a("div",{staticClass:"app-panel order-detail"},[a("div",{staticClass:"detail-examine"},[t._v("\n      拆柜任务单详细信息\n    ")]),a("el-form",{ref:"detail",staticClass:"detail-form",attrs:{model:t.form,"label-width":"120px","label-position":"right"}},[a("el-form-item",{attrs:{label:"拆柜任务单ID："}},[t._v("\n        "+t._s(t.form.id)+"\n      ")]),a("el-form-item",{attrs:{label:"柜号："}},[t._v("\n        "+t._s(t.form.cabinetNo)+"\n      ")]),a("el-form-item",{attrs:{label:"仓库名称："}},[t._v("\n        "+t._s((t.form.warehouse||{}).name)+"\n      ")]),a("el-form-item",{attrs:{label:"下单客户："}},[t._v("\n        "+t._s((t.form.buyer||{}).name)+"\n      ")]),a("el-form-item",{attrs:{label:"客户名称："}},[t._v("\n        "+t._s((t.form.buyer||{}).name)+"\n      ")]),a("el-form-item",{attrs:{label:"创建时间："}},[t._v("\n        "+t._s(t.form.createTime)+"\n      ")]),a("el-form-item",{attrs:{label:"完成时间："}},[t._v("\n        "+t._s(t.form.actualTime)+"\n      ")])],1),a("el-table",{staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:t.tableList,border:""}},[a("el-table-column",{attrs:{fixed:"left",prop:"code",label:"原单号","min-width":"150","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{fixed:"left",prop:"status",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"audit-wrap"},[3===e.row.status?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.reason||"审核不通过",placement:"top"}},[a("span",{staticClass:"audit"})]):t._e(),t._v("\n            "+t._s((t.statusList.find(function(t){return e.row.status===t.id})||{}).name)+"\n          ")],1)]}}])}),a("el-table-column",{attrs:{label:"目的地","min-width":"180","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s((e.row.deliverAddress||{}).addressCode||(e.row.deliverAddress||{}).address)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"省份","min-width":"180","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s((e.row.deliverAddress||{}).stateName)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"总体积","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.singleVolume)+" m³\n        ")]}}])}),a("el-table-column",{attrs:{label:"总重量","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.singleWeight)+" "+t._s(t.$fomatWeight((e.row.um||{}).umWeight))+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"总货值",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.singleValue)+" "+t._s((e.row.um||{}).currencyId)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"总件数",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.single)+"\n        ")]}}])}),a("el-table-column",{attrs:{prop:"realPiece",label:"实际件数",width:"160"}}),a("el-table-column",{attrs:{prop:"estimatePallet",label:"预计托数",width:"160"}}),a("el-table-column",{attrs:{prop:"realPallet",label:"实际托数",width:"160"}}),a("el-table-column",{attrs:{prop:"remarks",label:"备注",width:"160"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$checkPermission(["RemovalEdit"])?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("\n            编辑\n          ")]):t._e(),t.$checkPermission(["RemovalAudit"])&&[0,1,3].includes(e.row.status)?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleAudit(e.row,e.$index)}}},[t._v("\n            审核\n          ")]):t._e()]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":t.page,"page-size":t.size,layout:"total, prev, pager, next",total:t.total},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"编辑",visible:t.visible,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.dailogFormLoading,expression:"dailogFormLoading"}],ref:"dialogForm",attrs:{model:t.dialogForm,rules:t.formRules,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"实拆件数：",prop:"num"}},[a("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",size:"small",min:0,step:1,"step-strictly":""},model:{value:t.dialogForm.num,callback:function(e){t.$set(t.dialogForm,"num",e)},expression:"dialogForm.num"}})],1),a("el-form-item",{attrs:{label:"托盘数量：",prop:"realPallet"}},[a("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",size:"small",min:0,step:1,"step-strictly":""},model:{value:t.dialogForm.realPallet,callback:function(e){t.$set(t.dialogForm,"realPallet",e)},expression:"dialogForm.realPallet"}})],1),a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.dialogForm.remarks,callback:function(e){t.$set(t.dialogForm,"remarks",e)},expression:"dialogForm.remarks"}})],1)],1),a("div",{staticStyle:{"text-align":"right","padding-top":"0px"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",disabled:t.dailogFormLoading},on:{click:t.cancel}},[t._v("\n        取 消\n      ")]),a("el-button",{attrs:{type:"primary",size:"small",disabled:t.dailogFormLoading},on:{click:function(e){return t.save(1)}}},[t._v("\n        仅保存\n      ")]),a("el-button",{attrs:{type:"primary",size:"small",disabled:t.dailogFormLoading},on:{click:function(e){return t.save(2)}}},[t._v("\n        提交审核\n      ")])],1)],1),a("el-dialog",{attrs:{title:"审核",visible:t.visibleAudit,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(e){t.visibleAudit=e}}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.dailogFormLoading,expression:"dailogFormLoading"}],ref:"detail",attrs:{model:t.auditForm,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"审核结果：",required:""}},[a("el-radio-group",{model:{value:t.auditForm.realPallet,callback:function(e){t.$set(t.auditForm,"realPallet",e)},expression:"auditForm.realPallet"}},[a("el-radio",{attrs:{label:"2"}},[t._v("\n            通过\n          ")]),a("el-radio",{attrs:{label:"3"}},[t._v("\n            拒绝\n          ")])],1)],1),"3"===t.auditForm.realPallet?a("el-form-item",{attrs:{label:"拒绝原因：",required:""}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.auditForm.remarks,callback:function(e){t.$set(t.auditForm,"remarks",e)},expression:"auditForm.remarks"}})],1):t._e()],1),a("div",{staticStyle:{"text-align":"right","padding-top":"0px"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",disabled:t.dailogFormLoading},on:{click:t.cancel}},[t._v("\n        取 消\n      ")]),a("el-button",{attrs:{type:"primary",size:"small",disabled:t.dailogFormLoading},on:{click:function(e){return t.audit(!0)}}},[t._v("\n        确 认\n      ")])],1)],1)],1)},g=[],w=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(s["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.detailLoading=!1,t.visible=!1,t.visibleAudit=!1,t.dailogFormLoading=!1,t.showDialogRow={},t.form={},t.dialogForm={realPallet:0,num:0,remarks:""},t.auditForm={realPallet:"",num:"",remarks:""},t.formRules={num:[{required:!0,message:"实拆件数不能为空",trigger:"blur"}],realPallet:[{required:!0,message:"托盘数量不能为空",trigger:"blur"}]},t.page=1,t.size=10,t.total=0,t.tableList=[],t.statusList=[{id:0,name:"待审核"},{id:1,name:"审核中"},{id:2,name:"审核通过"},{id:3,name:"审核拒绝"}],t}return Object(c["a"])(e,t),Object(l["a"])(e,[{key:"audit",value:function(t){var e=this;if("3"!==this.auditForm.realPallet||this.auditForm.remarks){var a={id:this.showDialogRow.id,reason:this.auditForm.remarks,status:this.auditForm.realPallet};this.dailogFormLoading=t,Object(b["b"])(a).then(function(){e.dailogFormLoading=!1,t&&(e.$message.success("操作成功"),e.cancel(),e.getTableData())}).catch(function(){e.dailogFormLoading=!1})}else this.$message.error("拒绝原因不能为空")}},{key:"handleAudit",value:function(t,e){this.showDialogRow=t,this.auditForm={realPallet:"1",num:"",remarks:""},0===t.status&&(this.audit(!1),this.tableList[e].status=1),this.auditForm={realPallet:3===t.status?"3":"2",num:"",remarks:3===t.status?t.reason:""},this.visibleAudit=!0}},{key:"handleEdit",value:function(t){this.showDialogRow=t,this.dialogForm={realPallet:t.realPallet,num:t.realPiece,remarks:t.remarks},this.visible=!0}},{key:"cancel",value:function(){this.visible=!1,this.visibleAudit=!1,this.showDialogRow={},this.dialogForm={realPallet:0,num:0,remarks:""},this.auditForm={realPallet:"",num:"",remarks:""}}},{key:"save",value:function(t){var e=this,a=this.$refs.dialogForm;a.validate(function(a){if(!a)return!1;var r={flag:2===t,id:e.showDialogRow.id,realPallet:e.dialogForm.realPallet,realPiece:e.dialogForm.num,remarks:e.dialogForm.remarks};e.dailogFormLoading=!0,Object(b["e"])(r).then(function(){e.dailogFormLoading=!1,e.$message.success("操作成功"),e.cancel(),e.getTableData()}).catch(function(){e.dailogFormLoading=!1})})}},{key:"show",value:function(t){this.form=t,this.tableList=[],this.total=0,this.page=1,this.size=10,this.getTableData()}},{key:"getTableData",value:function(){var t=this,e={model:this.form.id,page:this.page,size:this.size};this.detailLoading=!0,Object(b["c"])(e).then(function(e){t.detailLoading=!1;var a=e.data||{};t.tableList=a.result||[],t.total=a.total}).catch(function(){t.detailLoading=!1})}},{key:"handleSizeChange",value:function(t){this.size=t,this.getTableData()}},{key:"handleCurrentChange",value:function(t){this.page=t,this.getTableData()}},{key:"custId",get:function(){var t=f["a"].info||{},e=t.custId;return e}},{key:"custType",get:function(){var t=f["a"].info||{},e=t.custType;return e}}]),e}(m["e"]);w=d["a"]([Object(m["a"])({name:"detail",components:{},props:{}})],w);var y=w,O=y,j=(a("0f32"),a("2877")),k=Object(j["a"])(O,v,g,!1,null,"0374e730",null),x=k.exports;function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)}return a}function S(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(a,!0).forEach(function(e){Object(o["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var F=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(s["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.searchForm={cabinetNo:"",status:"",applyTime:[]},t.tableData=[],t.total=0,t.page=1,t.size=10,t.loading=!1,t.detailShow=!1,t.statusList=[{id:0,name:"待拆柜"},{id:1,name:"拆柜中"},{id:2,name:"已完成"}],t}return Object(c["a"])(e,t),Object(l["a"])(e,[{key:"handleDetail",value:function(t){var e=this.$refs.detail;this.detailShow=!0,e.show(t)}},{key:"handleSearch",value:function(t){var e=this;1===t&&(this.page=t);var a={model:S({},this.searchForm),page:this.page,size:this.size},r=this.searchForm.applyTime;Array.isArray(r)&&r.length>0&&(a.model.start=r[0]+" 00:00:00",a.model.end=r[1]+" 23:59:59"),this.loading=!0,Object(b["d"])(a).then(function(t){var a=t.data||{};e.tableData=a.result||[],e.total=a.total,e.loading=!1}).catch(function(t){return e.loading=!1,[null,t]})}},{key:"handleSizeChange",value:function(t){this.size=t,this.handleSearch()}},{key:"handleCurrentChange",value:function(t){this.page=t,this.handleSearch()}},{key:"created",value:function(){this.searchForm.applyTime=[h()().subtract(30,"d").format("YYYY-MM-DD"),h()().format("YYYY-MM-DD")],this.handleSearch()}},{key:"custId",get:function(){var t=f["a"].info||{},e=t.custId;return e}},{key:"custType",get:function(){var t=f["a"].info||{},e=t.custType;return e}}]),e}(m["e"]);F=d["a"]([Object(m["a"])({name:"cabinetRemovalTask",components:{detail:x},props:{}})],F);var L=F,C=L,z=Object(j["a"])(C,r,n,!1,null,"c8437ac2",null);e["default"]=z.exports},b691:function(t,e,a){},b941:function(t,e,a){"use strict";a.d(e,"I",function(){return n}),a.d(e,"F",function(){return o}),a.d(e,"tb",function(){return i}),a.d(e,"G",function(){return l}),a.d(e,"J",function(){return s}),a.d(e,"ub",function(){return u}),a.d(e,"z",function(){return c}),a.d(e,"K",function(){return d}),a.d(e,"L",function(){return m}),a.d(e,"E",function(){return f}),a.d(e,"nb",function(){return p}),a.d(e,"x",function(){return h}),a.d(e,"Gb",function(){return b}),a.d(e,"Bb",function(){return v}),a.d(e,"Ab",function(){return g}),a.d(e,"Y",function(){return w}),a.d(e,"X",function(){return y}),a.d(e,"e",function(){return O}),a.d(e,"W",function(){return j}),a.d(e,"a",function(){return k}),a.d(e,"Ub",function(){return x}),a.d(e,"ec",function(){return _}),a.d(e,"n",function(){return S}),a.d(e,"Q",function(){return F}),a.d(e,"w",function(){return L}),a.d(e,"Qb",function(){return C}),a.d(e,"yb",function(){return z}),a.d(e,"xb",function(){return T}),a.d(e,"ab",function(){return D}),a.d(e,"bb",function(){return P}),a.d(e,"d",function(){return I}),a.d(e,"g",function(){return N}),a.d(e,"o",function(){return M}),a.d(e,"Rb",function(){return $}),a.d(e,"fb",function(){return A}),a.d(e,"cb",function(){return E}),a.d(e,"eb",function(){return R}),a.d(e,"db",function(){return Y}),a.d(e,"bc",function(){return W}),a.d(e,"j",function(){return B}),a.d(e,"cc",function(){return q}),a.d(e,"T",function(){return U}),a.d(e,"Pb",function(){return V}),a.d(e,"R",function(){return G}),a.d(e,"S",function(){return H}),a.d(e,"y",function(){return J}),a.d(e,"Kb",function(){return Q}),a.d(e,"dc",function(){return K}),a.d(e,"v",function(){return X}),a.d(e,"Cb",function(){return Z}),a.d(e,"wb",function(){return tt}),a.d(e,"h",function(){return et}),a.d(e,"f",function(){return at}),a.d(e,"fc",function(){return rt}),a.d(e,"Lb",function(){return nt}),a.d(e,"i",function(){return ot}),a.d(e,"vb",function(){return it}),a.d(e,"P",function(){return lt}),a.d(e,"N",function(){return st}),a.d(e,"O",function(){return ut}),a.d(e,"A",function(){return ct}),a.d(e,"Db",function(){return dt}),a.d(e,"Eb",function(){return mt}),a.d(e,"Wb",function(){return ft}),a.d(e,"s",function(){return pt}),a.d(e,"k",function(){return ht}),a.d(e,"hb",function(){return bt}),a.d(e,"Ib",function(){return vt}),a.d(e,"Hb",function(){return gt}),a.d(e,"ob",function(){return wt}),a.d(e,"Yb",function(){return yt}),a.d(e,"t",function(){return Ot}),a.d(e,"zb",function(){return jt}),a.d(e,"jb",function(){return kt}),a.d(e,"Vb",function(){return xt}),a.d(e,"r",function(){return _t}),a.d(e,"qb",function(){return St}),a.d(e,"sb",function(){return Ft}),a.d(e,"kb",function(){return Lt}),a.d(e,"Mb",function(){return Ct}),a.d(e,"l",function(){return zt}),a.d(e,"H",function(){return Tt}),a.d(e,"Jb",function(){return Dt}),a.d(e,"rb",function(){return Pt}),a.d(e,"Zb",function(){return It}),a.d(e,"u",function(){return Nt}),a.d(e,"ib",function(){return Mt}),a.d(e,"pb",function(){return $t}),a.d(e,"Sb",function(){return At}),a.d(e,"p",function(){return Et}),a.d(e,"gb",function(){return Rt}),a.d(e,"ac",function(){return Yt}),a.d(e,"Z",function(){return Wt}),a.d(e,"Nb",function(){return Bt}),a.d(e,"mb",function(){return qt}),a.d(e,"lb",function(){return Ut}),a.d(e,"Tb",function(){return Vt}),a.d(e,"q",function(){return Gt}),a.d(e,"M",function(){return Ht}),a.d(e,"Ob",function(){return Jt}),a.d(e,"m",function(){return Qt}),a.d(e,"Fb",function(){return Kt}),a.d(e,"Xb",function(){return Xt}),a.d(e,"b",function(){return Zt}),a.d(e,"c",function(){return te}),a.d(e,"B",function(){return ee}),a.d(e,"D",function(){return ae}),a.d(e,"C",function(){return re}),a.d(e,"V",function(){return ne}),a.d(e,"U",function(){return oe});var r=a("b32d");function n(){var t={url:"/setting/area/getCountryList",method:"get"};return Object(r["a"])(t)}function o(t){var e={url:"/setting/area/getCityByStates",method:"post",data:t};return Object(r["a"])(e)}function i(t){var e={url:"/setting/area/getStateByCountry",method:"get",params:{countryId:t}};return Object(r["a"])(e)}function l(t){var e={url:"/setting/area/getCityByState",method:"get",params:{stateId:t}};return Object(r["a"])(e)}function s(t){var e={url:"/setting/area/getCountyByCity",method:"get",params:{cityId:t}};return Object(r["a"])(e)}function u(t){var e={url:"/auth/supplier/getSupplierList",method:"get",params:t};return Object(r["a"])(e)}function c(t){var e={url:"/auth/agent/getAgentList",method:"get",params:t};return Object(r["a"])(e)}function d(t){var e={url:"/auth/customer/customer",method:"post",data:t};return Object(r["a"])(e)}function m(t){var e={url:"/auth/dept/getDeptList",method:"get",params:t};return Object(r["a"])(e)}function f(t){var e={url:"wms/warehouse/contain",method:"get",params:t};return Object(r["a"])(e)}function p(t){var e={url:"/cfg/type/getServiceTypeList",method:"get",params:t};return Object(r["a"])(e)}function h(t){var e={url:"/setting/currency/getCurrencyList",method:"get",params:t};return Object(r["a"])(e)}function b(t){var e={url:"/setting/dict/item/type",method:"get",params:t};return Object(r["a"])(e)}function v(t){var e={url:"/wms/unload/page",method:"post",data:t};return Object(r["a"])(e)}function g(t){var e={url:"/wms/unload/get",method:"get",params:t};return Object(r["a"])(e)}function w(t){var e={url:"/wms/measure/page",method:"post",data:t};return Object(r["a"])(e)}function y(t){var e={url:"/wms/measure/pageDetail",method:"post",data:t};return Object(r["a"])(e)}function O(t){var e={url:"/wms/measure/e",method:"post",data:t};return Object(r["a"])(e)}function j(t){var e={url:"/wms/measure/get",method:"get",params:t};return Object(r["a"])(e)}function k(t){var e={url:"/wms/measure/detail/save",method:"post",data:t};return Object(r["a"])(e)}function x(t){var e={url:"/wms/measure/detail/update",method:"post",data:t};return Object(r["a"])(e)}function _(t){var e={url:"/wms/measure/c",method:"get",params:t};return Object(r["a"])(e)}function S(t){var e={url:"/wms/measure/delList",method:"post",data:t};return Object(r["a"])(e)}function F(t){var e={url:"/wms/measure/export",method:"post",responseType:"blob",params:t};return Object(r["a"])(e)}function L(t){var e={url:"/wms/measure/export1",method:"post",responseType:"blob",data:t};return Object(r["a"])(e)}function C(t){var e={url:"wms/measure/recopy",method:"get",params:t};return Object(r["a"])(e)}function z(t){var e={url:"/wms/towage/page",method:"post",data:t};return Object(r["a"])(e)}function T(t){var e={url:"/wms/towage/get",method:"get",params:t};return Object(r["a"])(e)}function D(t){var e={url:"/orders/allocation/task_page",method:"post",data:t};return Object(r["a"])(e)}function P(t){var e={url:"/orders/allocation/get_details",method:"get",params:t};return Object(r["a"])(e)}function I(t){var e={url:"/orders/allocation/audit",method:"post",data:t};return Object(r["a"])(e)}function N(t){var e={url:"/orders/allocation/cancel",method:"get",params:t};return Object(r["a"])(e)}function M(t){var e={url:"/orders/allocation/delete",method:"get",params:t};return Object(r["a"])(e)}function $(t){var e={url:"/orders/allocation/save",method:"post",data:t};return Object(r["a"])(e)}function A(t){var e={url:"/orders/pallet/getPallet",method:"post",data:t};return Object(r["a"])(e)}function E(t){var e={url:"/orders/worder/getOrderList",method:"post",data:t};return Object(r["a"])(e)}function R(t){var e={url:"/orders/outorder/getOrderList",method:"post",data:t};return Object(r["a"])(e)}function Y(t){var e={url:"/orders/outorder/getOutOrder",method:"get",params:t};return Object(r["a"])(e)}function W(t){var e={url:"/orders/outorder/audit",method:"post",data:t};return Object(r["a"])(e)}function B(t){var e={url:"/orders/outorder/complete",method:"post",data:t};return Object(r["a"])(e)}function q(t){var e={url:"/orders/outorder/generateOrder",method:"post",data:t};return Object(r["a"])(e)}function U(t){var e={url:"/wms/inventory/getOrderList",method:"post",data:t};return Object(r["a"])(e)}function V(t){var e={url:"/wms/inventory/save",method:"post",data:t};return Object(r["a"])(e)}function G(t){var e={url:"/wms/inventory/findById",method:"post",data:t};return Object(r["a"])(e)}function H(t){var e={url:"/wms/inventory/getInventoryById",method:"get",params:t};return Object(r["a"])(e)}function J(t){var e={url:"/wms/inventory/query",method:"post",data:t};return Object(r["a"])(e)}function Q(t){var e={url:"/wms/inventory/queryUnloadOrder",method:"post",data:t};return Object(r["a"])(e)}function K(t){var e={url:"/wms/inventory/update",method:"post",data:t};return Object(r["a"])(e)}function X(t){var e={url:"/wms/inventory/doInventoryTask",method:"post",data:t};return Object(r["a"])(e)}function Z(t){var e={url:"/wms/warehouse/getUserByWarehouseId",method:"get",params:t};return Object(r["a"])(e)}function tt(t){var e={url:"/wms/inventory/getTasks",method:"get",params:t};return Object(r["a"])(e)}function et(t){var e={url:"/wms/inventory/cancelTask",method:"get",params:t};return Object(r["a"])(e)}function at(t){var e={url:"/wms/inventory/cancelInventory",method:"post",params:t};return Object(r["a"])(e)}function rt(t){var e={url:"/wms/inventory/workInventory",method:"post",params:t};return Object(r["a"])(e)}function nt(t){var e={url:"/wms/inventory/release",method:"get",params:t};return Object(r["a"])(e)}function ot(t){var e={url:"/wms/inventory/cancelTaskInfo",method:"get",params:t};return Object(r["a"])(e)}function it(t){var e={url:"/wms/inventory/getTaskInfoById",method:"get",params:t};return Object(r["a"])(e)}function lt(t){var e={url:"/wms/examining/page",method:"post",data:t};return Object(r["a"])(e)}function st(t){var e={url:"/wms/examining/get",method:"get",params:t};return Object(r["a"])(e)}function ut(t){var e={url:"/wms/examining",method:"get",params:t};return Object(r["a"])(e)}function ct(t){var e={url:"",method:"post",data:t};return Object(r["a"])(e)}function dt(t){var e={url:"/wms/warehouse/getWarehouse",method:"get",params:t};return Object(r["a"])(e)}function mt(t){var e={url:"/wms/warehouse/getWarehouseList",method:"post",data:t};return Object(r["a"])(e)}function ft(t){var e={url:"/wms/warehouse/saveWarehouse",method:"post",data:t};return Object(r["a"])(e)}function pt(t){var e={url:"/wms/warehouse/deleteWarehouse",method:"delete",params:t};return Object(r["a"])(e)}function ht(t){var e={url:"/wms/warehouse/changeStatus",method:"post",params:t};return Object(r["a"])(e)}function bt(t){var e={url:"/auth/post/getPostList",method:"get",params:t};return Object(r["a"])(e)}function vt(t){var e={url:"/wms/workCenter/getWorkCenterList",method:"post",data:t};return Object(r["a"])(e)}function gt(t){var e={url:"/wms/workCenter/getList",method:"get",params:t};return Object(r["a"])(e)}function wt(t){var e={url:"/wms/workCenter/get",method:"get",params:t};return Object(r["a"])(e)}function yt(t){var e={url:"/wms/workCenter/saveWorkCenter",method:"post",data:t};return Object(r["a"])(e)}function Ot(t){var e={url:"/wms/workCenter/deleteWorkCenter",method:"delete",params:t};return Object(r["a"])(e)}function jt(t){var e={url:"/wms/transit/getTransitPage",method:"post",data:t};return Object(r["a"])(e)}function kt(t){var e={url:"wms/warehouse/list",method:"get",params:t};return Object(r["a"])(e)}function xt(t){var e={url:"/wms/transit/saveTransit",method:"post",data:t};return Object(r["a"])(e)}function _t(t){var e={url:"/wms/transit/deleteTransit",method:"delete",params:t};return Object(r["a"])(e)}function St(t){var e={url:"/wms/transit/get",method:"get",params:t};return Object(r["a"])(e)}function Ft(t){var e={url:"/cfg/ssc/getSscList",method:"get",params:t};return Object(r["a"])(e)}function Lt(t){var e={url:"/wms/bin/getTree",method:"get",params:t};return Object(r["a"])(e)}function Ct(t){var e={url:"/wms/bin/saveBin",method:"post",data:t};return Object(r["a"])(e)}function zt(t){var e={url:"/wms/bin/del",method:"delete",params:t};return Object(r["a"])(e)}function Tt(t){var e={url:"/wms/shift/list",method:"get",params:t};return Object(r["a"])(e)}function Dt(t){var e={url:"/wms/wss/page",method:"post",data:t};return Object(r["a"])(e)}function Pt(t){var e={url:"/wms/wss/get",method:"get",params:t};return Object(r["a"])(e)}function It(t){var e={url:"/wms/wss/addWorkShifts",method:"post",data:t};return Object(r["a"])(e)}function Nt(t){var e={url:"/wms/wss/del",method:"delete",params:t};return Object(r["a"])(e)}function Mt(t){var e={url:"/wms/rot/findByPage",method:"post",data:t};return Object(r["a"])(e)}function $t(t){var e={url:"/wms/rot/get",method:"get",params:t};return Object(r["a"])(e)}function At(t){var e={url:"/wms/rot/addRotation",method:"post",data:t};return Object(r["a"])(e)}function Et(t){var e={url:"/wms/rot/del",method:"delete",params:t};return Object(r["a"])(e)}function Rt(t){var e={url:"/auth/user/user4position",method:"post",data:t};return Object(r["a"])(e)}function Yt(t){var e={url:"/wms/shift/create",method:"post",data:t};return Object(r["a"])(e)}function Wt(t){var e={url:"/wms/shift/view",method:"post",data:t};return Object(r["a"])(e)}function Bt(t){var e={url:"/wms/shift/update",method:"post",data:t};return Object(r["a"])(e)}function qt(t){var e={url:"/wms/shift/page",method:"post",data:t};return Object(r["a"])(e)}function Ut(t){var e={url:"/wms/shift/list",method:"get",params:t};return Object(r["a"])(e)}function Vt(t){var e={url:"/wms/shift/addShift",method:"post",data:t};return Object(r["a"])(e)}function Gt(t){var e={url:"/wms/shift/del",method:"delete",params:t};return Object(r["a"])(e)}function Ht(t){var e={url:"/wms/discharge/list",method:"get",params:t};return Object(r["a"])(e)}function Jt(t){var e={url:"wms/discharge/save",method:"post",data:t};return Object(r["a"])(e)}function Qt(t){var e={url:"/wms/discharge/del",method:"delete",params:t};return Object(r["a"])(e)}function Kt(t){var e={url:"/wms/warehouse/terms",method:"get",params:t};return Object(r["a"])(e)}function Xt(t){var e={url:"/wms/warehouse/terms/save",method:"post",data:t};return Object(r["a"])(e)}function Zt(t){var e={url:"orders/allocation/exportAllocation2",responseType:"blob",method:"get",params:t};return Object(r["a"])(e)}function te(t){var e={url:"/orders/outorder/exportWsOut",responseType:"blob",method:"get",params:t};return Object(r["a"])(e)}function ee(t){var e={url:"/express/web/expressorder/s",responseType:"blob",method:"get",params:t};return Object(r["a"])(e)}function ae(t){var e={url:"/express/b/page",method:"post",data:t};return Object(r["a"])(e)}function re(t){var e={url:"/express/b/get",method:"get",params:t};return Object(r["a"])(e)}function ne(t){var e={url:"/cfg/lsc/getLscGroupList",method:"post",data:t};return Object(r["a"])(e)}function oe(t){var e={url:"/cfg/lsc/getLscGroupItems",method:"get",params:t};return Object(r["a"])(e)}},beb1:function(t,e,a){"use strict";var r=a("228b"),n=a.n(r);n.a},f0a7:function(t,e,a){"use strict";var r=a("b691"),n=a.n(r);n.a},fbaa:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"picking-form",staticStyle:{display:"flex","flex-flow":"row nowrap","min-height":"inherit"}},[a("div",{staticClass:"dashboard-container",staticStyle:{flex:"1",overflow:"auto"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.detailShow,expression:"!detailShow"}],staticClass:"app-container"},[a("head-info",{attrs:{info:"",title:"拖托任务单"}}),a("div",{staticClass:"app-panel"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["printSupportingLabel"],expression:"['printSupportingLabel']"}],attrs:{type:"text",size:"small"},on:{click:t.showPrintModal}},[t._v("\n              打印托标\n            ")])],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:20}},[a("el-input",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{size:"small",placeholder:"任务单号"},model:{value:t.searchForm.towageNo,callback:function(e){t.$set(t.searchForm,"towageNo",e)},expression:"searchForm.towageNo"}}),a("el-input",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{size:"small",placeholder:"拖托人"},model:{value:t.searchForm.pickerId,callback:function(e){t.$set(t.searchForm,"pickerId",e)},expression:"searchForm.pickerId"}}),a("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{placeholder:"任务类型",size:"small",clearable:""},model:{value:t.searchForm.towageMethod,callback:function(e){t.$set(t.searchForm,"towageMethod",e)},expression:"searchForm.towageMethod"}},[a("el-option",{attrs:{label:"入库",value:"1"}}),a("el-option",{attrs:{label:"出库",value:"2"}}),a("el-option",{attrs:{label:"移库",value:"3"}}),a("el-option",{attrs:{label:"计量拖托",value:"4"}})],1),a("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{placeholder:"状态",size:"small",clearable:""},model:{value:t.searchForm.status,callback:function(e){t.$set(t.searchForm,"status",e)},expression:"searchForm.status"}},[a("el-option",{attrs:{label:"待执行",value:"1"}}),a("el-option",{attrs:{label:"执行中",value:"2"}}),a("el-option",{attrs:{label:"已完成",value:"3"}})],1),a("el-date-picker",{staticStyle:{width:"240px","margin-right":"10px"},attrs:{clearable:!1,"unlink-panels":"",type:"daterange","value-format":"yyyy-MM-dd",align:"right",size:"small","range-separator":"~","start-placeholder":"创建起始时间","end-placeholder":"创建截止时间"},model:{value:t.searchForm.createTime,callback:function(e){t.$set(t.searchForm,"createTime",e)},expression:"searchForm.createTime"}}),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseMeasureQuery"],expression:"['warehouseMeasureQuery']"}],attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleSearch(1)}}},[t._v("\n              查询\n            ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:t.tableData,height:"calc(100vh - 313px)",border:""}},[a("el-table-column",{attrs:{prop:"towageNo",label:"拖托任务单号","min-width":"140px"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?a("div",[t._v("\n                待执行\n              ")]):2===e.row.status?a("div",[t._v("\n                执行中\n              ")]):3===e.row.status?a("div",[t._v("\n                已完成\n              ")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"towageMethod",label:"任务类型",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.towageMethod?a("div",[t._v("\n                入库\n              ")]):2===e.row.towageMethod?a("div",[t._v("\n                出库\n              ")]):3===e.row.towageMethod?a("div",[t._v("\n                移库\n              ")]):4===e.row.towageMethod?a("div",[t._v("\n                计量拖托\n              ")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"createTime",width:"180px",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"expectedFinishTime",width:"180px",label:"要求完成时间"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseTowageView"],expression:"['warehouseTowageView']"}],attrs:{type:"text"},on:{click:function(a){return t.handleDetail(e.row)}}},[t._v("\n                查看详情\n              ")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":t.page,"page-size":t.size,layout:"total, prev, pager, next",total:t.total},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.detailShow,expression:"detailShow"}],staticClass:"app-container"},[a("detail",{ref:"detailForm",on:{back:function(e){t.detailShow=!1}}})],1)]),a("el-dialog",{attrs:{title:"打印托标",visible:t.visible,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingForm,expression:"loadingForm"}],ref:"form",staticStyle:{"padding-right":"20px"},attrs:{model:t.form,rules:t.rules,"label-width":"80px",size:"small"}},[a("el-form-item",{attrs:{label:"仓库",prop:"wh"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small"},on:{change:t.whChange},model:{value:t.form.wh,callback:function(e){t.$set(t.form,"wh",e)},expression:"form.wh"}},t._l(t.warehouseList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),a("el-form-item",{attrs:{label:"数量",prop:"icount"}},[a("el-input",{attrs:{clearable:"",placeholder:"最大限制100",maxlength:20},model:{value:t.form.icount,callback:function(e){t.$set(t.form,"icount",e)},expression:"form.icount"}})],1)],1),a("div",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:t.loadingForm,size:"small"},on:{click:function(e){t.visible=!1}}},[t._v("\n        取消\n      ")]),a("el-button",{attrs:{type:"primary",disabled:t.loadingForm,size:"small"},on:{click:t.onPrint}},[t._v("\n        打印\n      ")])],1),a("div",{staticStyle:{position:"fixed",top:"-99999px",left:"-10000px"}},[a("svg",{attrs:{id:"svg-wrap",xmlns:"http://www.w3.org/2000/svg",version:"1.1"}},[a("g",[a("line",{attrs:{x1:"2",y1:"80",x2:"423",y2:"80",stroke:"#000","stroke-width":"1"}}),a("rect",{attrs:{x:"2",y:"2",width:"421",height:"280",stroke:"#000","stroke-width":"1",fill:"rgb(0, 0, 0)","fill-opacity":"0"}}),a("text",{attrs:{x:"212",y:"40","text-anchor":"middle","dominant-baseline":"middle"}},[t._v("\n            "+t._s(t.form.whName)+"\n          ")])])])])],1)],1)},n=[],o=a("a8db"),i=(a("c5f6"),a("96cf"),a("3b8d")),l=(a("7f7f"),a("7514"),a("28a5"),a("6b54"),a("d225")),s=a("b0b4"),u=a("308d"),c=a("6bb5"),d=a("4e2b"),m=a("9ab4"),f=a("60a3"),p=a("9dba"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.detailLoading,expression:"detailLoading"}]},[a("div",{staticClass:"detail-back"},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.$emit("back")}}},[a("i",{staticClass:"el-icon-back"}),a("span",[t._v("返回")])])]),a("div",{staticClass:"app-panel order-detail"},[a("div",{staticClass:"detail-trailer"},[t._v("\n      拖托任务单详细信息\n    ")]),a("el-form",{ref:"detail",staticClass:"detail-form",attrs:{model:t.form,"label-width":"120px","label-position":"right"}},[a("el-form-item",{attrs:{label:"拖托任务单号："}},[t._v("\n        "+t._s(t.form.towageNo)+"\n      ")]),a("el-form-item",{attrs:{label:"任务类型："}},[1===t.form.towageMethod?a("span",[t._v("\n          入库\n        ")]):2===t.form.towageMethod?a("span",[t._v("\n          出库\n        ")]):3===t.form.towageMethod?a("span",[t._v("\n          移库\n        ")]):4===t.form.towageMethod?a("span",[t._v("\n          计量拖托\n        ")]):t._e()]),a("el-form-item",{attrs:{label:"状态："}},[1===t.form.status?a("span",[t._v("\n          待执行\n        ")]):2===t.form.status?a("span",[t._v("\n          执行中\n        ")]):3===t.form.status?a("span",[t._v("\n          已完成\n        ")]):t._e()]),a("el-form-item",{attrs:{label:"创建时间："}},[t._v("\n        "+t._s(t.form.createTime)+"\n      ")]),a("el-form-item",{attrs:{label:"要求完成时间："}},[t._v("\n        "+t._s(t.form.expectedFinishTime)+"\n      ")])],1),a("div",{staticStyle:{"line-height":"50px","border-top":"1px solid #e8e8e8"}},[t._v("\n      托盘明细\n    ")]),a("el-table",{staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"towageNo",label:"拖托任务单号"}}),a("el-table-column",{attrs:{prop:"equipment",label:"托盘/中转箱"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.equipment?a("div",[t._v("\n            托盘\n          ")]):2===e.row.equipment?a("div",[t._v("\n            中转箱\n          ")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"palletNo",label:"托盘ID/中转箱ID"}}),a("el-table-column",{attrs:{prop:"status",label:"托盘状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?a("div",[t._v("\n            待执行\n          ")]):2===e.row.status?a("div",[t._v("\n            执行中\n          ")]):3===e.row.status?a("div",[t._v("\n            已完成\n          ")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"startingArea",label:"起始区域"}}),a("el-table-column",{attrs:{prop:"storageLocation",label:"目的区域"}}),a("el-table-column",{attrs:{prop:"finishTime",label:"完成时间",width:"180px"}})],1)],1)])},b=[],v=a("b941"),g=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.form={towageNo:void 0,towageMethod:void 0,status:void 0,createTime:void 0,expectedFinishTime:void 0},t.tableData=[],t.detailLoading=!1,t.trailerId="",t}return Object(d["a"])(e,t),Object(s["a"])(e,[{key:"setData",value:function(t){this.trailerId=t.towageNo||"",this.getDetail()}},{key:"getDetail",value:function(){var t=this;this.detailLoading=!0,Object(v["xb"])({towageNo:this.trailerId}).then(function(e){var a=e.data||{},r=a.details,n=Object(o["a"])(a,["details"]);t.form=n||{},t.tableData=r||[],t.detailLoading=!1}).catch(function(e){return t.detailLoading=!1,[null,e]})}}]),e}(f["e"]);g=m["a"]([Object(f["a"])({name:"detail",components:{},props:{}})],g);var w=g,y=w,O=(a("f0a7"),a("2877")),j=Object(O["a"])(y,h,b,!1,null,"47fa41da",null),k=j.exports,x=a("5a0c"),_=a.n(x),S=a("62c5"),F=a.n(S),L=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.loadingForm=!1,t.searchForm={towageId:void 0,pickerId:void 0,status:void 0,towageMethod:void 0,timeStart:void 0,timeEnd:void 0,createTime:[]},t.tableData=[],t.total=0,t.page=1,t.size=10,t.loading=!1,t.detailShow=!1,t.visible=!1,t.warehouseList=[],t.form={wh:"",icount:"",whName:""},t.rules={wh:{required:!0,message:"请选择仓库",trigger:"change"},icount:[{required:!0,message:"请输入数量",trigger:"change"},{validator:t.validateIcount,trigger:"blur"}]},t}return Object(d["a"])(e,t),Object(s["a"])(e,[{key:"getUUID",value:function(){var t=URL.createObjectURL(new Blob),e=t.toString();URL.revokeObjectURL(t);var a=e.substr(e.lastIndexOf("/")+1).split("-").join("");return a.substr(0,20)}},{key:"showPrintModal",value:function(){this.form={wh:"",icount:"",whName:""},this.visible=!0,this.getWarehouseList()}},{key:"getWarehouseList",value:function(){var t=this;Object(v["Eb"])({model:{custId:this.custId},page:1,size:9999}).then(function(e){var a=e.data||{};t.warehouseList=a.result||[]}).catch(function(e){return t.warehouseList=[],e})}},{key:"whChange",value:function(){var t=this;this.form.whName="";var e=this.warehouseList.find(function(e){return e.id===t.form.wh});e&&(this.form.whName=e.name)}},{key:"onPrint",value:function(){var t=this,e=this.$refs.form;e.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(a){var r,n,o,i,l,s,u,c,d,m,f,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a){for(t.$message.info("文件生成中..."),r=425,n=284,o=window.pdfMake,i=document.createElementNS("http://www.w3.org/2000/svg","svg"),l=document.getElementById("svg-wrap"),s=[],u=0;u<t.form.icount;u++)c=document.createElement("div"),d=l.cloneNode(!0),m=t.getUUID().toUpperCase(),F()(i,m,{width:1.5,margin:1}),i.setAttribute("x",(r-i.width.animVal.value)/2),i.setAttribute("y",(n-i.height.animVal.value)/2+40),d.appendChild(i),c.appendChild(d),f=[{svg:c.innerHTML,width:r,height:n,x:0,y:0,margin:0}],0!==u&&u!==t.form.icount-1&&(f[f.length-1].pageBreak="after"),s=s.concat(f);p=o.createPdf({pageSize:{width:r,height:n},pageMargins:{top:0,left:0,bottom:0,right:0},content:s,defaultStyle:{font:"SourceHanSansCN"}}),p.open()}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},{key:"validateIcount",value:function(t,e,a){if(e){var r=/^\d+$/;if(r.test(e)){var n=Number(e);n>100?a(new Error("数量超过最大限制")):0===n?a(new Error("数量不能为0")):a()}else a(new Error("数量格式不正确"))}else a(new Error("请输入数量"))}},{key:"handleSearch",value:function(t){var e=this;this.loading=!0;var a=this.searchForm,r=a.createTime,n=Object(o["a"])(a,["createTime"]);Array.isArray(r)&&r.length>0&&(n.timeStart=r[0],n.timeEnd=r[1]),t&&(this.page=t);var i={model:n,page:this.page,size:this.size};Object(v["yb"])(i).then(function(t){var a=t.data||{};e.tableData=a.result||[],e.total=a.total,e.loading=!1}).catch(function(t){return e.loading=!1,[null,t]})}},{key:"handleDetail",value:function(t){this.detailShow=!0;var e=this.$refs.detailForm;e.setData(t)}},{key:"handleSizeChange",value:function(t){this.size=t,this.handleSearch()}},{key:"handleCurrentChange",value:function(t){this.page=t,this.handleSearch()}},{key:"created",value:function(){this.searchForm.createTime=[_()().subtract(30,"d").format("YYYY-MM-DD"),_()().format("YYYY-MM-DD")],this.handleSearch()}},{key:"custId",get:function(){var t=p["a"].info||{},e=t.custId;return e}}]),e}(f["e"]);L=m["a"]([Object(f["a"])({name:"trailer",components:{detail:k},props:{}})],L);var C=L,z=C,T=(a("beb1"),Object(O["a"])(z,r,n,!1,null,"7ea9d326",null));e["default"]=T.exports}}]);