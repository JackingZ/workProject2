(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["charge-config"],{"2f54":function(e,t,r){"use strict";var l=r("9acd"),a=r.n(l);a.a},"9acd":function(e,t,r){},ee09:function(e,t,r){"use strict";r.r(t);var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","min-height":"inherit"}},[r("div",{staticClass:"dashboard-container",staticStyle:{flex:"1",overflow:"auto"}},[r("div",{staticClass:"app-container"},[r("head-info",{attrs:{info:"",title:"计费配置"}}),r("div",{staticClass:"app-panel"},[r("el-tabs",{attrs:{"tab-position":"top"},on:{"tab-click":e.onType},model:{value:e.chargeType,callback:function(t){e.chargeType=t},expression:"chargeType"}},[e.$checkPermission(["expressOfferWeightDel","expressOfferWeightQuery","expressOfferWeightAdd","expressOfferWeightUpdate"])?r("el-tab-pane",{attrs:{label:"重量计费",name:"0"}},[r("el-row",[r("el-col",{attrs:{span:4}},[r("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["expressOfferWeightAdd"],expression:"['expressOfferWeightAdd']"}],attrs:{type:"text",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.addRow}},[e._v("\n                  新增\n                ")])],1),r("el-col",{staticStyle:{"text-align":"right"},attrs:{span:20}},[r("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["expressOfferWeightAdd"],expression:"['expressOfferWeightAdd']"}],attrs:{type:"primary",size:"small"},on:{click:function(t){return e.getTableData(1)}}},[e._v("\n                  查询\n                ")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.list,height:"calc(100vh - 350px)",border:""}},[r("el-table-column",{attrs:{label:"计费方式名称",prop:"name"}}),r("el-table-column",{attrs:{label:"计量误差率",width:"100",prop:"deviation"}}),r("el-table-column",{attrs:{label:"体积比",width:"100",prop:"vw"}}),r("el-table-column",{attrs:{label:"结算重量算法",prop:"algorithm"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.algorithm?r("span",[e._v("取实重")]):e._e(),"1"===t.row.algorithm?r("span",[e._v("取实重或体积重的最大值")]):e._e(),"2"===t.row.algorithm?r("span",[e._v("取实重或体积重的平均值")]):e._e()]}}],null,!1,1091430659)}),r("el-table-column",{attrs:{label:"多件重量算法",prop:"multiWeight"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.algorithm&&"0"===t.row.multiWeight?r("span",[e._v("先累加后比较")]):e._e(),"1"===t.row.algorithm&&"1"===t.row.multiWeight?r("span",[e._v("先比较后累加")]):e._e(),"1"!==t.row.algorithm?r("span",[e._v("--")]):e._e()]}}],null,!1,1298492362)}),r("el-table-column",{attrs:{label:"分泡比率",prop:"bulky",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.bubble?r("span",[e._v(e._s(t.row.bulky))]):r("span",[e._v("--")])]}}],null,!1,431871142)}),r("el-table-column",{attrs:{label:"分泡条件",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.bubble?r("div",[t.row.bubbleRule1Check&&Number.isFinite(t.row.bubbleRule1)?r("div",[e._v("\n                      总实重 ≥ "+e._s(t.row.bubbleRule1)+"kg\n                    ")]):e._e(),t.row.bubbleRule2Check&&Number.isFinite(t.row.bubbleRule2)?r("div",[e._v("\n                      单票货物 1m³ >= "+e._s(t.row.bubbleRule2)+"kg且1m³ ＜ 167kg\n                    ")]):e._e()]):r("div",[e._v("\n                    --\n                  ")])]}}],null,!1,3854598444)}),r("el-table-column",{attrs:{label:"单箱重量",prop:"sbmc"}}),r("el-table-column",{attrs:{label:"单票重量",prop:"simc"}}),r("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[("0"===e.custType&&"0"===(t.row.agent||{}).key||"0"!==(t.row.agent||{}).key)&&e.$checkPermission(["expressOfferWeightUpdate"])?r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.editRow(t.row)}}},[e._v("\n                    编辑\n                  ")]):e._e(),("0"===e.custType&&"0"===(t.row.agent||{}).key||"0"!==(t.row.agent||{}).key)&&e.$checkPermission(["expressOfferWeightDel"])?r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.deleteRow(t.row.id)}}},[e._v("\n                    删除\n                  ")]):r("span",{staticStyle:{color:"#aaa"}},[e._v("\n                    系统内置\n                  ")])]}}],null,!1,1554871894)})],1),r("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.page,"page-size":e.size,layout:"total, prev, pager, next",total:e.total},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e(),e.$checkPermission(["expressOfferDel","expressOfferQuery","expressOfferAdd","expressOfferUpdate"])?r("el-tab-pane",{attrs:{label:"体积计费",name:"1"}},[r("el-row",[r("el-col",{attrs:{span:4}},[r("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["expressOfferAdd"],expression:"['expressOfferAdd']"}],attrs:{type:"text",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:e.addRow}},[e._v("\n                  新增\n                ")])],1),r("el-col",{staticStyle:{"text-align":"right"},attrs:{span:20}},[r("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["expressOfferQuery"],expression:"['expressOfferQuery']"}],attrs:{type:"primary",size:"small"},on:{click:function(t){return e.getTableData(1)}}},[e._v("\n                  查询\n                ")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.list,height:"calc(100vh - 350px)",border:""}},[r("el-table-column",{attrs:{label:"计费方式名称",prop:"name"}}),r("el-table-column",{attrs:{label:"计量误差率",prop:"deviation"}}),r("el-table-column",{attrs:{label:"体积密度",prop:"density"}}),r("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[("0"===e.custType&&"0"===(t.row.agent||{}).key||"0"!==(t.row.agent||{}).key)&&e.$checkPermission(["expressOfferUpdate"])?r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.editRow(t.row)}}},[e._v("\n                    编辑\n                  ")]):e._e(),("0"===e.custType&&"0"===(t.row.agent||{}).key||"0"!==(t.row.agent||{}).key)&&e.$checkPermission(["expressOfferDel"])?r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.deleteRow(t.row.id)}}},[e._v("\n                    删除\n                  ")]):r("span",{staticStyle:{color:"#aaa"}},[e._v("\n                    系统内置\n                  ")])]}}],null,!1,29343766)})],1),r("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.page,"page-size":e.size,layout:"total, prev, pager, next",total:e.total},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1),r("el-dialog",{attrs:{title:e.title,width:"600px",visible:e.formShow,"close-on-click-modal":!1},on:{"update:visible":function(t){e.formShow=t},closed:e.cancel}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}]},[r("div",{staticStyle:{"max-height":"450px","overflow-y":"auto"}},[r("el-form",{ref:"ruleForm",staticStyle:{"padding-right":"20px"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px",size:"small"}},[r("el-form-item",{attrs:{label:"计费方式名称",prop:"name"}},[r("el-input",{attrs:{maxlength:25,placeholder:"请输入","show-word-limit":""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{label:"计量误差率(%)",prop:"deviation"}},[r("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:100,precision:2},model:{value:e.ruleForm.deviation,callback:function(t){e.$set(e.ruleForm,"deviation",t)},expression:"ruleForm.deviation"}})],1),"0"===e.chargeType?r("el-form-item",{attrs:{label:"体积比",prop:"vw"}},[r("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0},model:{value:e.ruleForm.vw,callback:function(t){e.$set(e.ruleForm,"vw",t)},expression:"ruleForm.vw"}})],1):e._e(),"1"===e.chargeType?r("el-form-item",{attrs:{label:"体积密度",prop:"density"}},[r("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:9999,precision:2},model:{value:e.ruleForm.density,callback:function(t){e.$set(e.ruleForm,"density",t)},expression:"ruleForm.density"}})],1):e._e(),"0"===e.chargeType?r("el-form-item",{attrs:{label:"结算重量算法",prop:"algorithm"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small",clearable:""},on:{change:e.onAlgorithm},model:{value:e.ruleForm.algorithm,callback:function(t){e.$set(e.ruleForm,"algorithm",t)},expression:"ruleForm.algorithm"}},[r("el-option",{attrs:{label:"取实重",value:"0"}}),r("el-option",{attrs:{label:"取实重或体积重的最大值",value:"1"}}),r("el-option",{attrs:{label:"取实重或体积重的平均值",value:"2"}})],1)],1):e._e(),"0"===e.chargeType&&"1"===e.ruleForm.algorithm?r("el-form-item",{attrs:{label:"多件重量算法",prop:"multiWeight"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small",clearable:""},model:{value:e.ruleForm.multiWeight,callback:function(t){e.$set(e.ruleForm,"multiWeight",t)},expression:"ruleForm.multiWeight"}},[r("el-option",{attrs:{label:"先累加后比较",value:"0"}}),r("el-option",{attrs:{label:"先比较后累加",value:"1"}})],1)],1):e._e(),"0"===e.chargeType&&"1"===e.ruleForm.algorithm?r("el-form-item",{attrs:{label:"是否分泡",prop:"bubble"}},[r("el-radio-group",{on:{change:e.onBulky},model:{value:e.ruleForm.bubble,callback:function(t){e.$set(e.ruleForm,"bubble",t)},expression:"ruleForm.bubble"}},[r("el-radio-button",{attrs:{label:!0}},[e._v("\n                      是\n                    ")]),r("el-radio-button",{attrs:{label:!1}},[e._v("\n                      否\n                    ")])],1)],1):e._e(),"0"===e.chargeType&&"1"===e.ruleForm.algorithm&&e.ruleForm.bubble?r("div",[r("div",{staticClass:"input-content"},[r("div",[r("el-checkbox",{staticStyle:{"margin-right":"5px"},model:{value:e.ruleForm.bubbleRule1Check,callback:function(t){e.$set(e.ruleForm,"bubbleRule1Check",t)},expression:"ruleForm.bubbleRule1Check"}})],1),r("div",{staticStyle:{"padding-right":"20px"}},[e._v("\n                      分泡条件1\n                    ")]),r("div",[e._v("总实重 ≥ ")]),r("div",[r("el-input-number",{staticClass:"input-number-stardard input-border",attrs:{size:"mini",controls:!1,placeholder:"请输入",min:0,max:999999},model:{value:e.ruleForm.bubbleRule1,callback:function(t){e.$set(e.ruleForm,"bubbleRule1",t)},expression:"ruleForm.bubbleRule1"}})],1),r("div",{staticClass:"input-unit"},[e._v("\n                      kg\n                    ")])]),r("div",{staticClass:"input-content"},[r("div",[r("el-checkbox",{staticStyle:{"margin-right":"5px"},model:{value:e.ruleForm.bubbleRule2Check,callback:function(t){e.$set(e.ruleForm,"bubbleRule2Check",t)},expression:"ruleForm.bubbleRule2Check"}})],1),r("div",{staticStyle:{"padding-right":"20px"}},[e._v("\n                      分泡条件2\n                    ")]),r("div",[e._v("单票货物 1m³ ≥ ")]),r("div",[r("el-input-number",{staticClass:"input-number-stardard input-border",attrs:{size:"mini",controls:!1,placeholder:"请输入",min:0,max:999999},model:{value:e.ruleForm.bubbleRule2,callback:function(t){e.$set(e.ruleForm,"bubbleRule2",t)},expression:"ruleForm.bubbleRule2"}})],1),r("div",{staticClass:"input-unit"},[e._v("\n                      kg\n                    ")]),r("div",[e._v(" 并且 1m³ ＜ 167kg")])])]):e._e(),"0"===e.chargeType&&"1"===e.ruleForm.algorithm&&e.ruleForm.bubble?r("el-form-item",{attrs:{label:"分泡比率(%)",prop:"bulky"}},[r("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:100,precision:2},model:{value:e.ruleForm.bulky,callback:function(t){e.$set(e.ruleForm,"bulky",t)},expression:"ruleForm.bulky"}})],1):e._e(),"0"===e.chargeType?r("el-form-item",{attrs:{label:"单箱最低重量",prop:"sbmc"}},[r("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"最低收费重量",min:0,max:9999,precision:2},model:{value:e.ruleForm.sbmc,callback:function(t){e.$set(e.ruleForm,"sbmc",t)},expression:"ruleForm.sbmc"}})],1):e._e(),"0"===e.chargeType?r("el-form-item",{attrs:{label:"单票最低重量",prop:"simc"}},[r("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"最低收费重量",min:0,max:9999,precision:2},model:{value:e.ruleForm.simc,callback:function(t){e.$set(e.ruleForm,"simc",t)},expression:"ruleForm.simc"}})],1):e._e(),"0"===e.chargeType?r("el-form-item",{staticStyle:{display:"inline-block",width:"49.5%"},attrs:{label:"重量进位",prop:"weightCarry"}},[r("el-radio-group",{on:{change:e.onScale},model:{value:e.ruleForm.weightCarry,callback:function(t){e.$set(e.ruleForm,"weightCarry",t)},expression:"ruleForm.weightCarry"}},[r("el-radio-button",{attrs:{label:!0}},[e._v("\n                      是\n                    ")]),r("el-radio-button",{attrs:{label:!1}},[e._v("\n                      否\n                    ")])],1)],1):e._e(),"0"===e.chargeType&&e.ruleForm.weightCarry?r("el-form-item",{staticStyle:{display:"inline-block",width:"49.5%"},attrs:{label:"进位规则",prop:"weightCarryRule"}},[r("el-radio-group",{model:{value:e.ruleForm.weightCarryRule,callback:function(t){e.$set(e.ruleForm,"weightCarryRule",t)},expression:"ruleForm.weightCarryRule"}},[r("el-radio-button",{attrs:{label:.5}},[e._v("\n                      按0.5\n                    ")]),r("el-radio-button",{attrs:{label:1}},[e._v("\n                      按1\n                    ")])],1)],1):e._e(),"0"===e.chargeType&&e.ruleForm.weightCarry&&.5===e.ruleForm.weightCarryRule?r("div",{staticClass:"scale-tip"},[e._v("\n                  例：重量10.01kg时算10.5，重量10.6kg时算11，重量10.5时算10.5\n                ")]):e._e(),"0"===e.chargeType&&e.ruleForm.weightCarry&&1===e.ruleForm.weightCarryRule?r("div",{staticClass:"scale-tip"},[e._v("\n                  例：重量向上取整，10.01kg时算11kg\n                ")]):e._e()],1)],1),r("div",{staticStyle:{"text-align":"right",margin:"20px 20px 0"},attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"small"},on:{click:e.cancel}},[e._v("\n                取 消\n              ")]),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.save}},[e._v("\n                确 定\n              ")])],1)])])],1)],1)])])},a=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("fca0"),r("7f7f"),r("a8db")),n=r("768b"),o=(r("96cf"),r("3b8d")),s=r("bd86"),u=(r("c5f6"),r("d225")),c=r("b0b4"),b=r("308d"),m=r("6bb5"),p=r("4e2b"),d=r("9ab4"),g=r("60a3"),h=r("9dba"),v=r("ac1a"),f=r("b32d");function y(e){var t={url:"/price/measure/getMeasureList",method:"get",params:e};return Object(f["a"])(t)}function k(e){var t={url:"/price/measure/saveMeasure",method:"post",data:e};return Object(f["a"])(t)}function w(e){var t={url:"/price/measure/deleteMeasure",method:"delete",params:{id:e}};return Object(f["a"])(t)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,l)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(r,!0).forEach(function(t){Object(s["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var _=function(e){function t(){var e;return Object(u["a"])(this,t),e=Object(b["a"])(this,Object(m["a"])(t).apply(this,arguments)),e.loading=!1,e.selectLoading=!1,e.formShow=!1,e.formLoading=!1,e.chargeType="0",e.typeList=[{name:"重量计费",id:"0"},{name:"体积计费",id:"1"}],e.list=[],e.subtypeList=[],e.ruleForm={subtypeId:void 0,name:void 0,deviation:void 0,vw:void 0,density:void 0,algorithm:void 0,bulky:void 0,fenestration:void 0,sbmc:void 0,simc:void 0,multiWeight:void 0,bubbleRule1Check:!1,bubbleRule2Check:!1,bubbleRule1:void 0,bubbleRule2:void 0,weightCarryRule:.5,weightCarry:!0,bubble:!1},e.rules={name:[{required:!0,message:"计费方式名称不能为空",trigger:"blur"}],deviation:[{required:!0,message:"计量误差率不能为空",trigger:"blur"}],subtypeId:[{required:!0,message:"请选择服务类型",trigger:"blur"}],vw:[{required:!0,message:"体积比不能为空",trigger:"blur"}],density:[{required:!0,message:"体积密度不能为空",trigger:"blur"}],algorithm:[{required:!0,message:"请选择结算重量算法",trigger:"change"}],bulky:[{required:!0,message:"分泡比率不能为空",trigger:"blur"}],fenestration:[{required:!0,message:"分泡条件不能为空",trigger:"blur"}],sbmc:[{required:!0,message:"单箱重量不能为空",trigger:"blur"}],simc:[{required:!0,message:"单票重量不能为空",trigger:"blur"}],multiWeight:[{required:!0,message:"请选择多件重量算法",trigger:"change"}]},e.isEdit=!1,e.title="",e.page=1,e.size=10,e.total=0,e}return Object(p["a"])(t,e),Object(c["a"])(t,[{key:"onType",value:function(){this.list=[],this.getTableData(1)}},{key:"onAlgorithm",value:function(){"1"!==this.ruleForm.algorithm&&(this.ruleForm.multiWeight=void 0,this.ruleForm.bubble=!1,this.onBulky())}},{key:"onBulky",value:function(){this.ruleForm.bubbleRule1Check=!1,this.ruleForm.bubbleRule1=void 0,this.ruleForm.bubbleRule2Check=!1,this.ruleForm.bubbleRule2=void 0,this.ruleForm.bulky=void 0}},{key:"onScale",value:function(){this.ruleForm.weightCarry?this.ruleForm.weightCarryRule=.5:this.ruleForm.weightCarryRule=void 0}},{key:"getTableData",value:function(e){var t=this;this.loading=!0,e&&(this.page=e);var r={agentId:this.custId,type:this.chargeType,page:this.page,size:this.size};y(r).then(function(e){var r=e.data||{};t.list=r.result||[],t.total=r.total,t.loading=!1}).catch(function(e){return t.loading=!1,e})}},{key:"handleSizeChange",value:function(e){this.size=Number(e),this.getTableData()}},{key:"handleCurrentChange",value:function(e){this.page=Number(e),this.getTableData()}},{key:"addRow",value:function(){this.formShow=!0,this.title="新增计费方式",this.isEdit=!1}},{key:"editRow",value:function(e){this.formShow=!0,this.title="编辑计费方式";var t=Object.assign({},e);this.ruleForm=F({},t),this.isEdit=!0}},{key:"deleteRow",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var r,l,a,i,o,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="请确认是否删除该条数据?",l="温馨提示",e.next=4,this.$confirm(r,l,{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(e){return[null,e]}).catch(function(e){return[e,null]});case 4:if(a=e.sent,i=Object(n["a"])(a,2),o=i[0],i[1],!o){e.next=10;break}return e.abrupt("return");case 10:w(t).then(function(e){s.$message({type:"success",message:"删除成功!"}),s.getTableData()}).catch(function(e){return e});case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=this,t=this.$refs.ruleForm;t.validate(function(t){if(t){var r=e.ruleForm,l=r.bubbleRule1,a=r.bubbleRule2,n=r.bubbleRule1Check,o=r.bubbleRule2Check,s=r.bubble,u=r.name,c=r.deviation,b=r.density,m=r.algorithm,p=r.id,d=Object(i["a"])(r,["bubbleRule1","bubbleRule2","bubbleRule1Check","bubbleRule2Check","bubble","name","deviation","density","algorithm","id"]),g={};"1"===e.chargeType&&(g={id:p,name:u,deviation:c,density:b,type:e.chargeType}),"0"!==e.chargeType||"1"!==m||!s||n||o?"0"===e.chargeType&&"1"===m&&s&&n&&!Number.isFinite(l)?e.$message.error("分泡条件1，总实重不能为空"):"0"===e.chargeType&&"1"===m&&s&&o&&!Number.isFinite(a)?e.$message.error("分泡条件2，单票货物重不能为空"):"0"===e.chargeType&&"1"===m&&s&&o&&a>167?e.$message.error("分泡条件2，单票货物重不能大于167kg"):("0"===e.chargeType&&(g=F({},d,{id:p,name:u,deviation:c,algorithm:m,type:e.chargeType,bubble:s,bubbleRule1:l,bubbleRule2:a,bubbleRule1Check:n,bubbleRule2Check:o})),e.formLoading=!0,g.agent={key:e.custId,value:e.custName},k(g).then(function(t){e.formLoading=!1,e.cancel(),e.$message({type:"success",message:"保存成功!"}),e.getTableData()}).catch(function(t){return e.formLoading=!1,t})):e.$message.error("请至少选择一个分泡条件")}})}},{key:"cancel",value:function(){this.formShow=!1,this.ruleForm={subtypeId:void 0,name:void 0,deviation:void 0,vw:void 0,density:void 0,weight:void 0,bulky:void 0,fenestration:void 0,sbmc:void 0,simc:void 0,multiWeight:void 0,bubbleRule1Check:!1,bubbleRule2Check:!1,bubbleRule1:void 0,bubbleRule2:void 0,weightCarryRule:.5,weightCarry:!0,bubble:!1};var e=this.$refs.ruleForm;e.clearValidate()}},{key:"created",value:function(){this.getTableData()}},{key:"labelPosition",get:function(){var e=v["a"].language;return e&&"en"===e?"top":"left"}},{key:"lang",get:function(){var e=v["a"].language;return e||"en"}},{key:"custId",get:function(){var e=h["a"].info||{},t=e.custId;return t}},{key:"custName",get:function(){var e=h["a"].info||{},t=e.custName;return t}},{key:"custType",get:function(){var e=h["a"].info||{},t=e.custType;return t}}]),t}(g["e"]);_=d["a"]([Object(g["a"])({name:"",components:{},props:{}})],_);var C=_,R=C,O=(r("2f54"),r("2877")),T=Object(O["a"])(R,l,a,!1,null,"36b7c8b0",null);t["default"]=T.exports},fca0:function(e,t,r){var l=r("5ca1"),a=r("7726").isFinite;l(l.S,"Number",{isFinite:function(e){return"number"==typeof e&&a(e)}})}}]);