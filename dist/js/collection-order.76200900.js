(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["collection-order"],{2575:function(t,e,a){},"546e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","min-height":"inherit"}},[a("div",{staticClass:"dashboard-container",staticStyle:{flex:"1",overflow:"auto"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.detailShow,expression:"!detailShow"}],staticClass:"app-container"},[a("head-info",{attrs:{info:"",title:"收款单"},scopedSlots:t._u([{key:"option",fn:function(){return[a("el-button",{attrs:{loading:t.excelLoading,type:"primary",size:"small"},on:{click:t.handleExport}},[t._v("\n            导出当前数据\n          ")])]},proxy:!0}])}),a("div",{staticClass:"app-panel"},[a("el-row",[a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["receiptAdd"],expression:"['receiptAdd']"}],staticStyle:{float:"left"},attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:t.handleAdd}},[t._v("\n              新增收款单\n            ")]),"2"===t.custType&&"1"===t.custSubtype||"3"===t.custType?a("el-select",{staticStyle:{width:"100px","margin-right":"5px"},attrs:{size:"small",placeholder:"公司类型"},on:{change:t.onComType},model:{value:t.searchForm.comType,callback:function(e){t.$set(t.searchForm,"comType",e)},expression:"searchForm.comType"}},t._l(t.companyTypeList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1):t._e(),"2"===t.searchForm.comType||"4"===t.searchForm.comType?a("el-select",{staticStyle:{width:"170px","margin-right":"5px"},attrs:{loading:t.selectLoading,size:"small",placeholder:"所属公司",filterable:"",clearable:""},on:{change:t.onCompany,focus:t.getCompanyList},model:{value:t.searchForm.comId,callback:function(e){t.$set(t.searchForm,"comId",e)},expression:"searchForm.comId"}},t._l(t.companyList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1):t._e(),a("el-select",{staticStyle:{width:"100px","margin-right":"5px"},attrs:{placeholder:"状态",size:"small",clearable:""},model:{value:t.searchForm.status,callback:function(e){t.$set(t.searchForm,"status",e)},expression:"searchForm.status"}},t._l(t.statusList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1),a("el-select",{staticStyle:{width:"120px","margin-right":"5px"},attrs:{placeholder:"收款方式",size:"small",clearable:""},model:{value:t.searchForm.payMethod,callback:function(e){t.$set(t.searchForm,"payMethod",e)},expression:"searchForm.payMethod"}},t._l(t.sourceList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1),a("el-date-picker",{staticStyle:{width:"240px","margin-right":"5px"},attrs:{type:"daterange","unlink-panels":"",align:"right",size:"small","range-separator":"~","value-format":"yyyy-MM-dd","start-placeholder":"发票起期","end-placeholder":"发票止期"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"250px","margin-right":"10px"},attrs:{placeholder:"请输入内容",size:"small",clearable:""},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{slot:"prepend",size:"small",placeholder:"请选择"},slot:"prepend",model:{value:t.selectType,callback:function(e){t.selectType=e},expression:"selectType"}},[a("el-option",{attrs:{label:"原单号",value:"1"}}),a("el-option",{attrs:{label:"客户名称",value:"2"}}),a("el-option",{attrs:{label:"收款单号",value:"3"}})],1)],1),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["receiptQuery"],expression:"['receiptQuery']"}],attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleSearch(1)}}},[t._v("\n              查询\n            ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:t.tableData,height:"calc(100vh - 313px)",border:""}},[a("el-table-column",{attrs:{fixed:"left",prop:"id",label:"收款单号",width:"150"}}),a("el-table-column",{attrs:{prop:"checked",label:"审核状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[3===e.row.checked?a("span",[t._v("审核中")]):t._e(),2===e.row.checked?a("span",[t._v("审核拒绝")]):t._e(),1===e.row.checked?a("span",[t._v("审核通过")]):t._e(),0===e.row.checked?a("span",[t._v("未审核")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s((t.statusList.find(function(t){return t.id===e.row.status})||{}).name)+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"payDate",label:"回款日期",width:"170"}}),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间",width:"170"}}),a("el-table-column",{attrs:{prop:"custName",label:"客户名称",width:"150"}}),a("el-table-column",{attrs:{prop:"",label:"客户类型",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"===e.row.custType?a("span",[t._v("聚货通")]):"3"===e.row.custType?a("span",[t._v("供应商")]):"2-1"===e.row.custType?a("span",[t._v("一级代理")]):"2-2"===e.row.custType?a("span",[t._v("二级代理")]):"1-0"===e.row.custType?a("span",[t._v("直客")]):"1-1"===e.row.custType?a("span",[t._v("同行")]):a("span",[t._v("--")])]}}])}),a("el-table-column",{attrs:{prop:"",label:"结算账户","min-width":"120"}}),a("el-table-column",{attrs:{prop:"",label:"来源",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s((t.sourceList.find(function(t){return t.id===e.row.payMethod})||{}).name)+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"currencyName",label:"货币",width:"120"}}),a("el-table-column",{attrs:{prop:"amount",label:"金额",width:"120"}}),a("el-table-column",{attrs:{prop:"exRate",label:"汇率",width:"100"}}),a("el-table-column",{attrs:{prop:"selfAmount",label:"本币金额",width:"120"}}),a("el-table-column",{attrs:{prop:"surplus",label:"核销本币结余",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(1===e.row.checked?e.row.surplus||0:"--")+"\n            ")]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[2!==e.row.status&&3!==e.row.checked&&1!==e.row.ifChecking&&t.$checkPermission(["receiptUpdate"])?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("\n                编辑\n              ")]):t._e(),2!==e.row.status&&1!==e.row.ifChecking&&t.$checkPermission(["receiptDel"])?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleDelete(e.row.id)}}},[t._v("\n                删除\n              ")]):t._e(),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["receiptDetail"],expression:"['receiptDetail']"}],attrs:{type:"text"},on:{click:function(a){return t.handleDetail(e.row.id)}}},[t._v("\n                查看详情\n              ")]),1!==e.row.checked&&t.$checkPermission(["receiptAudit"])?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleAudit(e.row,e.$index)}}},[t._v("\n                审核\n              ")]):t._e()]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":t.page,"page-size":t.size,layout:"total, prev, pager, next",total:t.total},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.detailShow,expression:"detailShow"}],staticClass:"app-container"},[a("detail",{ref:"detailForm",attrs:{"is-edit":t.isEdit,"is-once":t.isOnce,"status-list":t.statusList,"source-list":t.sourceList,"source-type":t.sourceType},on:{back:function(e){t.detailShow=!1},getTableData:t.handleSearch}})],1),a("el-dialog",{attrs:{title:"发票审核",visible:t.visibleAudit,"close-on-click-modal":!1,width:"700px"},on:{"update:visible":function(e){t.visibleAudit=e},closed:t.cancelAudit}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogLoading,expression:"dialogLoading"}]},[a("el-form",{ref:"auditForm",staticStyle:{"padding-top":"20px"},attrs:{model:t.auditForm,rules:t.auditFormRules,"label-width":"110px",size:"small"}},[a("el-form-item",{attrs:{label:"审核",prop:"bool"}},[a("el-radio-group",{model:{value:t.auditForm.bool,callback:function(e){t.$set(t.auditForm,"bool",e)},expression:"auditForm.bool"}},[a("el-radio",{attrs:{label:1}},[t._v("\n                通过\n              ")]),a("el-radio",{attrs:{label:2}},[t._v("\n                拒绝\n              ")])],1)],1)],1),a("div",{staticStyle:{"text-align":"right","padding-top":"10px"}},[a("el-button",{attrs:{size:"small"},on:{click:t.cancelAudit}},[t._v("\n            取 消\n          ")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.confirmAudit}},[t._v("\n            确 定\n          ")])],1)],1)])],1)])},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("a8db")),o=a("bd86"),s=a("d225"),c=a("b0b4"),l=a("308d"),u=a("6bb5"),d=a("4e2b"),p=a("9ab4"),m=a("60a3"),f=a("9dba"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.detailLoading,expression:"detailLoading"}],staticStyle:{"background-color":"#ffffff"}},[a("div",{staticStyle:{padding:"0 20px","line-height":"50px","border-bottom":"1px solid #e8e8e8"}},[a("div",{staticStyle:{"text-align":"right"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:t.handleBack}},[a("i",{staticClass:"el-icon-back"}),a("span",[t._v("返回")])])])]),a("div",{staticClass:"app-panel order-detail"},[a("el-row",{staticStyle:{"background-color":"#f2f2f2",padding:"10px"}},[a("el-col",{staticStyle:{"font-weight":"700","font-size":"18px","line-height":"30px"},attrs:{span:4}},[t._v("\n        收款单\n      ")]),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:20}},[a("el-checkbox",{attrs:{disabled:!t.isEdit},model:{value:t.ifOut,callback:function(e){t.ifOut=e},expression:"ifOut"}},[t._v("\n          开票\n        ")]),t.isEdit?a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.handleSave}},[t._v("\n          "+t._s(t.isOnce?"提交":"重新提交")+"\n        ")]):t._e()],1)],1),a("el-form",{ref:"editForm",class:t.isEdit?"":"view-item",staticStyle:{"padding-top":"20px"},attrs:{model:t.form,rules:t.formRules,"label-width":"110px",size:"small"}},[t.isOnce?t._e():a("el-form-item",{attrs:{label:"收款单号",prop:"id"}},[t.isEdit?a("el-input",{attrs:{maxlength:30,size:"small",placeholder:"请输入","show-word-limit":"",disabled:""},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}}):a("span",{staticClass:"number-text"},[t._v("\n          "+t._s(t.form.id)+"\n        ")])],1),t.isOnce?t._e():a("el-form-item",{attrs:{label:"状态",prop:"status"}},[t.isEdit?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small",disabled:""},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.statusData,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1):a("span",[t._v("\n          "+t._s((t.statusData.find(function(e){return e.id===t.form.status})||{}).name)+"\n        ")])],1),a("el-form-item",{attrs:{label:"客户",prop:"custId"}},[t.isEdit?a("el-input",{attrs:{size:"small",placeholder:"请输入",disabled:""},model:{value:t.form.custName,callback:function(e){t.$set(t.form,"custName",e)},expression:"form.custName"}},[t.isOnce?a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.handleCustomer},slot:"append"}):t._e()],1):a("span",[t._v("\n          "+t._s(t.form.custName)+"\n        ")])],1),a("el-form-item",{attrs:{label:"收款流水号"}},[t.isEdit?a("el-input",{attrs:{maxlength:50,size:"small",placeholder:"请输入"},model:{value:t.form.serialNumber,callback:function(e){t.$set(t.form,"serialNumber",e)},expression:"form.serialNumber"}}):a("span",{staticClass:"number-text"},[t._v("\n          "+t._s(t.form.serialNumber)+"\n        ")])],1),a("el-form-item",{attrs:{label:"账号",prop:"payAccount"}},[t.isEdit?a("el-input",{attrs:{size:"small",placeholder:"请输入",disabled:""},model:{value:t.form.payAccount,callback:function(e){t.$set(t.form,"payAccount",e)},expression:"form.payAccount"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.handleNumber},slot:"append"})],1):a("span",{staticClass:"number-text"},[t._v("\n          "+t._s(t.form.payAccount)+"\n        ")])],1),a("el-form-item",{attrs:{label:"收款方式",prop:"payMethod"}},[t.isEdit?a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"请选择",size:"small"},model:{value:t.form.payMethod,callback:function(e){t.$set(t.form,"payMethod",e)},expression:"form.payMethod"}},t._l(t.sourceData,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1):a("span",[t._v("\n          "+t._s((t.sourceData.find(function(e){return e.id===t.form.payMethod})||{}).name)+"\n        ")])],1),t._e(),a("el-form-item",{attrs:{label:"回款日期",prop:"payDate"}},[t.isEdit?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择"},model:{value:t.form.payDate,callback:function(e){t.$set(t.form,"payDate",e)},expression:"form.payDate"}}):a("span",[t._v("\n          "+t._s(t.form.payDate)+"\n        ")])],1),a("el-form-item",{attrs:{label:"货币",prop:"currencyId"}},[t.isEdit?a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!t.form.custId,placeholder:"请选择",size:"small",filterable:""},on:{change:t.onExRate},model:{value:t.form.currencyId,callback:function(e){t.$set(t.form,"currencyId",e)},expression:"form.currencyId"}},t._l(t.currencyList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name+"-"+t.sign,value:t.id}})}),1):a("span",[t._v("\n          "+t._s(t.form.currencyName)+"\n        ")])],1),a("el-form-item",{attrs:{label:"汇率",prop:"exRate"}},[t.isEdit?a("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",size:"small",min:0,max:9999},on:{change:t.onAmount},model:{value:t.form.exRate,callback:function(e){t.$set(t.form,"exRate",e)},expression:"form.exRate"}}):a("span",[t._v("\n          "+t._s(t.form.exRate)+"\n        ")])],1),a("el-form-item",{attrs:{label:"回款金额",prop:"amount"}},[t.isEdit?a("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",size:"small",min:-99999999,max:99999999,precision:2},on:{blur:t.onAmount,change:t.onAmount},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}}):a("span",[t._v("\n          "+t._s(t.form.amount)+"\n        ")])],1),a("el-form-item",{attrs:{label:"本币金额",prop:"selfAmount"}},[t.isEdit?a("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",size:"small",min:-99999999,max:99999999,precision:2,disabled:""},model:{value:t.form.selfAmount,callback:function(e){t.$set(t.form,"selfAmount",e)},expression:"form.selfAmount"}}):a("span",[t._v("\n          "+t._s(t.form.selfAmount)+"\n        ")])],1),t.isEdit?a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入",clearable:""},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1):t._e(),t.isEdit?t._e():a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"备注"}},[t._v("\n        "+t._s(t.form.remark?t.form.remark:"")+"\n      ")])],1),a("div",[a("div",{staticStyle:{"border-top":"1px solid #e8e8e8","line-height":"50px"}},[t._v("\n        关联回款\n      ")]),a("el-row",[a("el-col",{attrs:{span:4}},[a("span",{staticStyle:{"font-weight":"700","padding-left":"20px"}},[t._v("总计：")]),a("span",[t._v("回款金额：")]),a("span",[t._v(t._s(t.amountFilter))])]),a("el-col",{attrs:{span:20}},[a("div",{staticStyle:{"text-align":"right","padding-right":"10px"}},[t.isEdit?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleAccount}},[t._v("\n              选择回款\n            ")]):t._e()],1)])],1),a("el-table",{staticStyle:{width:"100%",margin:"10px 0 20px 0"},attrs:{data:t.relationTable,"header-align":"center",align:"center",border:""}},[a("el-table-column",{attrs:{prop:"id",label:"回款单号","min-width":"150","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"payDate",label:"回款日期",width:"160"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"200","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"currencyName",label:"货币"}}),a("el-table-column",{attrs:{prop:"exRate",label:"汇率"}}),a("el-table-column",{attrs:{prop:"surplus",label:"回款本币结余"}}),a("el-table-column",{attrs:{fixed:"right",width:"120",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.isEdit?a("el-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text"},on:{click:function(a){return t.handleDelete(e.row.id,"1")}}},[t._v("\n              删除\n            ")]):t._e()]}}])})],1),a("div",{staticStyle:{"border-top":"1px solid #e8e8e8","line-height":"50px"}},[t._v("\n        核销发票\n      ")]),a("el-row",[a("el-col",{attrs:{span:16}},[a("span",{staticStyle:{"font-weight":"700","padding-left":"20px"}},[t._v("总计：")]),a("span",[t._v("发票总金额：")]),t._l(t.amountList,function(e){return a("span",{key:e.key},[a("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.label)+"：")]),a("span",{},[t._v(t._s(e.value)+"  ")])])}),a("span",[t._v("， 账单本币总金额：")]),a("span",[t._v(t._s(t.selfAmountFilter))])],2),a("el-col",{attrs:{span:8}},[a("div",{staticStyle:{"text-align":"right","padding-right":"10px"}},[t.isEdit?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleOut}},[t._v("\n              选择开票\n            ")]):t._e(),t.isEdit?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleInvoice}},[t._v("\n              选择发票\n            ")]):t._e()],1)])],1),a("el-table",{staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:t.writeoffsTable,"header-align":"center",align:"center",border:""}},[a("el-table-column",{attrs:{prop:"code",label:"发票编号"}}),a("el-table-column",{attrs:{prop:"invDate",label:"发票日期",width:"160"}}),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间",width:"160"}}),a("el-table-column",{attrs:{prop:"orderCode",label:"原单号"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"200","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"currencyName",label:"货币"}}),a("el-table-column",{attrs:{prop:"exRate",label:"汇率"}}),a("el-table-column",{attrs:{prop:"amount",label:"金额"}}),a("el-table-column",{attrs:{prop:"selfAmount",label:"本币金额"}}),a("el-table-column",{attrs:{fixed:"right",width:"100",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.isEdit?a("el-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text"},on:{click:function(a){return t.handleDelete(e.row.id,"2")}}},[t._v("\n              删除\n            ")]):t._e()]}}])})],1),a("el-dialog",{attrs:{title:"选择客户",visible:t.isCustomer,"close-on-click-modal":!1,width:"1000px"},on:{"update:visible":function(e){t.isCustomer=e},closed:function(e){t.isCustomer=!1}}},[a("div",{staticStyle:{"text-align":"right"}},["2"===t.custType&&"1"===t.custSubtype?a("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{size:"small",filterable:"",clearable:"",placeholder:"公司类型"},on:{change:t.onComType},model:{value:t.form.custTag,callback:function(e){t.$set(t.form,"custTag",e)},expression:"form.custTag"}},[a("el-option",{attrs:{label:"本公司",value:"1"}}),a("el-option",{attrs:{label:"分公司",value:"2"}})],1):t._e(),"2"===t.custType&&"1"===t.custSubtype&&"2"===t.form.custTag?a("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{loading:t.selectLoading,size:"small",placeholder:"请选择",filterable:"",clearable:""},on:{change:t.onCompany,focus:t.getCompanyList},model:{value:t.form.agentId,callback:function(e){t.$set(t.form,"agentId",e)},expression:"form.agentId"}},t._l(t.companyList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1):t._e(),a("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{placeholder:"客户类型",size:"small",filterable:""},on:{change:t.handleCustType},model:{value:t.form.custType,callback:function(e){t.$set(t.form,"custType",e)},expression:"form.custType"}},t._l(t.custTypeList,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1),a("el-input",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"客户",size:"small",clearable:""},model:{value:t.searchForm.name,callback:function(e){t.$set(t.searchForm,"name",e)},expression:"searchForm.name"}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onCustomer}},[t._v("\n            查询\n          ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogLoading,expression:"dialogLoading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:t.customerList,border:"",height:"375px"},on:{"row-click":t.onCustomerRow}},[a("el-table-column",{attrs:{prop:"name",label:"客户名称"}}),a("el-table-column",{attrs:{prop:"",label:"客户属性"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"===e.row.type?a("span",[t._v("聚货通")]):"3"===e.row.type?a("span",[t._v("供应商")]):"2"===e.row.type&&"1"===e.row.subtype?a("span",[t._v("一级代理")]):"2"===e.row.type&&"2"===e.row.subtype?a("span",[t._v("二级代理")]):"1"===e.row.type&&"0"===e.row.subtype?a("span",[t._v("直客")]):"1"===e.row.type&&"1"===e.row.subtype?a("span",[t._v("同行")]):a("span",[t._v("--")])]}}])}),a("el-table-column",{attrs:{prop:"parentName",label:"所属上级"}})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":t.pagination.page,"page-size":t.pagination.size,layout:"total, prev, pager, next",total:t.pagination.total},on:{"update:currentPage":function(e){return t.$set(t.pagination,"page",e)},"update:current-page":function(e){return t.$set(t.pagination,"page",e)},"current-change":t.handlePageChange}})],1),a("el-dialog",{attrs:{title:"选择账号",visible:t.isNumber,"close-on-click-modal":!1,width:"1200px"},on:{"update:visible":function(e){t.isNumber=e},closed:function(e){t.isNumber=!1,t.number=""}}},[a("div",{staticStyle:{"text-align":"right"}},[a("el-input",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"账号",size:"small",clearable:""},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.getNumberList}},[t._v("\n            查询\n          ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogLoading,expression:"dialogLoading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:t.numberData,border:"",height:"300px"},on:{"row-click":t.onNumberRow}},[a("el-table-column",{attrs:{prop:"acctName",label:"账户名称"}}),a("el-table-column",{attrs:{prop:"type",label:"收款方式"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s((t.sourceData.find(function(t){return t.id===e.row.type})||{}).name)+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"acctNo",label:"收款账号"}}),a("el-table-column",{attrs:{prop:"currencyName",label:"币种"}}),a("el-table-column",{attrs:{prop:"countryName",label:"国家/地区"}})],1)],1),a("el-dialog",{attrs:{title:"选择回款",visible:t.isAccount,"close-on-click-modal":!1,width:"1200px"},on:{"update:visible":function(e){t.isAccount=e},closed:t.cancelAccount}},[a("div",{staticStyle:{"text-align":"right"}},[a("el-input",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"回款单号",size:"small",clearable:""},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.getAccountList}},[t._v("\n            查询\n          ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogLoading,expression:"dialogLoading"}],ref:"accountTable",staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:t.accountData,border:"",height:"400px"},on:{"selection-change":t.onAccountSelection}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"回款单号","min-width":"150","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"payDate",label:"回款日期",width:"160"}}),a("el-table-column",{attrs:{prop:"custName",label:"客户名称","min-width":"150","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"payAccount",label:"结算账户","min-width":"150","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"payMethod",label:"来源",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s((t.sourceData.find(function(t){return t.id===e.row.payMethod})||{}).name)+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"currencyName",label:"货币",width:"100"}}),a("el-table-column",{attrs:{prop:"exRate",label:"汇率",width:"100"}}),a("el-table-column",{attrs:{prop:"surplus",label:"回款本币结余",width:"140"}})],1),a("div",{staticStyle:{"text-align":"right","padding-top":"20px"}},[a("el-button",{on:{click:t.cancelAccount}},[t._v("\n            取 消\n          ")]),a("el-button",{attrs:{type:"primary"},on:{click:t.accountSelectionConfirm}},[t._v("\n            确 定\n          ")])],1)],1),a("el-dialog",{attrs:{title:"选择发票",visible:t.isInvoice,"close-on-click-modal":!1,width:"1200px"},on:{"update:visible":function(e){t.isInvoice=e},closed:t.cancelInvoice}},[a("div",{staticStyle:{"text-align":"right"}},[a("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{loading:t.selectLoading,placeholder:"服务大类",size:"small",filterable:"",clearable:""},on:{focus:t.getServiceType,change:t.onService},model:{value:t.serviceTypeId,callback:function(e){t.serviceTypeId=e},expression:"serviceTypeId"}},t._l(t.serviceTypeList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"250px","margin-right":"10px"},attrs:{placeholder:"请输入内容",size:"small",clearable:""},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{slot:"prepend",size:"small",placeholder:"请选择"},slot:"prepend",model:{value:t.selectType,callback:function(e){t.selectType=e},expression:"selectType"}},[a("el-option",{directives:[{name:"show",rawName:"v-show",value:!["02","06"].includes(t.serviceTypeId),expression:"!['02','06'].includes(serviceTypeId)"}],attrs:{label:"原单号",value:"1"}}),a("el-option",{directives:[{name:"show",rawName:"v-show",value:["02"].includes(t.serviceTypeId),expression:"['02'].includes(serviceTypeId)"}],attrs:{label:"提单号",value:"4"}}),a("el-option",{directives:[{name:"show",rawName:"v-show",value:["02","06"].includes(t.serviceTypeId),expression:"['02', '06'].includes(serviceTypeId)"}],attrs:{label:"SO号",value:"5"}}),a("el-option",{directives:[{name:"show",rawName:"v-show",value:["02"].includes(t.serviceTypeId),expression:"['02'].includes(serviceTypeId)"}],attrs:{label:"柜号",value:"6"}})],1)],1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.getInvoiceList}},[t._v("\n            查询\n          ")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogLoading,expression:"dialogLoading"}]},[t.invoiceData.length?a("vxe-table",{ref:"invoiceTable",staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:t.invoiceData,"auto-resize":!0,border:"",resizable:"",size:"small",height:"400"},on:{"checkbox-change":t.onInvoiceSelection,"checkbox-all":t.onInvoiceAll}},[a("vxe-table-column",{attrs:{fixed:"left",type:"checkbox",width:"55"}}),a("vxe-table-column",{attrs:{visible:"02"!==t.serviceTypeId&&"06"!==t.serviceTypeId,fixed:"left",width:"160",title:"原单号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.orderCode))])]}}],null,!1,2549254981)}),a("vxe-table-column",{attrs:{fixed:"left",visible:"02"===t.serviceTypeId||"06"===t.serviceTypeId,width:"160",title:"SO号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s((e.row.soNoList||[]).join(",")))])]}}],null,!1,2108195871)}),a("vxe-table-column",{attrs:{visible:"02"===t.serviceTypeId,width:"160",title:"提单号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s((e.row.billNoList||[]).join(",")))])]}}],null,!1,528558280)}),a("vxe-table-column",{attrs:{visible:"02"===t.serviceTypeId,width:"160",title:"航空单号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s((e.row.airNoList||[]).join(",")))])]}}],null,!1,3875341849)}),a("vxe-table-column",{attrs:{visible:"02"===t.serviceTypeId,width:"160",title:"柜号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s((e.row.containerNoList||[]).join(",")))])]}}],null,!1,3174292868)}),a("vxe-table-column",{attrs:{title:"开票日期",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.invDate))])]}}],null,!1,2385324867)}),a("vxe-table-column",{attrs:{title:"审核时间",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.auditTime))])]}}],null,!1,202786590)}),a("vxe-table-column",{attrs:{title:"货币",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(""+(e.row.currencyName||"")+(e.row.currencyId||"")))])]}}],null,!1,2595197676)}),a("vxe-table-column",{attrs:{title:"汇率",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.exRate))])]}}],null,!1,1133638521)}),a("vxe-table-column",{attrs:{title:"金额","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.amount))])]}}],null,!1,1167497322)}),a("vxe-table-column",{attrs:{title:"本币金额","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.selfAmount))])]}}],null,!1,3043539318)})],1):t._e()],1),a("div",{staticStyle:{"text-align":"right","padding-top":"20px"}},[a("el-button",{on:{click:t.cancelInvoice}},[t._v("\n            取 消\n          ")]),a("el-button",{attrs:{type:"primary"},on:{click:t.invoiceSelectionConfirm}},[t._v("\n            确 定\n          ")])],1)]),a("el-dialog",{attrs:{title:"选择开票",visible:t.isOut,"close-on-click-modal":!1,width:"1000px"},on:{"update:visible":function(e){t.isOut=e},closed:t.cancelOut}},[a("div",{staticStyle:{"text-align":"right"}},[a("el-select",{staticStyle:{width:"130px","margin-right":"10px"},attrs:{loading:t.selectLoading,placeholder:"服务大类",size:"small",filterable:"",clearable:""},on:{focus:t.getServiceType,change:function(e){t.outData=[]}},model:{value:t.serviceTypeId,callback:function(e){t.serviceTypeId=e},expression:"serviceTypeId"}},t._l(t.serviceTypeList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.getOutList}},[t._v("\n            查询\n          ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogLoading,expression:"dialogLoading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:t.outData,border:"",height:"400px"},on:{"selection-change":t.onOutSelection}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"clientName",label:"客户名称","min-width":"200"}}),a("el-table-column",{attrs:{prop:"invDate",label:"开票日期",width:"160"}}),a("el-table-column",{attrs:{prop:"status",label:"审核状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"===e.row.status?a("span",[t._v("待审核")]):"1"===e.row.status?a("span",[t._v("已通过")]):"2"===e.row.status?a("span",[t._v("已拒绝")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"amount",width:"180",label:"本币总金额"}}),a("el-table-column",{attrs:{width:"140",label:"是否税务开票"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(1===e.row.ifBill?"是":"否")+"\n            ")]}}])})],1),a("div",{staticStyle:{"text-align":"right","padding-top":"20px"}},[a("el-button",{on:{click:t.cancelOut}},[t._v("\n            取 消\n          ")]),a("el-button",{attrs:{type:"primary"},on:{click:t.outSelectionConfirm}},[t._v("\n            确 定\n          ")])],1)],1)],1)],1)])},v=[],y=(a("28a5"),a("75fc")),g=(a("7514"),a("55dd"),a("7f7f"),a("96cf"),a("3b8d")),b=a("7dfc"),w=a("5a0c"),k=a.n(w);function x(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?x(a,!0).forEach(function(e){Object(o["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):x(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function O(){return{amount:void 0,selfAmount:void 0,id:void 0,custTag:void 0,agentId:void 0,agentName:void 0,serialNumber:void 0,currencyId:void 0,currencyName:void 0,custId:void 0,custName:void 0,custType:void 0,exRate:void 0,payDate:void 0,payType:void 0,payAccount:void 0,remark:void 0,status:void 0,payMethod:void 0}}var T=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.form=O(),t.formRules={id:[{required:!0,message:"收款单号不能为空",trigger:"blur"}],serialNumber:[{validator:function(t,e,a){var n=/[\u4e00-\u9fa5]/;e&&n.test(e)?a(new Error("收款流水号不能是中文")):a()},trigger:"blur"}],agentId:[{required:!0,message:"请选择所属公司",trigger:"change"}],currencyId:[{required:!0,message:"请选择货币",trigger:"change"}],custId:[{required:!0,message:"客户不能为空",trigger:"change"}],exRate:[{required:!0,message:"汇率不能为空(根据货币确定)",trigger:"blur"}],amount:[{required:!0,message:"回款金额不能为空",trigger:"blur"}],selfAmount:[{required:!0,message:"本币金额不能为空",trigger:"blur"}],payDate:[{required:!0,message:"请选择回款日期",trigger:"change"}],payAccount:[{required:!0,message:"账号不能为空",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],payMethod:[{required:!0,message:"请选择来源",trigger:"change"}]},t.name="",t.number="",t.keyWord="",t.selectType="",t.serviceTypeId="",t.account="",t.isCustomer=!1,t.isNumber=!1,t.isInvoice=!1,t.isAccount=!1,t.isOut=!1,t.ifOut=!1,t.custTypeList=[],t.customerData=[],t.invoiceData=[],t.serviceTypeList=[],t.outData=[],t.outArr=[],t.accountData=[],t.accountArr=[],t.invoiceArr=[],t.numberData=[],t.companyList=[],t.relationsData=[],t.writeoffsData=[],t.detailLoading=!1,t.dialogLoading=!1,t.selectLoading=!1,t.currencyList=[],t.currentId="",t.total=0,t.page=1,t.size=10,t.pagination={page:1,size:10,total:0},t.searchForm={name:""},t.selfCurrency={currencyId:"RMB",currencyName:"人民币"},t}return Object(d["a"])(e,t),Object(c["a"])(e,[{key:"countNum",value:function(t,e){return parseFloat((t*e).toFixed(2))}},{key:"setData",value:function(t){this.getCurrencyList(),t?(this.currentId=t,this.getReceiveById(t)):(this.form.agentId=this.custId,this.form.agentName=this.custName,this.setCustomerType())}},{key:"setCustomerType",value:function(){var t=this.custType,e=this.custSubtype;"0"===t?this.custTypeList=[{id:"2",name:"代理商"}]:"2"===t&&"1"===e&&"1"===this.form.custTag?this.custTypeList=[{id:"2",name:"二级代理商"},{id:"1",name:"客户"}]:"2"===t&&"1"===e&&"2"===this.form.custTag?this.custTypeList=[{id:"1",name:"客户"}]:"2"===t&&"2"===e?this.custTypeList=[{id:"1",name:"客户"}]:"3"===t?this.custTypeList=[{id:"0",name:"聚货通"},{id:"2",name:"二级代理商"},{id:"1",name:"客户"}]:(this.custTypeList=[],this.form.custType=void 0)}},{key:"getAgentList",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(e){var a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.dialogLoading=!0,a={page:this.pagination.page,size:9999,name:this.searchForm.name,parentId:e||this.form.agentId},t.next=4,Object(b["o"])(a).then(function(t){var e=t.data||{},a=e.result||[];n.customerData=a.map(function(t){return t.type="2",t}),n.pagination.total=e.total,n.dialogLoading=!1}).catch(function(t){return n.dialogLoading=!1,t});case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"getCustomerList",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.dialogLoading=!0,e={name:this.searchForm.name,custIds:[this.form.agentId]},t.next=4,Object(b["v"])(e).then(function(t){var e=t.data||[];a.customerData=e,a.total=0,a.pagination.total=a.customerData.length,a.dialogLoading=!1}).catch(function(t){return a.dialogLoading=!1,t});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getCurrencyList",value:function(){var t=this;Object(b["t"])().then(function(e){var a=e.data||{};t.currencyList=a.result||[],t.currencyList.map(function(e){e.countries.some(function(e){return e.id===t.userCountryId})&&(t.selfCurrency={currencyId:e.id,currencyName:e.name})})}).catch(function(t){return t})}},{key:"onExRate",value:function(){var t=this;this.form.exRate=void 0,this.form.selfAmount=void 0,this.form.amount=void 0,this.form.currencyId&&(this.selfCurrency.currencyId!==this.form.currencyId?Object(b["x"])({c1:this.form.currencyId,c2:this.selfCurrency.currencyId}).then(function(e){var a=e.data||[];if(a.length<=0)t.$message.error("暂无汇率，请配置");else{var n=a.filter(function(e){return e.lcId===t.form.currencyId}).map(function(t){return t.time=k()(t.effective).unix(),t}).sort(function(t,e){return e.time-t.time}),i=n[0]||{};i.lcId===t.form.currencyId&&(t.form.exRate=i.rate),t.form.exRate||t.$message.error("暂无汇率，请配置")}}).catch(function(t){return t}):this.form.exRate=1)}},{key:"onAmount",value:function(){this.form.exRate>0&&(this.form.selfAmount=this.countNum(this.form.amount||0,this.form.exRate))}},{key:"getReceiveById",value:function(t){var e=this;this.detailLoading=!0,Object(b["K"])({id:t}).then(function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(a){var n,i,o,s,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=a.data||{},i=n.invoiceEntities,o=n.unionList,s=n.ifBill,c=n.custType,l=Object(r["a"])(n,["invoiceEntities","unionList","ifBill","custType"]),e.form=_({},l,{custType:c?c.substring(0,1):"1",clientType:c}),e.ifOut=1===s,e.form.exRate>0&&(e.form.selfAmount=e.countNum(e.form.amount||0,e.form.exRate)),e.setCustomerType(),e.relationsData=o||[],e.writeoffsData=i||[],e.detailLoading=!1;case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){return e.detailLoading=!1,t})}},{key:"handleSave",value:function(){var t=this,e=this.$refs.editForm;e.validate(function(e){if(!e)return!1;t.detailLoading=!0;var a=t.form,n=a.clientType,i=(a.custType,a.custTag,Object(r["a"])(a,["clientType","custType","custTag"])),o=_({},i,{custType:n,ifBill:t.ifOut?1:0,checked:0});o.receiptIdList=t.relationsData.filter(function(t){return"X"!==t.tag}).map(function(t){return t.id}),o.invoiceIdList=t.writeoffsData.filter(function(t){return"X"!==t.tag}).map(function(t){return t.id}),t.currencyList.map(function(t){t.id===o.currencyId&&(o.currencyName=t.name)}),t.isOnce?Object(b["b"])(o).then(function(e){t.$message({type:"success",message:"新增成功"}),t.resetForm(),t.detailLoading=!1,t.$emit("back"),t.$emit("getTableData")}).catch(function(e){return t.detailLoading=!1,e}):Object(b["m"])(o).then(function(e){t.$message({type:"success",message:"编辑成功"}),t.resetForm(),t.detailLoading=!1,t.$emit("back"),t.$emit("getTableData")}).catch(function(e){return t.detailLoading=!1,e})})}},{key:"handleBack",value:function(){this.$emit("back"),this.resetForm()}},{key:"resetForm",value:function(){this.form=O(),this.relationsData=[],this.writeoffsData=[],this.customerData=[],this.page=1,this.size=10;var t=this.$refs.editForm;this.$nextTick(function(){t.clearValidate()})}},{key:"resetDialog",value:function(){this.pagination={page:1,size:10,total:0},this.searchForm={name:""}}},{key:"onComType",value:function(){this.form.agentId="",this.form.agentName="",this.form.custName="",this.form.custId="",this.form.custType="",this.form.clientType="",this.relationsData=[],this.writeoffsData=[],this.customerData=[],this.setCustomerType(),"2"!==this.form.custTag&&(this.form.agentId=this.custId,this.form.agentName=this.custName)}},{key:"onCompany",value:function(){var t=this;this.form.agentName="",this.form.custName="",this.form.custId="",this.form.custType="",this.form.clientType="",this.relationsData=[],this.writeoffsData=[],this.customerData=[];var e=this.companyList.find(function(e){return e.id===t.form.agentId});e&&(this.form.agentName=e.name)}},{key:"getCompanyList",value:function(){var t=this;this.selectLoading=!0,Object(b["S"])().then(function(e){var a=e.data||[];t.companyList=a,t.selectLoading=!1}).catch(function(e){return t.selectLoading=!1,e})}},{key:"handleCustType",value:function(){this.form.custName="",this.form.custId="",this.form.clientType="",this.form.exRate=void 0,this.relationsData=[],this.writeoffsData=[],this.customerData=[]}},{key:"handleCustomer",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.resetDialog(),this.isCustomer=!0;case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"onCustomer",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.custType,a=this.custSubtype,this.form.custType){t.next=7;break}return this.$message.error("请选择客户类型"),t.abrupt("return",!1);case 7:if("3"!==e||"0"!==this.form.custType){t.next=12;break}this.customerData=[{id:"0",name:"聚货通",type:"0",subtype:"",countryId:"CN",parentName:this.custName}],this.pagination.total=this.customerData.length,t.next=24;break;case 12:if("3"!==e||"2"!==this.form.custType){t.next=17;break}return t.next=15,this.getAgentList("0");case 15:t.next=24;break;case 17:if("2"!==e||"1"!==a||"2"!==this.form.custType){t.next=22;break}return t.next=20,this.getAgentList();case 20:t.next=24;break;case 22:return t.next=24,this.getCustomerList();case 24:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"onCustomerRow",value:function(t){var e=t.type,a=t.subtype;this.isCustomer=!1,this.form.custId=t.id,this.form.custName=t.name,this.form.clientType=e+(a?"-".concat(a):""),this.accountData=[],this.invoiceData=[],this.outData=[],this.onExRate()}},{key:"handleNumber",value:function(){this.isNumber=!0,this.getNumberList()}},{key:"getNumberList",value:function(){var t=this;this.dialogLoading=!0;var e={custId:this.form.agentId,name:this.number};Object(b["q"])(e).then(function(e){var a=e.data||{};t.numberData=a.result||[],t.total=a.total,t.dialogLoading=!1}).catch(function(e){return t.dialogLoading=!1,e})}},{key:"onNumberRow",value:function(t){this.isNumber=!1,this.form.payAccount=t.acctNo,this.form.payMethod=t.type}},{key:"handlePageChange",value:function(t){this.pagination.page=t}},{key:"handleAccount",value:function(){this.form.custId?(this.isAccount=!0,this.accountArr=this.relationsData.filter(function(t){return"X"!==t.tag}).map(function(t){return t.id}),this.getAccountList()):this.$message.error("请选择客户")}},{key:"getAccountList",value:function(){var t=this;this.dialogLoading=!0;var e={custId:this.form.custId,code:this.account};Object(b["I"])(e).then(function(e){var a=e.data||[];t.accountData=a,t.accountArr.length&&t.accountArr.map(function(e){var a=t.accountData.find(function(t){return t.id===e||"".concat(t.id)===e});a&&t.$nextTick(function(){var e=t.$refs.accountTable;e.toggleRowSelection(a,!0)})}),t.total=a.total,t.dialogLoading=!1}).catch(function(e){return t.dialogLoading=!1,[null,e]})}},{key:"onAccountSelection",value:function(t){this.accountArr=t.map(function(t){return t.id})}},{key:"cancelAccount",value:function(){this.isAccount=!1,this.account="",this.accountArr=[],this.accountData=[]}},{key:"accountSelectionConfirm",value:function(){var t=this;this.isAccount=!1,this.account="";var e=[];this.accountArr.map(function(a){var n=t.accountData.find(function(t){return t.id===a});n&&e.push(_({},n,{tag:"1"}))});var a=this.relationsData.filter(function(t){return"X"!==t.tag}),n=[].concat(e,Object(y["a"])(a)),i={},r=n.reduce(function(t,e){return i[e.id]||(i[e.id]=!0,t.push(e)),t},[]);this.relationsData=r}},{key:"handleOut",value:function(){this.form.custId?this.isOut=!0:this.$message.error("请选择客户")}},{key:"getOutList",value:function(){var t=this;if(this.serviceTypeId){this.dialogLoading=!0;var e={model:{serviceTypeId:this.serviceTypeId,custId:this.form.custId},page:1,size:9999};Object(b["F"])(e).then(function(e){var a=e.data||{};t.outData=a.result||[],t.dialogLoading=!1}).catch(function(e){return t.dialogLoading=!1,[null,e]})}else this.$message.error("请选择服务")}},{key:"onOutSelection",value:function(t){this.outArr=(t||[]).map(function(t){return t.id})}},{key:"cancelOut",value:function(){this.isOut=!1,this.serviceTypeId="",this.outArr=[],this.outData=[]}},{key:"outSelectionConfirm",value:function(){var t=this;this.isOut=!1,this.serviceTypeId="",this.detailLoading=!0;this.outArr;Object(b["T"])(this.outArr).then(function(e){var a=e.data||[],n=JSON.parse(JSON.stringify(t.writeoffsData)),i=[].concat(Object(y["a"])(a),Object(y["a"])(n)),r={},o=i.reduce(function(t,e){return r[e.code]||(r[e.code]=!0,t.push(e)),t},[]);t.writeoffsData=o,t.detailLoading=!1}).catch(function(e){return t.detailLoading=!1,[null,e]})}},{key:"getServiceType",value:function(){var t=this,e={cas:"",custId:this.form.custId},a=(this.form.clientType||"").split("-")[0]||"";"1"===a&&(e.cas="C"),"2"===a&&(e.cas="A"),"3"===a&&(e.cas="S"),this.selectLoading=!0,Object(b["U"])(e).then(function(e){t.selectLoading=!1;var a=e.data||[];t.serviceTypeList=a.map(function(t){return{id:t.typeId,name:t.typeName}})}).catch(function(){t.serviceTypeList=[],t.selectLoading=!1})}},{key:"onService",value:function(){this.invoiceData=[],this.invoiceArr=[]}},{key:"handleInvoice",value:function(){this.form.custId?(this.isInvoice=!0,this.invoiceArr=this.writeoffsData.filter(function(t){return"X"!==t.tag})):this.$message.error("请选择客户")}},{key:"getInvoiceList",value:function(){var t=this;if(this.serviceTypeId){this.dialogLoading=!0;var e={custId:this.form.custId,serviceTypeId:this.serviceTypeId,orderCode:"1"===this.selectType?this.keyWord:void 0,code:"3"===this.selectType?this.keyWord:void 0,billNo:"4"===this.selectType?this.keyWord:void 0,soNo:"5"===this.selectType?this.keyWord:void 0,containerNo:"6"===this.selectType?this.keyWord:void 0};Object(b["J"])(e).then(function(e){var a=e.data||[];t.invoiceData=a,t.invoiceArr.length&&t.invoiceArr.map(function(e){var a=t.invoiceData.find(function(t){return t.id===e.id||"".concat(t.id)===e.id});a&&t.$nextTick(function(){var e=t.$refs.invoiceTable;e.toggleCheckboxRow(a)})}),t.dialogLoading=!1}).catch(function(e){return t.dialogLoading=!1,[null,e]})}else this.$message.error("请选择服务")}},{key:"onInvoiceSelection",value:function(t){t.checked?this.invoiceArr.push(t.row):this.invoiceArr=this.invoiceArr.filter(function(e){return e.id!==t.row.id}),this.invoiceArr=this.invoiceArr.map(function(t){return _({},t,{tag:"1"})})}},{key:"onInvoiceAll",value:function(t){var e=this;t.checked?this.invoiceArr=[].concat(Object(y["a"])(this.invoiceArr),Object(y["a"])(this.invoiceData)).reduce(function(t,e){return t.find(function(t){return t.id===e.id})||t.push(e),t},[]):this.invoiceArr=this.invoiceArr.filter(function(t){return!e.invoiceData.find(function(e){return e.id===t.id})})}},{key:"cancelInvoice",value:function(){this.isInvoice=!1,this.serviceTypeId="",this.selectType="",this.keyWord="",this.invoiceArr=[],this.invoiceData=[]}},{key:"invoiceSelectionConfirm",value:function(){this.isInvoice=!1,this.serviceTypeId="",this.selectType="",this.keyWord="";var t=this.writeoffsData.filter(function(t){return"X"!==t.tag}),e=[].concat(Object(y["a"])(this.invoiceArr),Object(y["a"])(t)),a={},n=e.reduce(function(t,e){return a[e.id]||(a[e.id]=!0,t.push(e)),t},[]);this.writeoffsData=n}},{key:"handleDelete",value:function(t,e){"1"===e?this.relationsData=this.relationsData.map(function(e){return e.id===t&&(e.tag="X"),e}):"2"===e&&(this.writeoffsData=this.writeoffsData.map(function(e){return e.id===t&&(e.tag="X"),e}))}},{key:"custId",get:function(){var t=f["a"].info||{},e=t.custId;return e}},{key:"custName",get:function(){var t=f["a"].info||{},e=t.custName;return e}},{key:"username",get:function(){var t=f["a"].info||{},e=t.username;return e}},{key:"custType",get:function(){var t=f["a"].info||{},e=t.custType;return e}},{key:"custSubtype",get:function(){var t=f["a"].info||{},e=t.custSubtype;return e}},{key:"userCountryId",get:function(){var t=f["a"].info||{};return t.countryId}},{key:"statusData",get:function(){var t=this.statusList;return t}},{key:"sourceData",get:function(){var t=this.sourceList;return t}},{key:"sourceOption",get:function(){var t=this.sourceType;return t}},{key:"amountFilter",get:function(){var t=this.relationsData.filter(function(t){return"X"!==t.tag}),e=0;return t.map(function(t){e+=t.surplus}),parseFloat(e.toFixed(2))}},{key:"amountList",get:function(){var t=this,e=[],a=this.amountObj;return Object.keys(a).map(function(n){var i=t.currencyList.find(function(t){return t.id===n});i&&e.push({label:(i||{}).name+"总金额",key:n,value:a[n]})}),e}},{key:"amountObj",get:function(){var t={},e=this.writeoffsData.filter(function(t){return"X"!==t.tag});return this.currencyList.map(function(a){var n=e.filter(function(t){return t.currencyId===a.id});n.length>0&&(t[a.id]=n.reduce(function(t,e){var a=e.amount;return t+=a,parseFloat(t.toFixed(2))},0))}),t}},{key:"selfAmountFilter",get:function(){var t=this.writeoffsData.filter(function(t){return"X"!==t.tag}),e=0;return t.map(function(t){e+=t.selfAmount}),parseFloat(e.toFixed(2))}},{key:"relationTable",get:function(){return this.relationsData.filter(function(t){return"X"!==t.tag})}},{key:"writeoffsTable",get:function(){return this.writeoffsData.filter(function(t){return"X"!==t.tag})}},{key:"customerList",get:function(){return this.customerData.slice((this.pagination.page-1)*this.pagination.size,this.pagination.page*this.pagination.size)}}]),e}(m["e"]);T=p["a"]([Object(m["a"])({name:"detail",components:{},props:{isEdit:{type:Boolean,default:!1},isOnce:{type:Boolean,default:!1},statusList:{type:Array,default:function(){return[]}},sourceList:{type:Array,default:function(){return[]}},sourceType:{type:Array,default:function(){return[]}}}})],T);var L=T,S=L,j=(a("bea2"),a("2877")),I=Object(j["a"])(S,h,v,!1,null,"75213a48",null),D=I.exports;function A(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function N(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?A(a,!0).forEach(function(e){Object(o["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):A(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var C=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(l["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.searchForm={comType:void 0,comId:void 0,id:void 0,custName:void 0,end:void 0,start:void 0,status:void 0,payMethod:void 0,payType:void 0},t.time=[],t.type="R",t.tableData=[],t.companyList=[],t.total=0,t.page=1,t.size=10,t.selectType="1",t.keyWord="",t.loading=!1,t.selectLoading=!1,t.dialogLoading=!1,t.excelLoading=!1,t.visibleAudit=!1,t.auditForm={id:"",bool:1},t.auditFormRules={bool:[{required:!0,message:"请选择审核状态",trigger:"change"}],note:[{required:!0,message:"请填写拒绝原因",trigger:"change"}]},t.isEdit=!1,t.isOnce=!1,t.detailShow=!1,t.statusList=[{name:"未核销",id:0},{name:"已核销",id:2}],t.sourceList=[{name:"银行汇款",id:"0"},{name:"微信",id:"1"},{name:"支付宝",id:"2"},{name:"PayPal",id:"3"},{name:"其它",id:"4"}],t.sourceType=[{id:"0",name:"预付款"},{id:"1",name:"账单付款"}],t.companyTypeList=[],t}return Object(d["a"])(e,t),Object(c["a"])(e,[{key:"handleAdd",value:function(){this.detailShow=!0,this.isEdit=!0,this.isOnce=!0;var t=this.$refs.detailForm;t.setData()}},{key:"handleEdit",value:function(t){this.detailShow=!0,this.isEdit=!0,this.isOnce=!1;var e=this.$refs.detailForm;e.setData(t.id)}},{key:"handleAudit",value:function(t,e){var a=this;if(0===t.checked){var n={id:t.id,bool:3};Object(b["e"])(n).then(function(){a.tableData[e].checked=3}).catch(function(t){return t})}this.visibleAudit=!0,this.auditForm={id:t.id,bool:1}}},{key:"cancelAudit",value:function(){this.visibleAudit=!1,this.auditForm={id:"",bool:1}}},{key:"confirmAudit",value:function(){var t=this,e=N({},this.auditForm);this.dialogLoading=!0,Object(b["e"])(e).then(function(){t.$message.success("操作成功"),t.dialogLoading=!1,t.cancelAudit(),t.handleSearch()}).catch(function(){t.dialogLoading=!1})}},{key:"handleExport",value:function(){var t=this,e=this.searchForm,a=e.comType,n=e.comId,i=Object(r["a"])(e,["comType","comId"]),o=this.custId,s={model:N({},i,{orderCode:"1"===this.selectType?this.keyWord:void 0,custName:"2"===this.selectType?this.keyWord:void 0,id:"3"===this.selectType?this.keyWord:void 0,custTag:a,agentId:"1"===a||"3"===a?[o]:n?[n]:[]}),size:9999,page:1};Array.isArray(this.time)&&this.time.length>0&&(s.model.start=this.time[0],s.model.end=this.time[1]),this.excelLoading=!0,Object(b["L"])(N({},s)).then(function(e){t.excelLoading=!1;var a=document.createElement("a");document.body.appendChild(a);var n=new Blob([e],{type:"application/vnd.ms-excel"}),i=URL.createObjectURL(n);a.href=i,a.download="收款单"+k()().format("YYYY-MM-DD_HH-mm-ss")+".xls",a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}).catch(function(e){t.excelLoading=!1,e.data.text().then(function(e){try{var a=JSON.parse(e);200!==a.code&&t.$message.error(a.msg||"文件下载失败")}catch(n){return n}})})}},{key:"handleDetail",value:function(t){this.detailShow=!0,this.isEdit=!1,this.isOnce=!1;var e=this.$refs.detailForm;e.setData(t)}},{key:"handleDelete",value:function(t){var e=this,a={id:t};this.$confirm("请确认是否删除该条数据?","温馨提示",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){Object(b["j"])(a).then(function(t){e.$message({type:"success",message:"删除成功"}),e.handleSearch()}).catch(function(t){return t})}).catch(function(){return!1})}},{key:"handlePass",value:function(t){}},{key:"handleRefuse",value:function(t){}},{key:"handleResubmit",value:function(t){}},{key:"onComType",value:function(){this.tableData=[],this.searchForm.comId="",this.companyList=[],this.handleSearch(1)}},{key:"onCompany",value:function(){this.tableData=[],this.handleSearch(1)}},{key:"getCompanyList",value:function(){var t=this;if(this.selectLoading=!0,"2"===this.searchForm.comType)Object(b["S"])().then(function(e){var a=e.data||[];t.companyList=a,t.selectLoading=!1}).catch(function(e){return t.selectLoading=!1,e});else if("4"===this.searchForm.comType){var e={custIds:[this.custId]};Object(b["v"])(e).then(function(e){var a=e.data||[];t.companyList=a,t.selectLoading=!1}).catch(function(e){return t.selectLoading=!1,e})}}},{key:"handleSearch",value:function(t){var e=this;t&&(this.page=t);var a=this.searchForm,n=a.comType,i=a.comId,o=Object(r["a"])(a,["comType","comId"]),s=this.custId,c={model:N({},o,{orderCode:"1"===this.selectType?this.keyWord:void 0,custName:"2"===this.selectType?this.keyWord:void 0,id:"3"===this.selectType?this.keyWord:void 0,custTag:n,agentId:"1"===n||"3"===n?[s]:i?[i]:[]}),size:this.size,page:this.page};Array.isArray(this.time)&&this.time.length>0&&(c.model.start=this.time[0],c.model.end=this.time[1]),this.loading=!0,Object(b["M"])(c).then(function(t){var a=t.data||{};e.tableData=a.result||[],e.total=a.total,e.loading=!1}).catch(function(t){return e.loading=!1,[null,t]})}},{key:"handleSizeChange",value:function(t){this.size=t,this.handleSearch()}},{key:"handleCurrentChange",value:function(t){this.page=t,this.handleSearch()}},{key:"created",value:function(){this.time=[k()().subtract(30,"d").format("YYYY-MM-DD"),k()().format("YYYY-MM-DD")];var t=this.custType,e=this.custSubtype;this.searchForm.comType="1","2"===t&&"1"===e?(this.companyTypeList=[{id:"1",name:"本公司"},{id:"2",name:"分公司"}],this.searchForm.comType="2"):"3"===t&&(this.companyTypeList=[{id:"3",name:"聚货通"},{id:"5",name:"代理商"},{id:"4",name:"客户"}],this.searchForm.comType="3"),this.handleSearch()}},{key:"custId",get:function(){var t=f["a"].info||{},e=t.custId;return e}},{key:"custName",get:function(){var t=f["a"].info||{},e=t.custName;return e}},{key:"custType",get:function(){var t=f["a"].info||{},e=t.custType;return e}},{key:"custSubtype",get:function(){var t=f["a"].info||{},e=t.custSubtype;return e}}]),e}(m["e"]);C=p["a"]([Object(m["a"])({name:"",components:{detail:D},props:{}})],C);var z=C,F=z,$=Object(j["a"])(F,n,i,!1,null,"28ba34da",null);e["default"]=$.exports},"7dfc":function(t,e,a){"use strict";a.d(e,"Q",function(){return s}),a.d(e,"o",function(){return c}),a.d(e,"p",function(){return l}),a.d(e,"U",function(){return u}),a.d(e,"W",function(){return d}),a.d(e,"V",function(){return p}),a.d(e,"s",function(){return m}),a.d(e,"t",function(){return f}),a.d(e,"D",function(){return h}),a.d(e,"E",function(){return v}),a.d(e,"A",function(){return y}),a.d(e,"h",function(){return g}),a.d(e,"X",function(){return b}),a.d(e,"Y",function(){return w}),a.d(e,"B",function(){return k}),a.d(e,"C",function(){return x}),a.d(e,"H",function(){return _}),a.d(e,"G",function(){return O}),a.d(e,"i",function(){return T}),a.d(e,"a",function(){return L}),a.d(e,"l",function(){return S}),a.d(e,"x",function(){return j}),a.d(e,"M",function(){return I}),a.d(e,"J",function(){return D}),a.d(e,"I",function(){return A}),a.d(e,"K",function(){return N}),a.d(e,"b",function(){return C}),a.d(e,"m",function(){return z}),a.d(e,"j",function(){return F}),a.d(e,"q",function(){return $}),a.d(e,"L",function(){return R}),a.d(e,"P",function(){return E}),a.d(e,"N",function(){return P}),a.d(e,"O",function(){return M}),a.d(e,"k",function(){return W}),a.d(e,"c",function(){return q}),a.d(e,"n",function(){return B}),a.d(e,"v",function(){return X}),a.d(e,"f",function(){return Y}),a.d(e,"e",function(){return J}),a.d(e,"d",function(){return U}),a.d(e,"g",function(){return H}),a.d(e,"z",function(){return Q}),a.d(e,"w",function(){return K}),a.d(e,"r",function(){return V}),a.d(e,"R",function(){return G}),a.d(e,"y",function(){return Z}),a.d(e,"S",function(){return tt}),a.d(e,"F",function(){return et}),a.d(e,"T",function(){return at}),a.d(e,"u",function(){return nt});a("8e6e"),a("ac6a"),a("456d");var n=a("bd86"),i=a("b32d");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(a,!0).forEach(function(e){Object(n["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function s(t){var e={url:"/auth/supplier/getSupplierList",method:"get",params:t};return Object(i["a"])(e)}function c(t){var e={url:"/auth/agent/getAgentList",method:"get",params:t};return Object(i["a"])(e)}function l(t){var e={url:"/cfg/type/getServiceTypeList",method:"get",params:t};return Object(i["a"])(e)}function u(t){var e={url:"/auth/custtype/getServerType",method:"get",params:t};return Object(i["a"])(e)}function d(t){var e={url:"/finance/account/rollback",method:"get",params:t};return Object(i["a"])(e)}function p(t){var e={url:"/orders/worder/getOrderList",method:"post",data:t};return Object(i["a"])(e)}function m(t){var e={url:"/finance/costitem/getCostitemList",method:"get",params:t};return Object(i["a"])(e)}function f(t){var e={url:"/setting/currency/getCurrencyList",method:"get",params:o({page:1,size:999},t)};return Object(i["a"])(e)}function h(t){var e={url:"/finance/account/page",method:"post",data:t};return Object(i["a"])(e)}function v(t){var e={url:"finance/account/order_invoice",method:"post",data:t};return Object(i["a"])(e)}function y(t){var e={url:"/finance/account/getInvoice",method:"get",params:t};return Object(i["a"])(e)}function g(t){var e={url:"/finance/account/deleteInvoice",method:"post",params:t};return Object(i["a"])(e)}function b(t){var e={url:"/finance/account/saveInvoice",method:"post",data:t};return Object(i["a"])(e)}function w(t){var e={url:"/finance/account/updateInvoice",method:"post",data:t};return Object(i["a"])(e)}function k(t){var e={url:"/finance/account/exportAll",method:"post",responseType:"blob",data:t};return Object(i["a"])(e)}function x(t){var e={url:"/finance/account/export2",method:"post",responseType:"blob",data:t};return Object(i["a"])(e)}function _(t){var e={url:"/finance/p/page",method:"post",data:t};return Object(i["a"])(e)}function O(t){var e={url:"/finance/p/get",method:"get",params:t};return Object(i["a"])(e)}function T(t){var e={url:"/auth/p/del",method:"delete",params:t};return Object(i["a"])(e)}function L(t){var e={url:"/finance/p/add",method:"post",data:t};return Object(i["a"])(e)}function S(t){var e={url:"/finance/p/edit",method:"post",data:t};return Object(i["a"])(e)}function j(t){var e={url:"/setting/exchange/rate",method:"get",params:t};return Object(i["a"])(e)}function I(t){var e={url:"/finance/r/page",method:"post",data:t};return Object(i["a"])(e)}function D(t){var e={url:"/finance/account/query",method:"post",data:t};return Object(i["a"])(e)}function A(t){var e={url:"/finance/r/payback",method:"get",params:t};return Object(i["a"])(e)}function N(t){var e={url:"/finance/r/info",method:"get",params:t};return Object(i["a"])(e)}function C(t){var e={url:"/finance/r/add",method:"post",data:t};return Object(i["a"])(e)}function z(t){var e={url:"/finance/r/edit",method:"post",data:t};return Object(i["a"])(e)}function F(t){var e={url:"/auth/r/del",method:"delete",params:t};return Object(i["a"])(e)}function $(t){var e={url:"/auth/acct/getAcctList",method:"get",params:t};return Object(i["a"])(e)}function R(t){var e={url:"/finance/r/export",method:"post",responseType:"blob",data:t};return Object(i["a"])(e)}function E(t){var e={url:"/finance/apply/page",method:"post",data:t};return Object(i["a"])(e)}function P(t){var e={url:"/finance/account/handel",method:"post",data:t};return Object(i["a"])(e)}function M(t){var e={url:"/finance/apply/get",method:"get",params:t};return Object(i["a"])(e)}function W(t){var e={url:"/auth/apply/del",method:"delete",params:t};return Object(i["a"])(e)}function q(t){var e={url:"/finance/apply/add",method:"post",data:t};return Object(i["a"])(e)}function B(t){var e={url:"/finance/apply/edit",method:"post",data:t};return Object(i["a"])(e)}function X(t){var e={url:"/auth/customer/customer",method:"post",data:t};return Object(i["a"])(e)}function Y(t){var e={url:"/finance/account/audit",method:"get",params:t};return Object(i["a"])(e)}function J(t){var e={url:"/finance/r/audit",method:"get",params:t};return Object(i["a"])(e)}function U(t){var e={url:"/auth/apply/audit",method:"post",params:t};return Object(i["a"])(e)}function H(t){var e={url:"/auth/p/audit",method:"post",params:t};return Object(i["a"])(e)}function Q(t){var e={url:"/orders/fullorder/getOrderList",method:"post",data:t};return Object(i["a"])(e)}function K(t){var e={url:"/orders/declare_order/get_declare_data",method:"post",data:t};return Object(i["a"])(e)}function V(t){var e={url:"/orders/card/get_data",method:"post",data:t};return Object(i["a"])(e)}function G(t){var e={url:"/orders/trailer/page",method:"post",data:t};return Object(i["a"])(e)}function Z(t){var e={url:"/express/web/expressorder/list",method:"post",data:t};return Object(i["a"])(e)}function tt(){var t={url:"/auth/agent/customer_finance",method:"get"};return Object(i["a"])(t)}function et(t){var e={url:"/finance/bill/billPage",method:"post",data:t};return Object(i["a"])(e)}function at(t){var e={url:"/finance/account/unverified",method:"post",data:t};return Object(i["a"])(e)}function nt(t){var e={url:"/auth/supplier/custType",method:"post",data:t};return Object(i["a"])(e)}},bea2:function(t,e,a){"use strict";var n=a("2575"),i=a.n(n);i.a}}]);