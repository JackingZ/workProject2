(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["fbacontainer-management"],{"0c19":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","min-height":"inherit"}},[a("div",{staticClass:"dashboard-container",staticStyle:{flex:"1",overflow:"auto"}},[a("div",{staticClass:"app-container"},[a("head-info",{attrs:{info:"",title:"FBA仓库"}}),a("div",{staticClass:"app-panel"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["addFbastore"],expression:"['addFbastore']"}],staticStyle:{"margin-left":"10px"},attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:e.add}},[e._v("\n              新增FBA仓库\n            ")])],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:20}},[a("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{placeholder:"仓库类型",size:"small",clearable:""},model:{value:e.selectValue.type,callback:function(t){e.$set(e.selectValue,"type",t)},expression:"selectValue.type"}},e._l(e.typeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),a("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{placeholder:"所在国家",clearable:"",size:"small",filterable:""},on:{focus:e.getCountryList,change:function(t){return e.onCountryChange(1)}},model:{value:e.selectValue.countryId,callback:function(t){e.$set(e.selectValue,"countryId",t)},expression:"selectValue.countryId"}},e._l(e.countryList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),a("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{loading:e.selectLoading,disabled:!e.selectValue.countryId,placeholder:"州/省",clearable:"",filterable:"",size:"small"},on:{focus:function(t){return e.getStateList(1)},change:function(t){return e.onStateChange(1)}},model:{value:e.selectValue.stateId,callback:function(t){e.$set(e.selectValue,"stateId",t)},expression:"selectValue.stateId"}},e._l(e.stateList1,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1),a("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{loading:e.selectLoading,disabled:!e.selectValue.stateId,placeholder:"城市",clearable:"",size:"small",filterable:""},on:{focus:function(t){return e.getCityList(1)},change:function(t){return e.onCityChange(1)}},model:{value:e.selectValue.cityId,callback:function(t){e.$set(e.selectValue,"cityId",t)},expression:"selectValue.cityId"}},e._l(e.cityList1,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1),a("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{placeholder:"启用状态",clearable:"",size:"small"},model:{value:e.selectValue.status,callback:function(t){e.$set(e.selectValue,"status",t)},expression:"selectValue.status"}},e._l(e.statusList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),a("el-input",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{size:"small",placeholder:"请输入仓库编码"},model:{value:e.selectValue.code,callback:function(t){e.$set(e.selectValue,"code",t)},expression:"selectValue.code"}}),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["queryFbastore"],expression:"['queryFbastore']"}],attrs:{type:"primary",size:"small"},on:{click:function(t){return e.getFbastoreList(1)}}},[e._v("\n              查询\n            ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.list,height:"calc(100vh - 313px)",border:""},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{label:"仓库类型",width:"120",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e.formatType(t.row.type))+"\n            ")]}}])}),a("el-table-column",{attrs:{label:"仓库编号",width:"120",prop:"code",fixed:"left",sortable:"custom"}}),a("el-table-column",{attrs:{label:"国家/地区",width:"160",prop:"countryName"}}),a("el-table-column",{attrs:{label:"州省市区","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:!!t.row.stateName,expression:"!!scope.row.stateName"}]},[e._v("\n                "+e._s(t.row.stateName+"-"+t.row.stateNameEn)+"\n              ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!!t.row.cityName,expression:"!!scope.row.cityName"}]},[e._v("\n                > "+e._s(t.row.cityName+"-"+t.row.cityNameEn)+"\n              ")])]}}])}),a("el-table-column",{attrs:{label:"详细地址一","min-width":"180",prop:"address"}}),a("el-table-column",{attrs:{label:"邮政编码",width:"180",prop:"postal"}}),a("el-table-column",{attrs:{label:"收货公司","min-width":"180",prop:"recipient"}}),a("el-table-column",{attrs:{label:"启用状态",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{staticClass:"switchStyle",attrs:{value:t.row.status,disabled:!e.$checkPermission(["fbastoreChangeStatus"]),"active-text":"启用","inactive-text":"禁用","active-value":"1","inactive-value":"0"},on:{input:function(a){return e.onStatus(t.row,a)}}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["editFbastore"],expression:"['editFbastore']"}],attrs:{type:"text",size:"medium"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("\n                编辑\n              ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["deleteFbastore"],expression:"['deleteFbastore']"}],attrs:{type:"text",size:"medium"},on:{click:function(a){return e.deleteFbastore(t.row.id)}}},[e._v("\n                删除\n              ")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.page,"page-size":e.size,layout:"total, prev, pager, next",total:e.total},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"FBA仓库",width:"900px",visible:e.dialogShow,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogShow=t},close:e.cancel}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],ref:"theForm",staticStyle:{"padding-right":"20px"},attrs:{rules:e.formRules,model:e.form,"label-width":"110px",size:"small"}},[a("el-form-item",{attrs:{prop:"type",label:"仓库类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:e.onTypeChange},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),"1"===e.form.type?a("el-form-item",{attrs:{label:"自有",prop:"ifHave"}},[a("el-radio-group",{model:{value:e.form.ifHave,callback:function(t){e.$set(e.form,"ifHave",t)},expression:"form.ifHave"}},[a("el-radio",{attrs:{label:0}},[e._v("\n                  否\n                ")]),a("el-radio",{attrs:{label:1}},[e._v("\n                  是\n                ")])],1)],1):e._e(),a("el-form-item",{attrs:{prop:"code",label:"FBA仓库编码"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{autocomplete:"off",maxlength:"10","show-word-limit":""},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),a("el-form-item",{attrs:{prop:"countryId",label:"国家/地区"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:""},on:{focus:e.getCountryList,change:function(t){return e.onCountryChange(2)}},model:{value:e.form.countryId,callback:function(t){e.$set(e.form,"countryId",t)},expression:"form.countryId"}},e._l(e.countryList,function(t){return a("el-option",{key:t.id,attrs:{label:e.$formatCountry(t),value:t.id}})}),1)],1),a("el-form-item",{attrs:{label:"州/省",prop:"stateId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.selectLoading,placeholder:"请选择",clearable:"",disabled:!e.form.countryId,filterable:""},on:{focus:function(t){return e.getStateList(2)},change:function(t){return e.onStateChange(2)}},model:{value:e.form.stateId,callback:function(t){e.$set(e.form,"stateId",t)},expression:"form.stateId"}},e._l(e.stateList2,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"城市",prop:"cityId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.selectLoading,placeholder:"请选择",clearable:"",disabled:!e.form.stateId,filterable:""},on:{focus:function(t){return e.getCityList(2)},change:function(t){return e.onCityChange(2)}},model:{value:e.form.cityId,callback:function(t){e.$set(e.form,"cityId",t)},expression:"form.cityId"}},e._l(e.cityList2,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1),a("el-form-item",{attrs:{prop:"address",label:"详细地址一"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{autocomplete:"off",maxlength:30},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),a("el-form-item",{attrs:{prop:"address1",label:"详细地址二"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{autocomplete:"off",maxlength:30},model:{value:e.form.address1,callback:function(t){e.$set(e.form,"address1",t)},expression:"form.address1"}})],1),a("el-form-item",{attrs:{prop:"address2",label:"详细地址三"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{autocomplete:"off",maxlength:30},model:{value:e.form.address2,callback:function(t){e.$set(e.form,"address2",t)},expression:"form.address2"}})],1),a("el-form-item",{attrs:{prop:"postal",label:"邮政编码"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{autocomplete:"off",maxlength:10,"show-word-limit":""},model:{value:e.form.postal,callback:function(t){e.$set(e.form,"postal",t)},expression:"form.postal"}})],1),a("el-form-item",{attrs:{prop:"recipient",label:"收货公司"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:e.isRecipientDisabled,maxlength:50,autocomplete:"off"},model:{value:e.form.recipient,callback:function(t){e.$set(e.form,"recipient",t)},expression:"form.recipient"}})],1),a("el-form-item",{attrs:{prop:"contact",label:"联系人"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{autocomplete:"off",maxlength:50},model:{value:e.form.contact,callback:function(t){e.$set(e.form,"contact",t)},expression:"form.contact"}})],1),a("el-form-item",{attrs:{prop:"email",label:"联系邮箱"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{autocomplete:"off",maxlength:30},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("el-form-item",{attrs:{prop:"phone",label:"联系电话"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{autocomplete:"off",maxlength:20},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),"0"===e.form.type?a("el-form-item",{attrs:{prop:"maxSize",label:"最大尺寸"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"number",autocomplete:"off"},model:{value:e.form.maxSize,callback:function(t){e.$set(e.form,"maxSize",e._n(t))},expression:"form.maxSize"}},[a("template",{slot:"append"},[e._v("\n                  cm\n                ")])],2)],1):e._e(),"0"===e.form.type?a("el-form-item",{attrs:{prop:"maxWeight",label:"最大重量"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"number",autocomplete:"off"},model:{value:e.form.maxWeight,callback:function(t){e.$set(e.form,"maxWeight",e._n(t))},expression:"form.maxWeight"}},[a("template",{slot:"append"},[e._v("\n                  kg\n                ")])],2)],1):e._e(),"0"===e.form.type?a("el-form-item",{attrs:{prop:"isDirect",label:"直送"}},[a("el-radio-group",{model:{value:e.form.isDirect,callback:function(t){e.$set(e.form,"isDirect",t)},expression:"form.isDirect"}},[a("el-radio",{attrs:{label:0}},[e._v("\n                  是\n                ")]),a("el-radio",{attrs:{label:1}},[e._v("\n                  否\n                ")])],1)],1):e._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("\n              取 消\n            ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("\n              确 定\n            ")])],1)],1)],1)],1)])])},r=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("a8db")),o=(a("7514"),a("bd86")),s=a("768b"),l=(a("96cf"),a("3b8d")),c=a("d225"),u=a("b0b4"),d=a("308d"),f=a("6bb5"),m=a("4e2b"),p=a("9ab4"),h=a("60a3"),g=a("ac1a"),v=a("b32d");function b(){var e={url:"/setting/area/getCountryList",method:"get"};return Object(v["a"])(e)}function y(e){var t={url:"/setting/area/getStateByCountry",method:"get",params:{countryId:e}};return Object(v["a"])(t)}function w(e){var t={url:"/setting/area/getCityByState",method:"get",params:{stateId:e}};return Object(v["a"])(t)}function x(e){var t={url:"/setting/area/getCountyByCity",method:"get",params:{cityId:e}};return Object(v["a"])(t)}function k(e){var t={url:"/setting/fbastore/deleteFbastore",method:"delete",params:{id:e}};return Object(v["a"])(t)}function L(e){var t={url:"/setting/fbastore/getFbastoreList",method:"get",params:e};return Object(v["a"])(t)}function I(e){var t={url:"/setting/fbastore/addFbastore",method:"post",data:e};return Object(v["a"])(t)}function S(e){var t={url:"/setting/fbastore/updateFbastore",method:"post",data:e};return Object(v["a"])(t)}function C(e){var t={url:"/setting/fbastore/changeStatus",method:"post",params:e};return Object(v["a"])(t)}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach(function(t){Object(o["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var _=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(d["a"])(this,Object(f["a"])(t).apply(this,arguments)),e.loading=!1,e.selectLoading=!1,e.dialogLoading=!1,e.dialogShow=!1,e.isEdit=!1,e.list=[],e.countryList=[],e.stateList1=[],e.cityList1=[],e.countyList1=[],e.stateList2=[],e.cityList2=[],e.countyList2=[],e.typeList=[{label:"亚马逊",value:"0"},{label:"海外仓",value:"1"}],e.statusList=[{label:"启用",value:"1"},{label:"禁用",value:"0"}],e.props={value:"id",label:"name"},e.page=1,e.size=10,e.total=0,e.selectValue={type:void 0,countryId:void 0,stateId:void 0,cityId:void 0,countyId:void 0,placeId:void 0,status:void 0,code:void 0},e.form={type:void 0,code:void 0,countryId:void 0,stateId:void 0,cityId:void 0,countyId:void 0,address:void 0,address1:void 0,address2:void 0,postal:void 0,recipient:void 0,contact:void 0,email:void 0,phone:void 0,maxWeight:void 0,ifHave:0,maxSize:void 0,isDirect:void 0},e.formRules={type:[{required:!0,message:"请选择FBA仓库类型",trigger:"change"}],countryId:[{required:!0,message:"请选择国家/地区",trigger:"change"}],stateId:[{required:!0,message:"请选择州/省",trigger:"change"}],cityId:[{required:!0,message:"请选择城市",trigger:"change"}],code:[{required:!0,message:"FBA仓库编码不能为空",trigger:"blur"}],address:[{required:!0,message:"仓库地址不能为空"}],postal:[{required:!0,message:"邮政编码不能为空",trigger:"blur"},{validator:function(e,t,a){var i=/[\u4e00-\u9fa5]/;i.test(t)?a(new Error("邮政编码不能有中文")):a()},trigger:"blur"}],recipient:[{required:!0,message:"收货公司不能为空",trigger:"blur"}],contact:[{required:!0,message:"联系人不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"邮箱地址格式不正确",trigger:["blur","change"]}],phone:[{required:!0,message:"电话不能为空",trigger:"blur"},{validator:function(e,t,a){var i=/[\u4e00-\u9fa5]/;t&&i.test(t)?a(new Error("电话号码不能有中文")):a()},trigger:"blur"}],maxWeight:[{type:"number",message:"请填写数字",trigger:"blur"},{validator:function(e,t,a){t<0?a(new Error("必须大于等于0")):a()},trigger:"blur"}],maxSize:[{type:"number",message:"请填写数字",trigger:"blur"},{validator:function(e,t,a){t<0?a(new Error("必须大于等于0")):a()},trigger:"blur"}]},e}return Object(m["a"])(t,e),Object(u["a"])(t,[{key:"getCountryList",value:function(){var e=this;b().then(function(t){var a=t.data||{},i=a.result||[];e.countryList=i}).catch(function(e){return e})}},{key:"getStateList",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=1===t?this.selectValue.countryId:this.form.countryId,this.selectLoading=!0,e.next=4,y(a).then(function(e){i.selectLoading=!1;var a=e.data||{},r=a.result||[];1===t?i.stateList1=r:i.stateList2=r}).catch(function(){i.dialogLoading=!1,i.selectLoading=!1});case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCityList",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=1===t?this.selectValue.stateId:this.form.stateId,this.selectLoading=!0,e.next=4,w(a).then(function(e){i.selectLoading=!1;var a=e.data||{},r=a.result||[];1===t?i.cityList1=r:i.cityList2=r}).catch(function(){i.dialogLoading=!1,i.selectLoading=!1});case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCountyList",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.selectLoading=!0,a=1===t?this.selectValue.cityId:this.form.cityId,e.next=4,x(a).then(function(e){var a=e.data||{},r=a.result||[];1===t?i.countyList1=r:i.countyList2=r,i.selectLoading=!1}).catch(function(){i.dialogLoading=!1,i.selectLoading=!1});case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"onCountryChange",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:1===t?(this.selectValue.stateId=void 0,this.selectValue.cityId=void 0,this.selectValue.countyId=void 0):2===t&&(this.form.stateId=void 0,this.form.cityId=void 0,this.form.countyId=void 0);case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"onStateChange",value:function(e){1===e?(this.selectValue.cityId=void 0,this.selectValue.countyId=void 0):2===e&&(this.form.cityId=void 0,this.form.countyId=void 0)}},{key:"onCityChange",value:function(e){1===e?this.selectValue.countyId=void 0:2===e&&(this.form.countyId=void 0)}},{key:"onTypeChange",value:function(e){this.form.maxSize=void 0,this.form.maxWeight=void 0,this.form.isDirect=void 0,0===parseInt(e,10)?this.form.recipient="Amazon":this.form.recipient=""}},{key:"onStatus",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,a){var i,r,n,o,l=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.status&&t.status!==a){e.next=2;break}return e.abrupt("return");case 2:return i="0"===a?"禁用":"开启",e.next=5,this.$confirm("此操作将".concat(i,"FBA仓库，是否继续？"),"提示",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(e){return[null,e]}).catch(function(e){return[e,null]});case 5:if(r=e.sent,n=Object(s["a"])(r,2),o=n[0],n[1],!o){e.next=11;break}return e.abrupt("return");case 11:C({id:t.id,status:a}).then(function(e){l.$message.success("修改成功"),l.getFbastoreList()}).catch(function(e){return e});case 12:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"sortChange",value:function(e){e.order?this.selectValue.codeSort="descending"===e.order?"D":"A":this.selectValue.codeSort=null,this.getFbastoreList(1)}},{key:"getFbastoreList",value:function(e){var t=this;e&&(this.page=e);var a=F({},this.selectValue,{page:this.page,size:this.size});this.loading=!0,L(a).then(function(e){var a=e.data||{},i=a.result||[];t.list=i,t.total=a.total,t.loading=!1}).catch(function(e){return t.loading=!1,e})}},{key:"formatType",value:function(e){var t=this.typeList,a=t.find(function(t){return t.value===e})||{};return a.label||""}},{key:"codeValidator",value:function(e,t,a){""===t?a(new Error("仓库编号不能为空")):t.length<3?a(new Error("仓库编号不能少于四位")):a()}},{key:"clearValidate",value:function(){var e=this.$refs.theForm;this.$nextTick(function(){e.clearValidate()})}},{key:"add",value:function(){this.isEdit=!1,this.dialogShow=!0}},{key:"handleSubmit",value:function(){var e=this,t=this.$refs.theForm;t.validate(function(t){if(t){var a=e.form,i=a.countryId,r=a.stateId,o=a.cityId,s=a.countyId,l=Object(n["a"])(a,["countryId","stateId","cityId","countyId"]),c=e.countryList.find(function(e){return e.id===i})||{},u=e.stateList2.find(function(e){return e.id===r})||{},d=e.cityList2.find(function(e){return e.id===o})||{},f=(e.countyList2.find(function(e){return e.id===s}),F({},l,{countryId:i,countryName:c.name,countryNameEn:d.name,stateId:r,stateName:u.name,stateNameAbbr:u.abbr,stateNameEn:u.alias,cityId:o,cityName:d.name,cityNameAbbr:d.abbr,cityNameEn:d.alias}));e.isEdit?e.updateFbastore(f):e.addFbastore(f)}})}},{key:"handleEdit",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.isEdit=!0,this.dialogShow=!0,this.dialogLoading=!0,this.form=F({},t),this.getCountryList(),e.prev=5,!this.form.countryId){e.next=9;break}return e.next=9,this.getStateList(2);case 9:if(!this.form.stateId){e.next=12;break}return e.next=12,this.getCityList(2);case 12:this.dialogLoading=!1,e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](5),this.dialogLoading=!1;case 18:case"end":return e.stop()}},e,this,[[5,15]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"addFbastore",value:function(e){var t=this;this.dialogLoading=!0,I(e).then(function(e){t.dialogLoading=!1,t.cancel(),t.getFbastoreList()}).catch(function(e){return t.dialogLoading=!1,e})}},{key:"updateFbastore",value:function(e){var t=this;this.dialogLoading=!0,S(e).then(function(e){t.dialogLoading=!1,t.cancel(),t.getFbastoreList()}).catch(function(e){return t.dialogLoading=!1,e})}},{key:"deleteFbastore",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a,i,r,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将删除FBA仓库，是否继续？","提示",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(e){return[null,e]}).catch(function(e){return[e,null]});case 2:if(a=e.sent,i=Object(s["a"])(a,2),r=i[0],i[1],!r){e.next=8;break}return e.abrupt("return");case 8:k(t).then(function(e){n.$message.success("删除成功"),n.getFbastoreList()}).catch(function(e){return e});case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.dialogShow=!1,this.stateList2=[],this.cityList2=[],this.countyList2=[],this.resetForm(),this.clearValidate()}},{key:"resetForm",value:function(){this.form={type:void 0,code:void 0,countryId:void 0,stateId:void 0,cityId:void 0,countyId:void 0,address:void 0,address1:void 0,address2:void 0,postal:void 0,recipient:void 0,contact:void 0,email:void 0,phone:void 0,maxWeight:void 0,maxSize:void 0,isDirect:void 0}}},{key:"handleSizeChange",value:function(e){this.size=e,this.getFbastoreList()}},{key:"handleCurrentChange",value:function(e){this.page=e,this.getFbastoreList()}},{key:"init",value:function(){this.getFbastoreList()}},{key:"created",value:function(){this.init()}},{key:"labelPosition",get:function(){var e=g["a"].language;return e&&"en"===e?"top":"left"}},{key:"lang",get:function(){var e=g["a"].language;return e||"en"}},{key:"isRecipientDisabled",get:function(){return 0===parseInt(this.form.type,10)}}]),t}(h["e"]);_=p["a"]([Object(h["a"])({name:"FBA",components:{},props:{}})],_);var V=_,j=V,$=(a("8f4a"),a("2877")),z=Object($["a"])(j,i,r,!1,null,"4a6775ce",null);t["default"]=z.exports},"737a":function(e,t,a){},"8f4a":function(e,t,a){"use strict";var i=a("737a"),r=a.n(i);r.a}}]);