(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["agent-management~customer-management~jht-setion~supplier-management"],{"01d2":function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isPanelLoading,expression:"isPanelLoading"}],staticClass:"app-panel",staticStyle:{padding:"0 20px 20px"}},[r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"联系信息",name:"1"}}),r("el-tab-pane",{attrs:{label:"地址信息",name:"2"}}),r("el-tab-pane",{attrs:{label:"我的设置",name:"3"}}),"customer"!==e.currentCustType?r("el-tab-pane",{attrs:{label:"收款信息",name:"4"}}):e._e(),"customer"!==e.currentCustType?r("el-tab-pane",{attrs:{label:"开票信息",name:"5"}}):e._e(),r("el-tab-pane",{attrs:{label:"文件列表",name:"6"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"1"===e.activeName,expression:"activeName === '1'"}]},[r("el-row",[r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"text",size:"small"},on:{click:e.addPerson}},[e._v("\n          新增人员\n        ")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.personLoading,expression:"personLoading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.personData,height:"calc(100vh - 313px)",border:""}},[r("el-table-column",{attrs:{label:"所有国家","min-width":"120",prop:"countryName"}}),r("el-table-column",{attrs:{label:"所属部门",width:"120",prop:"dept"}}),r("el-table-column",{attrs:{label:"职务类型",width:"120",prop:"duty"}}),r("el-table-column",{attrs:{label:"姓名",width:"120",prop:"name"}}),r("el-table-column",{attrs:{label:"电话/手机",width:"180",prop:"phone"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.tel))]),r("br"),r("span",[e._v(e._s(t.row.phone))])]}}])}),r("el-table-column",{attrs:{label:"电子邮箱",width:"180",prop:"email"}}),r("el-table-column",{attrs:{label:"其他联系方式",width:"180",prop:"sns"}}),r("el-table-column",{attrs:{label:"地址","min-width":"180",prop:"address"}}),r("el-table-column",{attrs:{label:"最后更新",width:"170",prop:"updateTime"}}),r("el-table-column",{attrs:{label:"操作",width:"130",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.editPerson(t.row)}}},[e._v("\n            编辑\n          ")]),r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.deletePerson(t.row)}}},[e._v("\n            删除\n          ")])]}}])})],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"2"===e.activeName,expression:"activeName === '2'"}]},[r("el-row",[r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"text",size:"small"},on:{click:e.addAdress}},[e._v("\n          新增地址\n        ")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.addressLoading,expression:"addressLoading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.addressData,height:"calc(100vh - 313px)",border:""}},[r("el-table-column",{attrs:{label:"默认",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-radio",{attrs:{label:t.row.id},nativeOn:{change:function(r){return e.getAddressRow(t.$index,t.row)}},model:{value:e.tableAddressRadio,callback:function(t){e.tableAddressRadio=t},expression:"tableAddressRadio"}},[e._v("\n             \n          ")])]}}])}),r("el-table-column",{attrs:{label:"地址类型",width:"100",formatter:e.formatAddress}}),r("el-table-column",{attrs:{label:"地址名称",width:"150",prop:"name"}}),r("el-table-column",{attrs:{label:"所在国家","min-width":"120",prop:"countryName"}}),r("el-table-column",{attrs:{label:"州省市区","min-width":"200","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{directives:[{name:"show",rawName:"v-show",value:!!t.row.stateName,expression:"!!scope.row.stateName"}]},[e._v("\n            "+e._s(t.row.stateName)+"\n          ")]),r("span",{directives:[{name:"show",rawName:"v-show",value:!!t.row.cityName,expression:"!!scope.row.cityName"}]},[e._v("\n            > "+e._s(t.row.cityName)+"\n          ")]),r("span",{directives:[{name:"show",rawName:"v-show",value:!!t.row.countyName,expression:"!!scope.row.countyName"}]},[e._v("\n            > "+e._s(t.row.countyName)+"\n          ")])]}}])}),r("el-table-column",{attrs:{label:"地址","min-width":"180",prop:"address"}}),r("el-table-column",{attrs:{label:"关联对接人",width:"150",prop:"contactName"}}),r("el-table-column",{attrs:{label:"最后更新",width:"170",prop:"updateTime"}}),r("el-table-column",{attrs:{label:"操作",width:"130",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.editAddress(t.row)}}},[e._v("\n            编辑\n          ")]),r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.deleteAddress(t.row)}}},[e._v("\n            删除\n          ")])]}}])})],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"3"===e.activeName,expression:"activeName === '3'"}]},[r("el-row",[r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"text",size:"small"},on:{click:e.addSetting}},[e._v("\n          新增设置\n        ")])],1),r("el-col",{staticStyle:{"text-align":"right"},attrs:{span:22}},[r("el-select",{staticStyle:{width:"100px","margin-right":"5px"},attrs:{placeholder:"类型",size:"small",clearable:""},model:{value:e.settingSearch.type,callback:function(t){e.$set(e.settingSearch,"type",t)},expression:"settingSearch.type"}},e._l(e.settingTypeList,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),r("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{placeholder:"服务国家",size:"small",filterable:"",clearable:""},on:{focus:e.getCountryList},model:{value:e.settingSearch.serviceCountryId,callback:function(t){e.$set(e.settingSearch,"serviceCountryId",t)},expression:"settingSearch.serviceCountryId"}},e._l(e.countryList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.getSettingData}},[e._v("\n          查询\n        ")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.settingLoading,expression:"settingLoading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.settingData,height:"calc(100vh - 313px)",border:""}},[r("el-table-column",{attrs:{label:"类型",width:"100",formatter:e.formatSettingType}}),r("el-table-column",{attrs:{label:"联系人",width:"120",prop:"contact"}}),r("el-table-column",{attrs:{label:"所在国家","min-width":"120",prop:"countryName"}}),r("el-table-column",{attrs:{label:"州省市区","min-width":"200","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{directives:[{name:"show",rawName:"v-show",value:!!t.row.stateName,expression:"!!scope.row.stateName"}]},[e._v("\n            "+e._s(t.row.stateName)+"\n          ")]),r("span",{directives:[{name:"show",rawName:"v-show",value:!!t.row.cityName,expression:"!!scope.row.cityName"}]},[e._v("\n            > "+e._s(t.row.cityName)+"\n          ")]),r("span",{directives:[{name:"show",rawName:"v-show",value:!!t.row.countyName,expression:"!!scope.row.countyName"}]},[e._v("\n            > "+e._s(t.row.countyName)+"\n          ")])]}}])}),r("el-table-column",{attrs:{label:"公司名称","min-width":"120",prop:"company"}}),r("el-table-column",{attrs:{label:"联系电话",width:"150",prop:"phone"}}),r("el-table-column",{attrs:{label:"电子邮箱",width:"150",prop:"email"}}),r("el-table-column",{attrs:{label:"联系地址","min-width":"180",prop:"address"}}),r("el-table-column",{attrs:{label:"是否有效",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v("\n            "+e._s("1"===t.row.status?"有效":"无效")+"\n          ")])]}}])}),r("el-table-column",{attrs:{label:"最后更新",width:"170",prop:"updateTime"}}),r("el-table-column",{attrs:{label:"操作",width:"130",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.editSetting(t.row)}}},[e._v("\n            编辑\n          ")]),r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.deleteSetting(t.row)}}},[e._v("\n            删除\n          ")])]}}])})],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"4"===e.activeName,expression:"activeName === '4'"}]},[r("el-row",[r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"text",size:"small"},on:{click:e.addCollection}},[e._v("\n          新增收款信息\n        ")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.collectionLoading,expression:"collectionLoading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.collectionData,height:"calc(100vh - 313px)",border:""}},[r("el-table-column",{attrs:{label:"收款方式","min-width":"100",formatter:e.formatType,prop:"type"}}),r("el-table-column",{attrs:{label:"国家/地区","min-width":"120",prop:"countryName"}}),r("el-table-column",{attrs:{label:"币种",width:"120",prop:"currencyName"}}),r("el-table-column",{attrs:{label:"收款账号","min-width":"120",prop:"acctNo"}}),r("el-table-column",{attrs:{label:"SWIFT Code",width:"180",prop:"swiftCode"}}),r("el-table-column",{attrs:{label:"备注信息",width:"200",prop:"remark","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{label:"最后更新",width:"170",prop:"updateTime"}}),r("el-table-column",{attrs:{label:"附件",width:"100",prop:"attach"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.preview(t.row.attach,!0)}}},[e._v("\n            预览\n          ")])]}}])}),r("el-table-column",{attrs:{label:"操作",width:"130",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.editCollection(t.row)}}},[e._v("\n            编辑\n          ")]),r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.deleteCollection(t.row)}}},[e._v("\n            删除\n          ")])]}}])})],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"5"===e.activeName,expression:"activeName === '5'"}]},[r("el-row",[r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"text",size:"small"},on:{click:e.addBill}},[e._v("\n          新增开票信息\n        ")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.billLoading,expression:"billLoading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.billInfoData,height:"calc(100vh - 313px)",border:""}},[r("el-table-column",{attrs:{label:"开票名称","min-width":"120",prop:"name"}}),r("el-table-column",{attrs:{label:"纳税识别号",width:"180",prop:"taxId"}}),r("el-table-column",{attrs:{label:"开户银行",width:"180",prop:"bank"}}),r("el-table-column",{attrs:{label:"国家/地区","min-width":"120",prop:"countryName"}}),r("el-table-column",{attrs:{label:"币种","min-width":"120",prop:"currencyName"}}),r("el-table-column",{attrs:{label:"每月额度","min-width":"120",prop:"amount"}}),r("el-table-column",{attrs:{label:"备注信息",width:"200",prop:"remark","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{label:"最后更新",width:"170",prop:"updateTime"}}),r("el-table-column",{attrs:{label:"操作",width:"130",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.editBill(t.row)}}},[e._v("\n            编辑\n          ")]),r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.deleteBill(t.row)}}},[e._v("\n            删除\n          ")])]}}])})],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"6"===e.activeName,expression:"activeName === '6'"}]},[r("el-row",[r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"text",size:"small"},on:{click:e.addFileData}},[e._v("\n          新增上传文件\n        ")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.fileLoading,expression:"fileLoading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.fileInfoData,height:"calc(100vh - 313px)",border:""}},[r("el-table-column",{attrs:{label:"文件名称","min-width":"100",prop:"name"}}),r("el-table-column",{attrs:{label:"文件类型",width:"150",formatter:e.formatFileType}}),r("el-table-column",{attrs:{label:"编码/ID","min-width":"150",prop:"code"}}),r("el-table-column",{attrs:{label:"文件描述","min-width":"150",prop:"des"}}),r("el-table-column",{attrs:{label:"最后更新",width:"170",prop:"updateTime"}}),r("el-table-column",{attrs:{label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.previewFile(t.row)}}},[e._v("\n            预览\n          ")]),r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.editFile(t.row)}}},[e._v("\n            编辑\n          ")]),r("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(r){return e.deleteFile(t.row)}}},[e._v("\n            删除\n          ")])]}}])})],1)],1),r("add-edit-person",{ref:"addEditPerson",attrs:{"is-person-form-show":e.isPersonFormShow,"is-edit":e.isPersonEdit,"person-form":e.personForm,"is-person-form-loading":e.isPersonFormLoading,"country-list":e.countryList},on:{savePersonConfirm:e.savePersonConfirm,closePersonForm:e.closePersonForm}}),r("add-edit-address",{ref:"addEditAddress",attrs:{"is-address-form-show":e.isAddressFormShow,"is-edit":e.isAddressEdit,"country-list":e.countryList,"type-list":e.typeList,"person-data":e.personData},on:{saveAddressConfirm:e.saveAddressConfirm,closeAddressForm:e.closeAddressForm}}),r("add-edit-collection",{ref:"addEditCollection",attrs:{"is-collection-form-show":e.isCollectionFormShow,"is-edit":e.isCollectionEdit,"collection-form":e.collectionForm,"is-collection-form-loading":e.isCollectionFormLoading,"country-list":e.countryList,"payway-list":e.paywayList,"currency-list":e.currencyList,"current-cust-type":e.currentCustType},on:{saveCollectionConfirm:e.saveCollectionConfirm,closeCollectionForm:e.closeCollectionForm}}),r("add-edit-bill",{ref:"addEditBill",attrs:{"is-bill-form-show":e.isBillFormShow,"is-edit":e.isBillEdit,"bill-form":e.billForm,"is-bill-form-loading":e.isBillFormLoading,"country-list":e.countryList,"bill-data":e.billInfoData,"currency-list":e.currencyList},on:{saveBillConfirm:e.saveBillConfirm,closeBillForm:e.closeBillForm}}),r("add-edit-file",{ref:"addEditFile",attrs:{"is-file-form-show":e.isFileFormShow,"is-edit":e.isFileEdit,"file-form":e.fileForm,"is-file-form-loading":e.isFileFormLoading,"country-list":e.countryList,"currency-list":e.currencyList,"current-cust-type":e.currentCustType,"file-type-list":e.fileTypeList},on:{"update:isFileFormShow":function(t){e.isFileFormShow=t},"update:is-file-form-show":function(t){e.isFileFormShow=t},saveFileConfirm:e.saveFileConfirm,closeFileForm:e.closeFileForm}}),r("add-edit-setting",{ref:"addEditSetting",attrs:{"is-setting-form-show":e.isSettingFormShow,"is-edit":e.isSettingEdit,"country-list":e.countryList,"current-cust-type":e.currentCustType,"setting-type-list":e.settingTypeList},on:{"update:isSettingFormShow":function(t){e.isSettingFormShow=t},"update:is-setting-form-show":function(t){e.isSettingFormShow=t},saveSettingConfirm:e.saveSettingConfirm,closeSettingForm:e.closeSettingForm}}),r("el-dialog",{attrs:{visible:e.isPreviewShow,"close-on-click-modal":!1,width:"800px"},on:{"update:visible":function(t){e.isPreviewShow=t},closed:e.onClose}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.imgLoading,expression:"imgLoading"}]},[r("img",{staticStyle:{display:"block",height:"100%",width:"100%","object-fit":"contain"},attrs:{src:e.previewImgUrl}})])]),r("el-dialog",{attrs:{visible:e.dialogVisible,"close-on-click-modal":!1,"append-to-body":"","destroy-on-close":"",width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){e.dialogImageUrl=""}}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.imgLoading,expression:"imgLoading"}],staticStyle:{"min-width":"100px"}},[e.dialogImageError?r("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}}):r("img",{attrs:{width:"100%",src:e.dialogImageUrl},on:{error:e.loadDialogImageError}})])])],1)},a=[],n=(r("8e6e"),r("456d"),r("a481"),r("96cf"),r("3b8d")),o=(r("28a5"),r("ac6a"),r("7f7f"),r("7514"),r("bd86")),l=r("d225"),s=r("b0b4"),c=r("308d"),u=r("6bb5"),d=r("4e2b"),m=r("9ab4"),p=r("60a3"),f=r("9dba"),h=r("254e"),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.isEdit?"编辑人员":"新增人员",visible:e.isPersonFormShow,"close-on-click-modal":!1,width:"850px"},on:{"update:visible":function(t){e.isPersonFormShow=t},close:e.cancel}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isPersonFormLoading,expression:"isPersonFormLoading"}],staticClass:"add-edit-organ"},[r("el-form",{ref:"editForm",attrs:{model:e.personForm,rules:e.formRules,"label-width":"110px","label-position":"right"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"联系人姓名",prop:"name"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:20},model:{value:e.personForm.name,callback:function(t){e.$set(e.personForm,"name",t)},expression:"personForm.name"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"英文名称",prop:"alias"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:20},model:{value:e.personForm.alias,callback:function(t){e.$set(e.personForm,"alias",t)},expression:"personForm.alias"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"所属部门",prop:"dept"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:50},model:{value:e.personForm.dept,callback:function(t){e.$set(e.personForm,"dept",t)},expression:"personForm.dept"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"职位名称",prop:"duty"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:50},model:{value:e.personForm.duty,callback:function(t){e.$set(e.personForm,"duty",t)},expression:"personForm.duty"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"国家/地区",prop:"countryId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"",clearable:"",size:"small"},model:{value:e.personForm.countryId,callback:function(t){e.$set(e.personForm,"countryId",t)},expression:"personForm.countryId"}},e._l(e.countryList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"联系电话",prop:"tel"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:20},model:{value:e.personForm.tel,callback:function(t){e.$set(e.personForm,"tel",t)},expression:"personForm.tel"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:20},model:{value:e.personForm.phone,callback:function(t){e.$set(e.personForm,"phone",t)},expression:"personForm.phone"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:30},model:{value:e.personForm.email,callback:function(t){e.$set(e.personForm,"email",t)},expression:"personForm.email"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"传真号码",prop:"fax"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:20},model:{value:e.personForm.fax,callback:function(t){e.$set(e.personForm,"fax",t)},expression:"personForm.fax"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"其他联系方式",prop:"sns"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:50},model:{value:e.personForm.sns,callback:function(t){e.$set(e.personForm,"sns",t)},expression:"personForm.sns"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"联系地址",prop:"address"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:100},model:{value:e.personForm.address,callback:function(t){e.$set(e.personForm,"address",t)},expression:"personForm.address"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"备注"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:100},model:{value:e.personForm.remark,callback:function(t){e.$set(e.personForm,"remark",t)},expression:"personForm.remark"}})],1)],1)],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancel}},[e._v("\n        取 消\n      ")]),r("el-button",{attrs:{type:"primary"},on:{click:e.savePersonConfirm}},[e._v("\n        确 定\n      ")])],1)])],1)},v=[],b=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.formRules={name:[{required:!0,message:"联系人姓名不能为空",trigger:"blur"}],dept:[{required:!0,message:"所属部门不能为空",trigger:"blur"}],duty:[{required:!0,message:"职位名称不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"邮箱地址格式不正确",trigger:["blur","change"]}],countryId:[{required:!0,message:"请选择国家/地区",trigger:"change"}],alias:[{required:!1,message:"英文名称不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/[\u4e00-\u9fa5]/;t&&i.test(t)?r(new Error("英文名称不能有中文")):r()},trigger:"blur"}],certNumber:[{required:!0,message:"请输入证件号码",trigger:"blur"},{validator:function(e,t,r){var i=/[\u4e00-\u9fa5]/;t&&i.test(t)?r(new Error("证件号码不能有中文")):r()},trigger:"blur"}],tel:[{required:!0,message:"联系电话不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/[\u4e00-\u9fa5]/;t&&i.test(t)?r(new Error("联系电话不能有中文")):r()},trigger:"blur"}],phone:[{required:!1,message:"手机号码不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/[\u4e00-\u9fa5]/;t&&i.test(t)?r(new Error("手机号码不能有中文")):r()},trigger:"blur"}],fax:[{required:!1,message:"传真号码不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/[\u4e00-\u9fa5]/;t&&i.test(t)?r(new Error("传真号码不能有中文")):r()},trigger:"blur"}],sns:[{required:!1,message:"其他联系方式不能为空",trigger:"blur"}],address:[{required:!1,message:"联系地址不能为空",trigger:"blur"}]},e}return Object(d["a"])(t,e),Object(s["a"])(t,[{key:"savePersonConfirm",value:function(){var e=this,t=this.$refs.editForm;t.validate(function(t){if(!t)return!1;e.$emit("savePersonConfirm")})}},{key:"cancel",value:function(){this.$emit("closePersonForm")}},{key:"custId",get:function(){var e=f["a"].info||{},t=e.custId;return t}},{key:"custName",get:function(){var e=f["a"].info||{},t=e.custName;return t}}]),t}(p["e"]);b=m["a"]([Object(p["a"])({name:"",components:{},props:{currentCustId:{type:String,default:""},isEdit:{type:Boolean,default:!1},isPersonFormShow:{type:Boolean,default:!1},isPersonFormLoading:{type:Boolean,default:!1},personForm:{type:Object,default:function(){return{}}},countryList:{type:Array,default:function(){return[]}}}})],b);var y=b,F=y,w=r("2877"),k=Object(w["a"])(F,g,v,!1,null,"ac7db9e2",null),L=k.exports,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.isEdit?"编辑地址":"新增地址",visible:e.isAddressFormShow,"close-on-click-modal":!1,width:"850px"},on:{"update:visible":function(t){e.isAddressFormShow=t},close:e.cancel}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isAddressFormLoading,expression:"isAddressFormLoading"}],staticClass:"add-edit-organ"},[r("el-form",{ref:"editForm",attrs:{model:e.addressForm,rules:e.formRules,"label-width":"120px","label-position":"right",size:"small"}},[r("el-form-item",{attrs:{label:"地址名称",prop:"name"}},[r("el-input",{staticStyle:{width:"90%"},attrs:{size:"small",placeholder:"请输入",maxlength:20},model:{value:e.addressForm.name,callback:function(t){e.$set(e.addressForm,"name",t)},expression:"addressForm.name"}})],1),r("el-form-item",{attrs:{label:"地址类型",prop:"type"}},[r("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"请选择",clearable:"",filterable:"",size:"small"},model:{value:e.addressForm.type,callback:function(t){e.$set(e.addressForm,"type",t)},expression:"addressForm.type"}},e._l(e.typeList,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),r("el-form-item",{attrs:{label:"国家/地区",prop:"countryId"}},[r("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"请选择",filterable:"",clearable:"",size:"small"},on:{change:e.onCountryChange},model:{value:e.addressForm.countryId,callback:function(t){e.$set(e.addressForm,"countryId",t)},expression:"addressForm.countryId"}},e._l(e.countryList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1),r("el-form-item",{attrs:{label:"州/省",prop:"stateId"}},[r("el-select",{staticStyle:{width:"90%"},attrs:{loading:e.selectLoading,placeholder:"请选择",clearable:"",disabled:!e.addressForm.countryId,filterable:""},on:{focus:e.getStateList,change:e.onStateChange},model:{value:e.addressForm.stateId,callback:function(t){e.$set(e.addressForm,"stateId",t)},expression:"addressForm.stateId"}},e._l(e.stateList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1),r("el-form-item",{attrs:{label:"城市",prop:"cityId"}},[r("el-select",{staticStyle:{width:"90%"},attrs:{loading:e.selectLoading,placeholder:"请选择",clearable:"",disabled:!e.addressForm.stateId,filterable:""},on:{focus:e.getCityList,change:e.onCityChange},model:{value:e.addressForm.cityId,callback:function(t){e.$set(e.addressForm,"cityId",t)},expression:"addressForm.cityId"}},e._l(e.cityList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1),r("el-form-item",{attrs:{label:"区/县",prop:"countyId"}},[r("el-select",{staticStyle:{width:"90%"},attrs:{loading:e.selectLoading,placeholder:"区/县",clearable:"",disabled:!e.addressForm.cityId,filterable:""},on:{focus:e.getCountyList},model:{value:e.addressForm.countyId,callback:function(t){e.$set(e.addressForm,"countyId",t)},expression:"addressForm.countyId"}},e._l(e.countyList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1),r("el-form-item",{attrs:{label:"联系地址",prop:"address"}},[r("el-input",{staticStyle:{width:"90%"},attrs:{size:"small",placeholder:"请输入",maxlength:100},model:{value:e.addressForm.address,callback:function(t){e.$set(e.addressForm,"address",t)},expression:"addressForm.address"}})],1),r("el-form-item",{attrs:{label:"邮政编码",prop:"postal"}},[r("el-input",{staticStyle:{width:"90%"},attrs:{size:"small",placeholder:"请输入",maxlength:10,"show-word-limit":""},model:{value:e.addressForm.postal,callback:function(t){e.$set(e.addressForm,"postal",t)},expression:"addressForm.postal"}})],1),r("el-form-item",{attrs:{label:"关联对接人",prop:"contactId"}},[r("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"请选择",filterable:"",clearable:"",size:"small"},model:{value:e.addressForm.contactId,callback:function(t){e.$set(e.addressForm,"contactId",t)},expression:"addressForm.contactId"}},e._l(e.personData,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),r("el-form-item",{attrs:{label:"是否集货地址",prop:"store"}},[r("el-radio-group",{model:{value:e.addressForm.store,callback:function(t){e.$set(e.addressForm,"store",t)},expression:"addressForm.store"}},[r("el-radio",{attrs:{label:!1}},[e._v("\n              否\n            ")]),r("el-radio",{attrs:{label:!0}},[e._v("\n              是\n            ")])],1)],1),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{staticStyle:{width:"90%"},attrs:{size:"small",placeholder:"请输入",maxlength:100},model:{value:e.addressForm.remark,callback:function(t){e.$set(e.addressForm,"remark",t)},expression:"addressForm.remark"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancel}},[e._v("\n        取 消\n      ")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveAddressConfirm}},[e._v("\n        确 定\n      ")])],1)])],1)},I=[],C=r("a8db"),S=r("9efa");function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(r,!0).forEach(function(t){Object(o["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $(){return{name:void 0,type:void 0,countryId:void 0,countyId:void 0,stateId:void 0,cityId:void 0,address:void 0,postal:void 0,contactId:void 0,store:!1,remark:void 0}}var N=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.isAddressFormLoading=!1,e.selectLoading=!1,e.addressForm=$(),e.stateList=[],e.cityList=[],e.countyList=[],e.formRules={name:[{required:!0,message:"地址名称不能为空",trigger:"blur"}],type:[{required:!0,message:"请选择地址类型",trigger:"change"}],countryId:[{required:!0,message:"请选择国家/地区",trigger:"change"}],stateId:[{required:!0,message:"请选择州/省",trigger:"change"}],cityId:[{required:!0,message:"请选择城市",trigger:"change"}],countyId:[{required:!1,message:"请选择区/县",trigger:"change"}],address:[{required:!0,message:"联系地址不能为空",trigger:"blur"}],contactId:[{required:!0,message:"请选择关联对接人",trigger:"change"}],postal:[{required:!1,message:"邮政编码不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/^[a-zA-Z0-9]*$/;i.test(t)?r():r(new Error("邮政编码只能包含数字、字母"))},trigger:"blur"}]},e}return Object(d["a"])(t,e),Object(s["a"])(t,[{key:"saveAddressConfirm",value:function(){var e=this,t=this.$refs.editForm;t.validate(function(t){if(!t)return!1;var r=e.countryList,i=e.addressForm,a=i.countryId,n=i.stateId,o=i.cityId,l=i.countyId,s=Object(C["a"])(i,["countryId","stateId","cityId","countyId"]),c=(r.find(function(e){return e.id===a})||{}).name,u=(e.stateList.find(function(e){return e.id===n})||{}).name,d=(e.cityList.find(function(e){return e.id===o})||{}).name,m=(e.countyList.find(function(e){return e.id===l})||{}).name,p=O({},s,{countryId:a,countryName:c,stateName:u,stateId:n,cityName:d,cityId:o,countyId:l,countyName:m});e.$emit("saveAddressConfirm",p)})}},{key:"cancel",value:function(){this.reset(),this.$emit("closeAddressForm")}},{key:"reset",value:function(){var e=this;this.stateList=[],this.cityList=[],this.countyList=[],this.addressForm=$(),this.$nextTick(function(){var t=e.$refs.editForm;t.clearValidate()})}},{key:"setData",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isAddressFormLoading=!0,this.addressForm=O({},t),e.prev=2,e.next=5,this.getStateList();case 5:return e.next=7,this.getCityList();case 7:return e.next=9,this.getCountyList();case 9:this.isAddressFormLoading=!1,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),this.isAddressFormLoading=!1;case 15:case"end":return e.stop()}},e,this,[[2,12]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getStateList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.addressForm.countryId){e.next=2;break}return e.abrupt("return");case 2:return this.selectLoading=!0,e.next=5,Object(S["n"])(this.addressForm.countryId).then(function(e){t.selectLoading=!1;var r=e.data||{},i=r.result||[];t.stateList=i}).catch(function(){t.stateList=[],t.selectLoading=!1});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getCityList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.addressForm.stateId){e.next=2;break}return e.abrupt("return");case 2:return this.selectLoading=!0,e.next=5,Object(S["h"])(this.addressForm.stateId).then(function(e){t.selectLoading=!1;var r=e.data||{},i=r.result||[];t.cityList=i}).catch(function(){t.cityList=[],t.selectLoading=!1});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getCountyList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.addressForm.cityId){e.next=2;break}return e.abrupt("return");case 2:return this.selectLoading=!0,e.next=5,Object(S["j"])(this.addressForm.cityId).then(function(e){var r=e.data||{},i=r.result||[];t.countyList=i,t.selectLoading=!1}).catch(function(){t.countyList=[],t.selectLoading=!1});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onCountryChange",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.addressForm.stateId=void 0,this.onStateChange();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onStateChange",value:function(){this.addressForm.cityId=void 0,this.onCityChange()}},{key:"onCityChange",value:function(){this.addressForm.countyId=void 0}},{key:"custId",get:function(){var e=f["a"].info||{},t=e.custId;return t}},{key:"custName",get:function(){var e=f["a"].info||{},t=e.custName;return t}}]),t}(p["e"]);N=m["a"]([Object(p["a"])({name:"",components:{},props:{isEdit:{type:Boolean,default:!1},isAddressFormShow:{type:Boolean,default:!1},countryList:{type:Array,default:function(){return[]}},typeList:{type:Array,default:function(){return[]}},personData:{type:Array,default:function(){return[]}}}})],N);var _=N,A=_,P=(r("ea97"),Object(w["a"])(A,x,I,!1,null,"92cf24e0",null)),E=P.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.isEdit?"编辑开票信息":"新增开票信息",visible:e.isBillFormShow,"close-on-click-modal":!1,width:"850px"},on:{"update:visible":function(t){e.isBillFormShow=t},close:e.cancel}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isBillFormLoading,expression:"isBillFormLoading"}],staticClass:"add-edit-organ"},[r("el-form",{ref:"editForm",attrs:{model:e.billForm,rules:e.formRules,"label-width":"120px","label-position":"right",size:"small"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"开票名称",prop:"name"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:100},model:{value:e.billForm.name,callback:function(t){e.$set(e.billForm,"name",t)},expression:"billForm.name"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"纳税识别号",prop:"taxId"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:50},model:{value:e.billForm.taxId,callback:function(t){e.$set(e.billForm,"taxId",t)},expression:"billForm.taxId"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"开户银行",prop:"bank"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:50},model:{value:e.billForm.bank,callback:function(t){e.$set(e.billForm,"bank",t)},expression:"billForm.bank"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"每月额度",prop:"amount"}},[r("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",size:"small",min:0,max:9999999,precision:2},model:{value:e.billForm.amount,callback:function(t){e.$set(e.billForm,"amount",t)},expression:"billForm.amount"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"国家/地区",prop:"countryId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"",clearable:"",size:"small"},model:{value:e.billForm.countryId,callback:function(t){e.$set(e.billForm,"countryId",t)},expression:"billForm.countryId"}},e._l(e.countryList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"币种",prop:"currencyId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.billForm.currencyId,callback:function(t){e.$set(e.billForm,"currencyId",t)},expression:"billForm.currencyId"}},e._l(e.currencyList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"-"+e.sign,value:e.id}})}),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:100},model:{value:e.billForm.remark,callback:function(t){e.$set(e.billForm,"remark",t)},expression:"billForm.remark"}})],1)],1)],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancel}},[e._v("\n        取 消\n      ")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveBillConfirm}},[e._v("\n        确 定\n      ")])],1)])],1)},B=[],D=(r("c5f6"),function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.formRules={name:[{required:!0,message:"开票名称不能为空",trigger:"blur"}],taxId:[{required:!0,message:"纳税识别号不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/^[A-Z0-9]+$/;t&&!i.test(t)?r(new Error("纳税识别号只能有大写英文字母及数字")):r()},trigger:"blur"}],bank:[{required:!0,message:"开户银行不能为空",trigger:"blur"}],amount:[{required:!0,message:"每月额度不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/;t||r(),Number(t)<0||isNaN(Number(t))?r(new Error("额度值必须大于0")):i.test(t)?r():r(new Error("额度值不能超过两位小数点"))},trigger:"blur"}],countryId:[{required:!0,message:"请选择国家/地区",trigger:"change"}],currencyId:[{required:!0,message:"请选择币种",trigger:"change"}]},e}return Object(d["a"])(t,e),Object(s["a"])(t,[{key:"saveBillConfirm",value:function(){var e=this,t=this.$refs.editForm;t.validate(function(t){if(!t)return!1;e.$emit("saveBillConfirm")})}},{key:"cancel",value:function(){this.$emit("closeBillForm")}},{key:"custId",get:function(){var e=f["a"].info||{},t=e.custId;return t}},{key:"custName",get:function(){var e=f["a"].info||{},t=e.custName;return t}}]),t}(p["e"]));D=m["a"]([Object(p["a"])({name:"",components:{},props:{isEdit:{type:Boolean,default:!1},isBillFormShow:{type:Boolean,default:!1},isBillFormLoading:{type:Boolean,default:!1},billForm:{type:Object,default:function(){return{}}},countryList:{type:Array,default:function(){return[]}},currencyList:{type:Array,default:function(){return[]}}}})],D);var T=D,q=T,R=(r("5e22"),Object(w["a"])(q,z,B,!1,null,"dd9cbd40",null)),U=R.exports,M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.isEdit?"编辑收款信息":"新增收款信息",visible:e.isCollectionFormShow,"close-on-click-modal":!1,width:"850px"},on:{"update:visible":function(t){e.isCollectionFormShow=t},close:e.cancel}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isCollectionFormLoading,expression:"isCollectionFormLoading"}],staticClass:"add-edit-organ"},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.fileLoading,expression:"fileLoading"}]},[r("el-form",{ref:"editForm",staticStyle:{"padding-right":"20px"},attrs:{model:e.collectionForm,rules:e.formRules,"label-width":"100px","label-position":"right",size:"small"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"国家/地区",prop:"countryId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"",clearable:"",size:"small"},model:{value:e.collectionForm.countryId,callback:function(t){e.$set(e.collectionForm,"countryId",t)},expression:"collectionForm.countryId"}},e._l(e.countryList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"币种",prop:"currencyId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.collectionForm.currencyId,callback:function(t){e.$set(e.collectionForm,"currencyId",t)},expression:"collectionForm.currencyId"}},e._l(e.currencyList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"-"+e.sign,value:e.id}})}),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"收款方式",prop:"type"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.collectionForm.type,callback:function(t){e.$set(e.collectionForm,"type",t)},expression:"collectionForm.type"}},e._l(e.paywayList,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"账户名称",prop:"acctName"}},[r("el-input",{attrs:{size:"small",maxlength:30,placeholder:"请输入"},model:{value:e.collectionForm.acctName,callback:function(t){e.$set(e.collectionForm,"acctName",t)},expression:"collectionForm.acctName"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"收款账号",prop:"acctNo"}},[r("el-input",{attrs:{size:"small",maxlength:30,placeholder:"请输入"},model:{value:e.collectionForm.acctNo,callback:function(t){e.$set(e.collectionForm,"acctNo",t)},expression:"collectionForm.acctNo"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{size:"small",maxlength:100,placeholder:"请输入"},model:{value:e.collectionForm.remark,callback:function(t){e.$set(e.collectionForm,"remark",t)},expression:"collectionForm.remark"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{class:"1"===e.collectionForm.type||"2"===e.collectionForm.type?"is-required":"",attrs:{label:"上传附件"}},[r("el-upload",{ref:"uploadFile",staticClass:"upload-demo",attrs:{action:"",multiple:"",limit:1,"auto-upload":!1,"http-request":e.uploadFile,"on-remove":e.onFileRemove,"on-change":e.onFileChange,"before-upload":e.beforeUpload,"file-list":e.fileList}},[r("el-button",{attrs:{size:"small"}},[r("i",{staticClass:"el-icon-upload"}),e._v("\n                    选择文件\n                  ")]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n                    仅支持jpg jpeg png等图片格式\n                  ")])],1),r("el-button",{staticStyle:{position:"absolute",top:"0",right:"0"},attrs:{size:"small",type:"text"},on:{click:e.onPreview}},[e._v("\n                  预览\n                ")])],1)],1)],1),r("div",{staticStyle:{"border-top":"1px solid #cccccc",margin:"20px 0"}}),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"银行中文名称",prop:"bankName"}},[r("el-input",{attrs:{size:"small",maxlength:50,placeholder:"请输入"},model:{value:e.collectionForm.bankName,callback:function(t){e.$set(e.collectionForm,"bankName",t)},expression:"collectionForm.bankName"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"银行英文名称",prop:"bankAlias"}},[r("el-input",{attrs:{size:"small",maxlength:50,placeholder:"请输入"},model:{value:e.collectionForm.bankAlias,callback:function(t){e.$set(e.collectionForm,"bankAlias",t)},expression:"collectionForm.bankAlias"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"银行代码",prop:"bankCode"}},[r("el-input",{attrs:{maxlength:30,size:"small",placeholder:"请输入"},model:{value:e.collectionForm.bankCode,callback:function(t){e.$set(e.collectionForm,"bankCode",t)},expression:"collectionForm.bankCode"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"分行代码",prop:"branchCode"}},[r("el-input",{attrs:{size:"small",maxlength:30,placeholder:"请输入"},model:{value:e.collectionForm.branchCode,callback:function(t){e.$set(e.collectionForm,"branchCode",t)},expression:"collectionForm.branchCode"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"银行地址",prop:"bankAddress"}},[r("el-input",{attrs:{size:"small",maxlength:100,placeholder:"请输入"},model:{value:e.collectionForm.bankAddress,callback:function(t){e.$set(e.collectionForm,"bankAddress",t)},expression:"collectionForm.bankAddress"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"Swift Code",prop:"swiftCode"}},[r("el-input",{attrs:{size:"small",maxlength:50,placeholder:"请输入"},model:{value:e.collectionForm.swiftCode,callback:function(t){e.$set(e.collectionForm,"swiftCode",t)},expression:"collectionForm.swiftCode"}})],1)],1)],1)],1),r("div",{staticStyle:{"text-align":"right",padding:"10px 0"},attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancel}},[e._v("\n            取 消\n          ")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveCollectionConfirm}},[e._v("\n            确 定\n          ")])],1)],1)])]),r("el-dialog",{staticStyle:{"min-height":"400px"},attrs:{visible:e.isPreviewShow,"close-on-click-modal":!1,"append-to-body":"",width:"500px"},on:{"update:visible":function(t){e.isPreviewShow=t},closed:e.onClose}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.imgLoading,expression:"imgLoading"}]},[r("img",{staticStyle:{display:"block",height:"100%",width:"100%","object-fit":"contain"},attrs:{src:e.previewImgUrl}})])])],1)},V=[],Z=r("5a0c"),J=r.n(Z),H=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.fileLoading=!1,e.imgLoading=!1,e.isPreviewShow=!1,e.previewImgUrl="",e.fileObj="",e.fileList=[],e.formRules={type:[{required:!0,message:"请选择收款方式",trigger:"change"}],countryId:[{required:!0,message:"请选择国家/地区",trigger:"change"}],currencyId:[{required:!0,message:"请选择币种",trigger:"change"}],acctName:[{required:!0,message:"账号名称不能为空",trigger:"blur"}],acctNo:[{required:!0,message:"收款账号不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/[\u4e00-\u9fa5]+/;i.test(t)?r(new Error("收款账号格式不正确")):r()},trigger:"blur"}],bankName:[{required:!1,message:"银行名称不能为空",trigger:"blur"}],bankAlias:[{required:!1,message:"银行英文名称不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/[\u4e00-\u9fa5]/;t&&i.test(t)?r(new Error("银行英文名称不能有中文")):r()},trigger:"blur"}],bankCode:[{required:!1,message:"银行代码不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/^[a-zA-Z0-9]*$/;t&&!i.test(t)?r(new Error("银行代码只能包含数字、字母")):r()},trigger:"blur"}],branchCode:[{required:!1,message:"分行代码不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/^[a-zA-Z0-9]*$/;t&&!i.test(t)?r(new Error("分行代码只能包含数字、字母")):r()},trigger:"blur"}],swiftCode:[{required:!1,message:"Swift Code不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/^[a-zA-Z0-9]*$/;t&&!i.test(t)?r(new Error("Swift Code只能包含数字、字母")):r()},trigger:"blur"}]},e}return Object(d["a"])(t,e),Object(s["a"])(t,[{key:"onPreview",value:function(){var e=this.collectionForm;if(!e.attach){if(!this.fileObj)return;return this.isPreviewShow=!0,void(this.previewImgUrl=URL.createObjectURL(this.fileObj.raw))}this.previewImgUrl="https://file.jhtinfo.net/"+e.attach,this.isPreviewShow=!0}},{key:"onClose",value:function(){this.isPreviewShow=!1,this.previewImgUrl="",window.clearTimeout()}},{key:"onFileRemove",value:function(e,t){this.fileObj="",this.$deleteLoad(e.url,!0).then(function(e){}).catch(function(e){return e});var r=this.collectionForm;r.attach=""}},{key:"onFileChange",value:function(e,t){this.fileObj=e}},{key:"beforeUpload",value:function(e){var t=/^image\/(jpeg|png|jpg|gif)$/.test(e.type);if(!t)return this.$message.error("仅支持图片格式文件"),!1;var r=Math.round(e.size/1024/1024*100)/100;return r>10?(this.$message.warning("文件大小超出10M！"),!1):t&&r}},{key:"uploadFile",value:function(e){var t=this;this.fileLoading=!0;var r=this.currentCustType,i=e.file,a="jht-admin/companys/".concat(r,"/collectionInfo");this.$upload(!0,i,"".concat(a,"/").concat(J()().valueOf()+"/"+i.name)).then(function(e){var r=t.collectionForm;r.attach=e.data,t.fileLoading=!1,t.$emit("saveCollectionConfirm")}).catch(function(e){return t.fileLoading=!1,e})}},{key:"saveCollectionConfirm",value:function(){var e=this,t=this.$refs.editForm;t.validate(function(t){if(!t)return!1;if(e.collectionForm.attach)e.$emit("saveCollectionConfirm");else{var r=e.$refs.uploadFile,i=r.uploadFiles,a=e.collectionForm;if("1"!==a.type&&"2"!==a.type&&0===i.length)return void e.$message.error("请选择上传文件");r.submit()}})}},{key:"cancel",value:function(){this.fileObj="",this.fileList=[],this.$emit("closeCollectionForm")}},{key:"custId",get:function(){var e=f["a"].info||{},t=e.custId;return t}},{key:"custName",get:function(){var e=f["a"].info||{},t=e.custName;return t}}]),t}(p["e"]);H=m["a"]([Object(p["a"])({name:"",components:{},props:{currentCustType:{type:String,default:""},isEdit:{type:Boolean,default:!1},isCollectionFormShow:{type:Boolean,default:!1},isCollectionFormLoading:{type:Boolean,default:!1},collectionForm:{type:Object,default:function(){return{}}},paywayList:{type:Array,default:function(){return[]}},countryList:{type:Array,default:function(){return[]}},currencyList:{type:Array,default:function(){return[]}}}})],H);var W=H,G=W,K=Object(w["a"])(G,M,V,!1,null,"2d409ca3",null),Q=K.exports,X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.isEdit?"编辑文件":"新增文件",visible:e.isFileFormShow,"close-on-click-modal":!1,width:"550px"},on:{close:e.cancel}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isFileFormLoading,expression:"isFileFormLoading"}],staticClass:"add-edit-organ"},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.fileLoading,expression:"fileLoading"}]},[r("el-form",{ref:"editForm",staticStyle:{"padding-right":"20px"},attrs:{model:e.fileForm,rules:e.formRules,"label-width":"90px","label-position":"right",size:"small"}},[r("el-form-item",{attrs:{label:"文件类型",prop:"type"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"",clearable:"",size:"small"},model:{value:e.fileForm.type,callback:function(t){e.$set(e.fileForm,"type",t)},expression:"fileForm.type"}},e._l(e.fileTypeList,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),r("el-form-item",{attrs:{label:"文件名称",prop:"name"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:50},model:{value:e.fileForm.name,callback:function(t){e.$set(e.fileForm,"name",t)},expression:"fileForm.name"}})],1),r("el-form-item",{attrs:{label:"编码/ID",prop:"code"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:50},model:{value:e.fileForm.code,callback:function(t){e.$set(e.fileForm,"code",t)},expression:"fileForm.code"}})],1),r("el-form-item",{staticClass:"is-required",attrs:{label:"上传文件"}},[r("el-upload",{ref:"uploadFile",staticClass:"upload-demo",attrs:{action:"",multiple:"",limit:1,"auto-upload":!1,"http-request":e.uploadFile,"on-remove":e.onFileRemove,"on-change":e.onFileChange,"before-upload":e.beforeFileUpload,"file-list":e.fileList}},[r("el-button",{attrs:{size:"small"}},[r("i",{staticClass:"el-icon-upload"}),e._v("\n                选择文件\n              ")])],1),r("el-button",{staticStyle:{position:"absolute",top:"0",right:"0"},attrs:{size:"small",type:"text"},on:{click:e.onPreview}},[e._v("\n              预览\n            ")])],1),r("el-form-item",{attrs:{label:"文件描述",prop:"des"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:100},model:{value:e.fileForm.des,callback:function(t){e.$set(e.fileForm,"des",t)},expression:"fileForm.des"}})],1)],1),r("div",{staticStyle:{"text-align":"right",padding:"10px 0"},attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancel}},[e._v("\n            取 消\n          ")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveFileConfirm}},[e._v("\n            确 定\n          ")])],1)],1)])]),r("el-dialog",{staticStyle:{"min-height":"400px"},attrs:{visible:e.isPreviewShow,"close-on-click-modal":!1,"append-to-body":"",width:"500px"},on:{"update:visible":function(t){e.isPreviewShow=t},closed:e.onClose}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.imgLoading,expression:"imgLoading"}]},[r("img",{staticStyle:{display:"block",height:"100%",width:"100%","object-fit":"contain"},attrs:{src:e.previewImgUrl}})])])],1)},Y=[],ee=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.fileLoading=!1,e.imgLoading=!1,e.isPreviewShow=!1,e.previewImgUrl="",e.fileList=[],e.pathList={},e.fileObj="",e.formRules={name:[{required:!0,message:"文件名称不能为空",trigger:"blur"}],code:[{required:!0,message:"编码不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/^[a-zA-Z0-9-]+$/;t&&!i.test(t)?r(new Error("编码不能有中文及特殊字符")):r()},trigger:"blur"}],type:[{required:!0,message:"请选择文件类型",trigger:"change"}]},e}return Object(d["a"])(t,e),Object(s["a"])(t,[{key:"onFileRemove",value:function(e,t){this.fileObj="",this.$deleteLoad(e.url,!0).then(function(e){}).catch(function(e){return e});var r=this.fileForm;r.path=""}},{key:"onFileChange",value:function(e,t){this.fileObj=e}},{key:"uploadFile",value:function(e){var t=this;this.fileLoading=!0;var r=e.file,i=this.pathList[this.fileForm.type];this.$upload(!1,r,"".concat(i,"/").concat(J()().valueOf()+"/"+r.name)).then(function(e){var r=t.fileForm;r.path=e.data,t.fileLoading=!1,t.$emit("saveFileConfirm")}).catch(function(e){return t.fileLoading=!1,e})}},{key:"saveFileConfirm",value:function(){var e=this,t=this.$refs.editForm;t.validate(function(t){if(!t)return!1;if(e.fileForm.path)e.$emit("saveFileConfirm");else{var r=e.$refs.uploadFile,i=r.uploadFiles;if(0===i.length)return void e.$message({type:"warning",message:"请选择上传文件"});r.submit()}})}},{key:"onPreview",value:function(){var e=this,t=this.fileForm;if(!t.path){var r=document.createElement("a");document.body.appendChild(r);var i=new Blob([this.fileObj.raw]),a=URL.createObjectURL(i);return r.href=a,r.download=this.fileObj.raw.name,r.click(),document.body.removeChild(r),void URL.revokeObjectURL(a)}this.imgLoading=!0,Object(h["u"])({path:t.path}).then(function(t){e.isPreviewShow=!0,window.open(t.data),e.previewImgUrl=t.data,e.imgLoading=!1}).catch(function(t){return e.imgLoading=!1,t})}},{key:"onClose",value:function(){this.isPreviewShow=!1,this.previewImgUrl="",window.clearTimeout()}},{key:"beforeFileUpload",value:function(e){var t=Math.round(e.size/1024/1024*100)/100;return t>10?(this.$message.warning("文件大小超出10M！"),!1):t}},{key:"cancel",value:function(){this.fileObj="",this.fileList=[],this.$emit("closeFileForm")}},{key:"mounted",value:function(){var e=this.currentCustType;this.pathList={0:"jht-admin/companys/".concat(e,"/contract"),1:"jht-admin/companys/".concat(e,"/business-license"),2:"jht-admin/companys/".concat(e,"/id"),3:"jht-admin/companys/".concat(e,"/wac"),4:"jht-admin/companys/".concat(e,"/itat"),5:"jht-admin/companys/".concat(e,"/nvocc"),Z:"jht-admin/companys/".concat(e,"/other")}}},{key:"custId",get:function(){var e=f["a"].info||{},t=e.custId;return t}},{key:"custName",get:function(){var e=f["a"].info||{},t=e.custName;return t}}]),t}(p["e"]);ee=m["a"]([Object(p["a"])({name:"",components:{},props:{currentCustType:{type:String,default:""},isEdit:{type:Boolean,default:!1},isFileFormShow:{type:Boolean,default:!1},isFileFormLoading:{type:Boolean,default:!1},fileForm:{type:Object,default:function(){return{}}},countryList:{type:Array,default:function(){return[]}},currencyList:{type:Array,default:function(){return[]}},fileTypeList:{type:Array,default:function(){return[]}}}})],ee);var te=ee,re=te,ie=(r("3135"),Object(w["a"])(re,X,Y,!1,null,"2cc26b10",null)),ae=ie.exports,ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.isEdit?"编辑设置":"新增设置",visible:e.isSettingFormShow,"close-on-click-modal":!1,width:"850px"},on:{close:e.cancel}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isSettingFormLoading,expression:"isSettingFormLoading"}],staticClass:"add-edit-organ"},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.fileLoading,expression:"fileLoading"}]},[r("el-form",{ref:"editForm",staticStyle:{"padding-right":"20px"},attrs:{model:e.settingForm,rules:e.formRules,"label-width":"100px","label-position":"right",size:"small"}},[r("el-form-item",{attrs:{label:"设置类型",prop:"type"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:"",filterable:"",size:"small"},on:{change:function(t){e.settingForm.open="1"}},model:{value:e.settingForm.type,callback:function(t){e.$set(e.settingForm,"type",t)},expression:"settingForm.type"}},e._l(e.settingTypeList,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),r("el-form-item",{attrs:{label:"联系人",prop:"contact"}},[r("el-input",{attrs:{maxlength:10,"show-word-limit":"",size:"small",placeholder:"请输入"},model:{value:e.settingForm.contact,callback:function(t){e.$set(e.settingForm,"contact",t)},expression:"settingForm.contact"}})],1),r("el-form-item",{attrs:{label:"国家/地区",prop:"countryId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"",clearable:"",size:"small"},on:{change:e.onCountryChange},model:{value:e.settingForm.countryId,callback:function(t){e.$set(e.settingForm,"countryId",t)},expression:"settingForm.countryId"}},e._l(e.countryList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1),r("el-form-item",{attrs:{label:"州/省",prop:"stateId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.selectLoading,placeholder:"请选择",clearable:"",disabled:!e.settingForm.countryId,filterable:""},on:{focus:e.getStateList,change:e.onStateChange},model:{value:e.settingForm.stateId,callback:function(t){e.$set(e.settingForm,"stateId",t)},expression:"settingForm.stateId"}},e._l(e.stateList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1),r("el-form-item",{attrs:{label:"城市",prop:"cityId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.selectLoading,placeholder:"请选择",clearable:"",disabled:!e.settingForm.stateId,filterable:""},on:{focus:e.getCityList,change:e.onCityChange},model:{value:e.settingForm.cityId,callback:function(t){e.$set(e.settingForm,"cityId",t)},expression:"settingForm.cityId"}},e._l(e.cityList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1),r("el-form-item",{attrs:{label:"区/县",prop:"countyId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.selectLoading,placeholder:"区/县",clearable:"",disabled:!e.settingForm.cityId,filterable:""},on:{focus:e.getCountyList},model:{value:e.settingForm.countyId,callback:function(t){e.$set(e.settingForm,"countyId",t)},expression:"settingForm.countyId"}},e._l(e.countyList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1),r("el-form-item",{attrs:{label:"公司名称",prop:"company"}},[r("el-input",{attrs:{maxlength:100,size:"small",placeholder:"请输入"},model:{value:e.settingForm.company,callback:function(t){e.$set(e.settingForm,"company",t)},expression:"settingForm.company"}})],1),r("el-form-item",{attrs:{label:"邮政编码",prop:"postal"}},[r("el-input",{attrs:{maxlength:10,"show-word-limit":"",size:"small",placeholder:"请输入"},model:{value:e.settingForm.postal,callback:function(t){e.$set(e.settingForm,"postal",t)},expression:"settingForm.postal"}})],1),r("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[r("el-input",{attrs:{maxlength:20,size:"small",placeholder:"请输入"},model:{value:e.settingForm.phone,callback:function(t){e.$set(e.settingForm,"phone",t)},expression:"settingForm.phone"}})],1),r("el-form-item",{attrs:{label:"联系邮箱",prop:"email"}},[r("el-input",{attrs:{maxlength:30,size:"small",placeholder:"请输入"},model:{value:e.settingForm.email,callback:function(t){e.$set(e.settingForm,"email",t)},expression:"settingForm.email"}})],1),r("el-form-item",{attrs:{label:"联系地址",prop:"address"}},[r("el-input",{attrs:{maxlength:100,size:"small",placeholder:"请输入"},model:{value:e.settingForm.address,callback:function(t){e.$set(e.settingForm,"address",t)},expression:"settingForm.address"}})],1),r("el-form-item",{attrs:{label:"是否有效",prop:"status"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"",clearable:"",size:"small"},model:{value:e.settingForm.status,callback:function(t){e.$set(e.settingForm,"status",t)},expression:"settingForm.status"}},[r("el-option",{attrs:{label:"是",value:"1"}}),r("el-option",{attrs:{label:"否",value:"0"}})],1)],1),r("el-form-item",{attrs:{label:"服务国家"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"",clearable:"",size:"small"},model:{value:e.settingForm.serviceCountryId,callback:function(t){e.$set(e.settingForm,"serviceCountryId",t)},expression:"settingForm.serviceCountryId"}},e._l(e.countryList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1),"3"===e.settingForm.type?r("el-form-item",{attrs:{label:"是否公开",prop:"open"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"",clearable:"",size:"small"},model:{value:e.settingForm.open,callback:function(t){e.$set(e.settingForm,"open",t)},expression:"settingForm.open"}},[r("el-option",{attrs:{label:"是",value:"1"}}),r("el-option",{attrs:{label:"否",value:"0"}})],1)],1):e._e(),r("div",{staticStyle:{"border-top":"1px solid #cccccc",margin:"20px 0"}}),r("el-form-item",{attrs:{label:"证件类型",prop:"countryId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"",clearable:"",size:"small"},model:{value:e.settingForm.certType,callback:function(t){e.$set(e.settingForm,"certType",t)},expression:"settingForm.certType"}},[r("el-option",{attrs:{label:"身份证",value:"0"}}),r("el-option",{attrs:{label:"其他证件",value:"1"}})],1)],1),r("el-form-item",{attrs:{label:"证件号码",prop:"certNumber"}},[r("el-input",{attrs:{maxlength:20,size:"small",placeholder:"请输入"},model:{value:e.settingForm.certNumber,callback:function(t){e.$set(e.settingForm,"certNumber",t)},expression:"settingForm.certNumber"}})],1),r("el-form-item",{staticClass:"is-required",attrs:{label:"上传照片"}},[r("el-upload",{ref:"uploadFile",staticClass:"upload-demo",attrs:{action:"",multiple:"",limit:1,"auto-upload":!1,"http-request":e.uploadFile,"on-remove":e.onFileRemove,"on-change":e.onFileChange,"before-upload":e.beforeUpload,"file-list":e.fileList}},[r("el-button",{attrs:{size:"small"}},[r("i",{staticClass:"el-icon-upload"}),e._v("\n                选择文件\n              ")]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n                仅支持jpg jpeg png等图片格式\n              ")])],1),r("el-button",{staticStyle:{position:"absolute",top:"0",right:"0"},attrs:{size:"small",type:"text"},on:{click:e.onPreview}},[e._v("\n              预览\n            ")])],1)],1),r("div",{staticStyle:{"text-align":"right",padding:"10px 0"},attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancel}},[e._v("\n            取 消\n          ")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveSettingConfirm}},[e._v("\n            确 定\n          ")])],1)],1)])]),r("el-dialog",{staticStyle:{"min-height":"400px"},attrs:{visible:e.isPreviewShow,"close-on-click-modal":!1,"append-to-body":"",width:"500px"},on:{"update:visible":function(t){e.isPreviewShow=t},closed:e.onClose}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.imgLoading,expression:"imgLoading"}]},[r("img",{staticStyle:{display:"block",height:"100%",width:"100%","object-fit":"contain"},attrs:{src:e.previewImgUrl}})])])],1)},oe=[];function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(r,!0).forEach(function(t){Object(o["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ce(){return{type:void 0,contact:void 0,countryId:void 0,serviceCountryId:void 0,open:void 0,countyId:void 0,stateId:void 0,cityId:void 0,company:void 0,postal:void 0,phone:void 0,email:void 0,address:void 0,status:void 0,certType:void 0,certNumber:void 0,photo:void 0}}var ue=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.fileLoading=!1,e.isSettingFormLoading=!1,e.selectLoading=!1,e.isPreviewShow=!1,e.imgLoading=!1,e.previewImgUrl="",e.fileObj="",e.settingForm=ce(),e.stateList=[],e.cityList=[],e.countyList=[],e.fileList=[],e.formRules={type:[{required:!0,message:"类型不能为空",trigger:"blur"}],contact:[{required:!0,message:"联系人不能为空",trigger:"blur"}],countryId:[{required:!0,message:"请选择国家/地区",trigger:"change"}],stateId:[{required:!0,message:"请选择州/省",trigger:"change"}],cityId:[{required:!0,message:"请选择城市",trigger:"change"}],countyId:[{required:!1,message:"请选择区/县",trigger:"change"}],company:[{required:!0,message:"公司名称不能为空",trigger:"blur"}],postal:[{required:!0,message:"邮政编码不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/^[a-zA-Z0-9]*$/;i.test(t)?r():r(new Error("邮政编码只能包含数字、字母"))},trigger:"blur"}],phone:[{required:!0,message:"联系电话不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/[\u4e00-\u9fa5]/;t&&i.test(t)?r(new Error("联系电话不能有中文")):r()},trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"邮箱地址格式不正确",trigger:["blur","change"]}],address:[{required:!0,message:"联系地址不能为空",trigger:"blur"}],status:[{required:!0,message:"请选择是否有效",trigger:"change"}],open:[{required:!0,message:"请选择是否公开",trigger:"change"}],certType:[{required:!0,message:"请选择证件类型",trigger:"change"}],certNumber:[{required:!0,message:"证件号码不能为空",trigger:"blur"},{validator:function(e,t,r){var i=/[\u4e00-\u9fa5]/;t&&i.test(t)?r(new Error("证件号码不能有中文")):r()},trigger:"blur"}]},e}return Object(d["a"])(t,e),Object(s["a"])(t,[{key:"saveSettingConfirm",value:function(){var e=this,t=this.$refs.editForm;t.validate(function(t){if(!t)return!1;if(e.settingForm.photo){var r=e.setArea();e.$emit("saveSettingConfirm",r)}else{var i=e.$refs.uploadFile,a=i.uploadFiles;if(0===a.length)return void e.$message({type:"warning",message:"请选择导上传文件"});i.submit()}})}},{key:"setArea",value:function(){var e=this.countryList,t=this.settingForm,r=t.countryId,i=t.stateId,a=t.cityId,n=t.countyId,o=Object(C["a"])(t,["countryId","stateId","cityId","countyId"]),l=(e.find(function(e){return e.id===r})||{}).name,s=(this.stateList.find(function(e){return e.id===i})||{}).name,c=(this.cityList.find(function(e){return e.id===a})||{}).name,u=(this.countyList.find(function(e){return e.id===n})||{}).name,d=se({},o,{countryId:r,countryName:l,stateName:s,stateId:i,cityName:c,cityId:a,countyId:n,countyName:u});return d}},{key:"cancel",value:function(){this.reset(),this.$emit("closeSettingForm")}},{key:"reset",value:function(){var e=this;this.fileObj="",this.fileList=[],this.stateList=[],this.cityList=[],this.countyList=[],this.settingForm=ce(),this.$nextTick(function(){var t=e.$refs.editForm;t.clearValidate()})}},{key:"setData",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isSettingFormLoading=!0,this.settingForm=se({},t),e.prev=2,r=t.photo,i=r?r.split("/"):[],a=[{name:r?i[i.length-1]:"",url:r}],this.fileList=r?a:[],e.next=9,this.getStateList();case 9:return e.next=11,this.getCityList();case 11:return e.next=13,this.getCountyList();case 13:this.isSettingFormLoading=!1,e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](2),this.isSettingFormLoading=!1;case 19:case"end":return e.stop()}},e,this,[[2,16]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getStateList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.settingForm.countryId){e.next=2;break}return e.abrupt("return");case 2:return this.selectLoading=!0,e.next=5,Object(S["n"])(this.settingForm.countryId).then(function(e){t.selectLoading=!1;var r=e.data||{},i=r.result||[];t.stateList=i}).catch(function(){t.stateList=[],t.selectLoading=!1});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getCityList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.settingForm.stateId){e.next=2;break}return e.abrupt("return");case 2:return this.selectLoading=!0,e.next=5,Object(S["h"])(this.settingForm.stateId).then(function(e){t.selectLoading=!1;var r=e.data||{},i=r.result||[];t.cityList=i}).catch(function(){t.cityList=[],t.selectLoading=!1});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getCountyList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.settingForm.cityId){e.next=2;break}return e.abrupt("return");case 2:return this.selectLoading=!0,e.next=5,Object(S["j"])(this.settingForm.cityId).then(function(e){var r=e.data||{},i=r.result||[];t.countyList=i,t.selectLoading=!1}).catch(function(){t.countyList=[],t.selectLoading=!1});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onCountryChange",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.settingForm.stateId=void 0,this.onStateChange();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onStateChange",value:function(){this.settingForm.cityId=void 0,this.onCityChange()}},{key:"onCityChange",value:function(){this.settingForm.countyId=void 0}},{key:"beforeUpload",value:function(e){var t=/^image\/(jpeg|png|jpg|gif)$/.test(e.type);if(!t)return this.$message.error("仅支持图片格式文件"),!1;var r=Math.round(e.size/1024/1024*100)/100;return r>10?(this.$message.warning("文件大小超出10M！"),!1):t&&r}},{key:"onFileChange",value:function(e,t){this.fileObj=e}},{key:"onPreview",value:function(){var e=this;if(!this.settingForm.photo){if(!this.fileObj)return;return this.isPreviewShow=!0,void(this.previewImgUrl=URL.createObjectURL(this.fileObj.raw))}this.imgLoading=!0,Object(h["u"])({path:this.settingForm.photo}).then(function(t){e.isPreviewShow=!0,e.previewImgUrl=t.data,window.setTimeout(function(){e.imgLoading=!1},500)}).catch(function(t){return e.imgLoading=!1,t})}},{key:"onClose",value:function(){this.isPreviewShow=!1,this.previewImgUrl="",window.clearTimeout()}},{key:"uploadFile",value:function(e){var t=this;this.fileLoading=!0;var r=e.file,i=this.currentCustType,a="jht-admin/companys/".concat(i,"/bookingPerson");this.$upload(!1,r,"".concat(a,"/").concat(J()().valueOf()+"/"+r.name)).then(function(e){t.settingForm.photo=e.data,t.fileLoading=!1;var r=t.setArea();t.$emit("saveSettingConfirm",r)}).catch(function(e){return t.fileLoading=!1,e})}},{key:"onFileRemove",value:function(e,t){this.fileObj="",this.$deleteLoad(e.url,!0).then(function(e){}).catch(function(e){return e}),this.settingForm.photo=""}},{key:"custId",get:function(){var e=f["a"].info||{},t=e.custId;return t}},{key:"custName",get:function(){var e=f["a"].info||{},t=e.custName;return t}}]),t}(p["e"]);ue=m["a"]([Object(p["a"])({name:"",components:{},props:{currentCustType:{type:String,default:""},isEdit:{type:Boolean,default:!1},isSettingFormShow:{type:Boolean,default:!1},countryList:{type:Array,default:function(){return[]}},personData:{type:Array,default:function(){return[]}},settingTypeList:{type:Array,default:function(){return[]}}}})],ue);var de=ue,me=de,pe=(r("c904"),Object(w["a"])(me,ne,oe,!1,null,"52d61c3b",null)),fe=pe.exports;function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(r,!0).forEach(function(t){Object(o["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ve(){return{name:void 0,alias:void 0,dept:void 0,duty:void 0,countryId:void 0,phone:void 0,tel:void 0,email:void 0,fax:void 0,sns:void 0,address:void 0,remark:void 0}}function be(){return{name:void 0,taxId:void 0,bank:void 0,amount:void 0,countryId:void 0,currencyId:void 0,remark:void 0}}function ye(){return{countryId:void 0,currencyId:void 0,type:void 0,acctName:void 0,acctNo:void 0,attach:void 0,remark:void 0,bankName:void 0,bankAlias:void 0,bankCode:void 0,branchCode:void 0,bankAddress:void 0,swiftCode:void 0}}function Fe(){return{type:void 0,name:void 0,code:void 0,path:void 0,des:void 0}}var we=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.loading=!1,e.dialogVisible=!1,e.dialogImageError=!1,e.dialogLoading=!1,e.isEditPerson=!1,e.isAddressFormShow=!1,e.isAddressEdit=!1,e.isSettingFormShow=!1,e.isFileFormShow=!1,e.isFileEdit=!1,e.isSettingEdit=!1,e.isCollectionEdit=!1,e.isCollectionFormShow=!1,e.isCollectionFormLoading=!1,e.isPersonFormShow=!1,e.isPersonEdit=!1,e.isPersonFormLoading=!1,e.isFileFormLoading=!1,e.personLoading=!1,e.addressLoading=!1,e.billLoading=!1,e.fileLoading=!1,e.isBillEdit=!1,e.isBillFormShow=!1,e.isBillFormLoading=!1,e.collectionLoading=!1,e.settingLoading=!1,e.isPreviewShow=!1,e.isPanelLoading=!1,e.imgLoading=!1,e.currentBillId="",e.currentFileId="",e.currentPersonId="",e.currentAddressId="",e.currentCollectionId="",e.currentSettingId="",e.previewImgUrl="",e.dialogImageUrl="",e.personForm=ve(),e.billForm=be(),e.collectionForm=ye(),e.fileForm=Fe(),e.list=[],e.personData=[],e.collectionData=[],e.billInfoData=[],e.currencyList=[],e.fileInfoData=[],e.addressData=[],e.settingData=[],e.settingSearch={type:void 0,serviceCountryId:void 0},e.paywayList=[{value:"0",label:"银行卡"},{value:"1",label:"微信"},{value:"2",label:"支付宝"},{value:"3",label:"PayPal"},{value:"4",label:"其它"}],e.settingTypeList=[{value:"0",label:"发货人"},{value:"1",label:"收货人"},{value:"2",label:"通知人"},{value:"3",label:"进口商"},{value:"4",label:"海外代理"},{value:"5",label:"订舱代理"},{value:"6",label:"报关抬头"}],e.fileTypeList=[{label:"电子合同",value:"0"},{label:"营业执照",value:"1"},{label:"身份证正面",value:"2"},{label:"身份证反面",value:"3"},{label:"WCA证书",value:"4"},{label:"ITAT证书",value:"5"},{label:"NVOCC证书",value:"6"},{label:"其它类型",value:"Z"}],e.statusList=[{label:"启用",value:"1"},{label:"禁用",value:"0"}],e.certTypeList=[{label:"身份证",value:"0"},{label:"其他",value:"1"}],e.branchTypeList=[{label:"总部",value:"0"},{label:"分公司",value:"1"}],e.typeList=[{label:"办公室",value:"0"},{label:"客服部",value:"1"},{label:"提货仓库",value:"2"},{label:"到货仓库",value:"3"}],e.countryList=[],e.tableAddressRadio="",e.tableSettingRadio="",e.dialogShow=!1,e.activeName="1",e.page=1,e.size=10,e.total=0,e}return Object(d["a"])(t,e),Object(s["a"])(t,[{key:"getPersonData",value:function(){var e=this;this.personLoading=!0;var t={custId:this.currentCustId};Object(h["v"])(t).then(function(t){e.personLoading=!1,e.personData=t.data.result||[]}).catch(function(t){return e.personLoading=!1,t})}},{key:"savePersonConfirm",value:function(){var e=this,t=this.$refs.addEditPerson,r=t.$refs.editForm;r.validate(function(t){if(!t)return!1;e.isPersonFormLoading=!0;var r=ge({},e.personForm,{custId:e.currentCustId,id:e.isPersonEdit?e.currentPersonId:void 0});e.countryList.find(function(e){e.id===r.countryId&&(r.countryName=e.name)}),Object(h["I"])(r).then(function(t){e.isPersonFormLoading=!1,e.$message.success("保存成功"),e.closePersonForm(),e.getPersonData()}).catch(function(t){return e.isPersonFormLoading=!1,t})})}},{key:"saveAddressConfirm",value:function(e){var t=this,r=this.$refs.addEditAddress;r.isAddressFormLoading=!0;var i=ge({},e,{custId:this.currentCustId,id:this.isAddressEdit?this.currentAddressId:void 0});this.personData.find(function(e){e.id===i.contactId&&(i.contactName=e.name)}),this.typeList.find(function(e){e.value===i.type&&(i.typeName=e.label)}),Object(h["E"])(i).then(function(e){r.isAddressFormLoading=!1,t.$message.success("保存成功"),t.closeAddressForm(),t.getAddressData()}).catch(function(e){return r.isAddressFormLoading=!1,e})}},{key:"saveSettingConfirm",value:function(e){var t=this,r=this.$refs.addEditSetting;r.isSettingFormLoading=!0;var i=ge({},e,{open:"3"===e.type?e.open:void 0,custId:this.currentCustId,id:this.isSettingEdit?this.currentSettingId:void 0});Object(h["J"])(i).then(function(e){r.isSettingFormLoading=!1,t.$message.success("保存成功"),t.closeSettingForm(),t.getSettingData()}).catch(function(e){return r.isSettingFormLoading=!1,e})}},{key:"saveBillConfirm",value:function(){var e=this,t=this.$refs.addEditBill,r=t.$refs.editForm;r.validate(function(t){if(!t)return!1;e.isBillFormLoading=!0;var r=ge({},e.billForm,{custId:e.currentCustId,id:e.isBillEdit?e.currentBillId:void 0});e.countryList.find(function(e){e.id===r.countryId&&(r.countryName=e.name)}),e.currencyList.find(function(e){e.id===r.currencyId&&(r.currencyName=e.name)}),Object(h["F"])(r).then(function(t){e.isBillFormLoading=!1,e.$message.success("保存成功"),e.closeBillForm(),e.getBillData()}).catch(function(t){return e.isBillFormLoading=!1,t})})}},{key:"saveFileConfirm",value:function(){var e=this;this.isFileFormLoading=!0;var t=ge({},this.fileForm,{custId:this.currentCustId,id:this.isFileEdit?this.currentFileId:void 0});Object(h["H"])(t).then(function(t){e.$message.success("保存成功"),e.isFileFormLoading=!1,e.closeFileForm(),e.getFileData()}).catch(function(t){return e.isFileFormLoading=!1,t})}},{key:"saveCollectionConfirm",value:function(){var e=this;this.isCollectionFormLoading=!0;var t=ge({},this.collectionForm,{custId:this.currentCustId,id:this.isCollectionEdit?this.currentCollectionId:void 0});this.countryList.find(function(e){e.id===t.countryId&&(t.countryName=e.name)}),this.currencyList.find(function(e){e.id===t.currencyId&&(t.currencyName=e.name)}),Object(h["G"])(t).then(function(t){e.isCollectionFormLoading=!1,e.$message.success("保存成功"),e.closeCollectionForm(),e.getCollectionData()}).catch(function(t){return e.isCollectionFormLoading=!1,t})}},{key:"geCurrencyList",value:function(){var e=this,t={page:1,size:100};Object(h["r"])(t).then(function(t){e.currencyList=t.data.result}).catch(function(e){return e})}},{key:"getAddressData",value:function(){var e=this;this.addressLoading=!0;var t={custId:this.currentCustId};Object(h["j"])(t).then(function(t){e.addressLoading=!1;var r=t.data.result||[];e.addressData=r,r.forEach(function(t){t.def&&(e.tableAddressRadio=t.id)})}).catch(function(t){return e.addressLoading=!1,t})}},{key:"getSettingData",value:function(){var e=this;this.settingLoading=!0;var t=ge({custId:this.currentCustId},this.settingSearch,{page:1,size:999});Object(h["y"])(t).then(function(t){e.settingLoading=!1;var r=t.data.result||[];e.settingData=r}).catch(function(t){return e.settingLoading=!1,t})}},{key:"getBillData",value:function(){var e=this;this.billLoading=!0;var t={custId:this.currentCustId};Object(h["k"])(t).then(function(t){e.billLoading=!1,e.billInfoData=t.data.result||[]}).catch(function(t){return e.billLoading=!1,t})}},{key:"getCollectionData",value:function(){var e=this;this.collectionLoading=!0;var t={custId:this.currentCustId};Object(h["n"])(t).then(function(t){e.collectionLoading=!1,e.collectionData=t.data.result||[]}).catch(function(t){return e.collectionLoading=!1,t})}},{key:"closePersonForm",value:function(){this.isPersonFormShow=!1,this.resetPersonData()}},{key:"resetPersonData",value:function(){var e=this;this.personForm=ve(),this.$nextTick(function(){var t=e.$refs.addEditPerson,r=t.$refs.editForm;r.clearValidate()})}},{key:"resetInitData",value:function(){this.activeName="1"}},{key:"closeAddressForm",value:function(){this.resetAddressData()}},{key:"closeSettingForm",value:function(){this.resetSettingData()}},{key:"closeBillForm",value:function(){this.isBillFormShow=!1,this.resetBillData()}},{key:"closeFileForm",value:function(){this.isFileFormShow=!1,this.resetFileData()}},{key:"resetSettingData",value:function(){var e=this.$refs.addEditSetting;this.isSettingFormShow=!1,e.reset()}},{key:"resetFileData",value:function(){var e=this;this.fileForm=Fe(),this.$nextTick(function(){var t=e.$refs.addEditFile,r=t.$refs.editForm;t.fileList=[],r.clearValidate()})}},{key:"resetBillData",value:function(){var e=this;this.billForm=be(),this.$nextTick(function(){var t=e.$refs.addEditBill,r=t.$refs.editForm;r.clearValidate()})}},{key:"closeCollectionForm",value:function(){this.isCollectionFormShow=!1,this.resetCollectionData()}},{key:"resetCollectionData",value:function(){var e=this;this.collectionForm=ye(),this.$nextTick(function(){var t=e.$refs.addEditCollection,r=t.$refs.editForm;r.clearValidate()})}},{key:"resetAddressData",value:function(){var e=this.$refs.addEditAddress;this.isAddressFormShow=!1,e.reset()}},{key:"addPerson",value:function(){this.isPersonFormShow=!0,this.isPersonEdit=!1}},{key:"addAdress",value:function(){this.isAddressFormShow=!0,this.isAddressEdit=!1}},{key:"addSetting",value:function(){this.isSettingFormShow=!0,this.isSettingEdit=!1}},{key:"addFileData",value:function(){this.isFileFormShow=!0,this.isFileEdit=!1}},{key:"addCollection",value:function(){this.isCollectionFormShow=!0,this.isCollectionEdit=!1}},{key:"addBill",value:function(){this.isBillFormShow=!0,this.isBillEdit=!1}},{key:"editBill",value:function(e){var t=this;this.isBillEdit=!0,this.isBillFormShow=!0,this.isBillFormLoading=!0,this.currentBillId=e.id;var r={id:e.id};Object(h["l"])(r).then(function(e){var r=e.data.result||{};t.billForm=r,t.isBillFormLoading=!1}).catch(function(e){return e})}},{key:"editFile",value:function(e){var t=this;this.isFileEdit=!0,this.isFileFormShow=!0,this.isFileFormLoading=!0,this.currentFileId=e.id;var r={id:e.id};Object(h["t"])(r).then(function(e){var r=e.data.result||{};t.fileForm=r,t.$nextTick(function(){var e=r.path,i=e.split("/")||[],a=t.$refs.addEditFile,n=[{name:e?i[i.length-1]:"",url:e}];a.fileList=n||[]}),t.isFileFormLoading=!1}).catch(function(e){return e})}},{key:"editCollection",value:function(e){var t=this;this.isCollectionEdit=!0,this.isCollectionFormShow=!0,this.isCollectionFormLoading=!0,this.currentCollectionId=e.id;var r={id:e.id};Object(h["o"])(r).then(function(e){var r=e.data.result||{};t.collectionForm=r,t.$nextTick(function(){var e=r.attach,i=e.split("/")||[],a=t.$refs.addEditCollection,n=[{name:e?i[i.length-1]:"",url:e}];a.fileList=n||[]}),t.isCollectionFormLoading=!1}).catch(function(e){return e})}},{key:"editSetting",value:function(e){this.isSettingEdit=!0,this.isSettingFormShow=!0,this.currentSettingId=e.id;var t=this.$refs.addEditSetting;t.setData(e)}},{key:"editAddress",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.isAddressEdit=!0,this.isAddressFormShow=!0,this.currentAddressId=t.id,r=this.$refs.addEditAddress,r.setData(t);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"editPerson",value:function(e){var t=this;this.isPersonEdit=!0,this.isPersonFormShow=!0,this.isPersonFormLoading=!0;var r=e.id;this.currentPersonId=r;var i={id:r};Object(h["D"])(i).then(function(e){t.isPersonFormLoading=!1,t.personForm=e.data.result||[]}).catch(function(e){return t.isPersonFormLoading=!1,e})}},{key:"deleteCollection",value:function(e){var t=this,r={id:e.id};this.$confirm("请确认是否删除该条数据?","温馨提示",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){Object(h["e"])(r).then(function(e){t.$message.success("删除成功"),t.getCollectionData()}).catch(function(e){return e}),t.$deleteLoad(e.attach,!0).then(function(e){}).catch(function(e){return e})}).catch(function(){return!1})}},{key:"deletePerson",value:function(e){var t=this,r={id:e.id};this.$confirm("请确认是否删除该条数据?","温馨提示",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){Object(h["g"])(r).then(function(e){t.$message.success("删除成功"),t.getPersonData()}).catch(function(e){return e})}).catch(function(){return!1})}},{key:"formatAddress",value:function(e){var t=this.typeList.find(function(t){return t.value===e.type});return t?t.label:""}},{key:"formatSettingType",value:function(e){var t=this.settingTypeList.find(function(t){return t.value===e.type});return t?t.label:""}},{key:"deleteAddress",value:function(e){var t=this,r={id:e.id};this.$confirm("请确认是否删除该条数据?","温馨提示",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){Object(h["c"])(r).then(function(e){t.$message.success("删除成功"),t.getAddressData()}).catch(function(e){return e})}).catch(function(){return!1})}},{key:"deleteBill",value:function(e){var t=this,r={id:e.id};this.$confirm("请确认是否删除该条数据?","温馨提示",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){Object(h["d"])(r).then(function(e){t.$message.success("删除成功"),t.getBillData()}).catch(function(e){return e})}).catch(function(){return!1})}},{key:"deleteFile",value:function(e){var t=this,r={id:e.id};this.$confirm("请确认是否删除该条数据?","温馨提示",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){Object(h["f"])(r).then(function(e){t.$message.success("删除成功"),t.getFileData()}).catch(function(e){return e}),t.$deleteLoad(e.path,!0).then(function(e){}).catch(function(e){return e})}).catch(function(){return!1})}},{key:"deleteSetting",value:function(e){var t=this,r={id:e.id};this.$confirm("请确认是否删除该条数据?","温馨提示",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){Object(h["h"])(r).then(function(e){t.$message.success("删除成功"),t.getSettingData()}).catch(function(e){return e}),t.$deleteLoad(e.photo,!0).then(function(e){}).catch(function(e){return e})}).catch(function(){return!1})}},{key:"handleClick",value:function(e,t){switch(this.activeName){case"1":this.getPersonData();break;case"2":this.getAddressData();break;case"3":this.getSettingData();break;case"4":this.getCollectionData();break;case"5":this.getBillData();break;case"6":this.getFileData();break;default:break}}},{key:"formatType",value:function(e){var t=e.type,r=this.paywayList.find(function(e){return e.value===t})||{};return r.label}},{key:"previewFile",value:function(e){e.name?Object(h["u"])({path:e.path}).then(function(e){window.open(e.data)}).catch(function(e){return e}):this.$message.error("暂无附件可预览")}},{key:"loadDialogImageError",value:function(){var e=this;this.dialogImageError||this.dialogVisible&&(this.dialogImageError=!0,this.imgLoading=!0,Object(h["u"])({path:this.dialogImageUrl.replace("https://file.jhtinfo.net/","")}).then(function(t){e.dialogImageUrl=t.data,e.imgLoading=!1}).catch(function(t){return e.imgLoading=!1,t}))}},{key:"preview",value:function(e,t){var r=this;if(e){if(t)return this.previewImgUrl="https://file.jhtinfo.net/"+e,void(this.isPreviewShow=!0);this.imgLoading=!0,Object(h["u"])({path:e}).then(function(e){r.isPreviewShow=!0,r.previewImgUrl=e.data,window.setTimeout(function(){r.imgLoading=!1},500)}).catch(function(e){return r.imgLoading=!1,e})}else this.$message.error("暂无附件可预览")}},{key:"onClose",value:function(){this.isPreviewShow=!1,this.previewImgUrl="",window.clearTimeout()}},{key:"getAddressRow",value:function(e,t){var r=this,i=t.id,a={custId:this.currentCustId,id:i};Object(h["L"])(a).then(function(e){r.$message.success("操作成功")}).catch(function(e){return e})}},{key:"getSettingRow",value:function(e,t){var r=this,i=t.id,a={custId:this.currentCustId,id:i};Object(h["M"])(a).then(function(e){r.$message.success("操作成功")}).catch(function(e){return e})}},{key:"formatFileType",value:function(e){var t=e.type,r=this.fileTypeList.find(function(e){return e.value===t})||{};return r.label}},{key:"getFileData",value:function(){var e=this;this.fileLoading=!0;var t={custId:this.currentCustId};Object(h["s"])(t).then(function(t){e.fileLoading=!1,e.fileInfoData=t.data.result||[]}).catch(function(t){return e.fileLoading=!1,t})}},{key:"getCountryList",value:function(){var e=this;Object(h["p"])().then(function(t){var r=t.data||{};e.countryList=r.result||[]}).catch(function(t){return e.loading=!1,t})}},{key:"init",value:function(){this.getPersonData(),this.getCountryList(),this.geCurrencyList()}},{key:"custId",get:function(){var e=f["a"].info||{},t=e.custId;return t}},{key:"custName",get:function(){var e=f["a"].info||{},t=e.custName;return t}}]),t}(p["e"]);we=m["a"]([Object(p["a"])({name:"CommonSettingMore",components:{AddEditPerson:L,AddEditAddress:E,AddEditBill:U,AddEditCollection:Q,AddEditFile:ae,AddEditSetting:fe},props:{currentCustId:{type:String,default:""},currentCustType:{type:String,default:""}}})],we);var ke=we,Le=ke,xe=(r("3fec"),Object(w["a"])(Le,i,a,!1,null,"7f791e78",null));t["a"]=xe.exports},"20ba":function(e,t,r){},"213c":function(e,t,r){},"254e":function(e,t,r){"use strict";r.d(t,"p",function(){return a}),r.d(t,"z",function(){return n}),r.d(t,"m",function(){return o}),r.d(t,"q",function(){return l}),r.d(t,"B",function(){return s}),r.d(t,"i",function(){return c}),r.d(t,"K",function(){return u}),r.d(t,"A",function(){return d}),r.d(t,"b",function(){return m}),r.d(t,"x",function(){return p}),r.d(t,"C",function(){return f}),r.d(t,"w",function(){return h}),r.d(t,"a",function(){return g}),r.d(t,"v",function(){return v}),r.d(t,"I",function(){return b}),r.d(t,"D",function(){return y}),r.d(t,"g",function(){return F}),r.d(t,"j",function(){return w}),r.d(t,"E",function(){return k}),r.d(t,"c",function(){return L}),r.d(t,"L",function(){return x}),r.d(t,"k",function(){return I}),r.d(t,"r",function(){return C}),r.d(t,"F",function(){return S}),r.d(t,"l",function(){return j}),r.d(t,"d",function(){return O}),r.d(t,"n",function(){return $}),r.d(t,"G",function(){return N}),r.d(t,"o",function(){return _}),r.d(t,"e",function(){return A}),r.d(t,"s",function(){return P}),r.d(t,"H",function(){return E}),r.d(t,"u",function(){return z}),r.d(t,"t",function(){return B}),r.d(t,"f",function(){return D}),r.d(t,"y",function(){return T}),r.d(t,"J",function(){return q}),r.d(t,"h",function(){return R}),r.d(t,"M",function(){return U});var i=r("b32d");function a(){var e={url:"/setting/area/getCountryList",method:"get"};return Object(i["a"])(e)}function n(e){var t={url:"/setting/area/getStateByCountry",method:"get",params:{countryId:e}};return Object(i["a"])(t)}function o(e){var t={url:"/setting/area/getCityByState",method:"get",params:{stateId:e}};return Object(i["a"])(t)}function l(e){var t={url:"/setting/area/getCountyByCity",method:"get",params:{cityId:e}};return Object(i["a"])(t)}function s(e){var t={url:"/auth/supplier/getSupplierList",method:"get",params:e};return Object(i["a"])(t)}function c(e){var t={url:"/auth/supplier/deleteSupplier",method:"delete",params:{id:e}};return Object(i["a"])(t)}function u(e){var t={url:"/auth/supplier/saveSupplier",method:"post",data:e};return Object(i["a"])(t)}function d(e){var t={url:"/auth/supplier/getSupplier",method:"get",params:{id:e}};return Object(i["a"])(t)}function m(e){var t={url:"/auth/supplier/changeStatus",method:"post",params:e};return Object(i["a"])(t)}function p(){var e={url:"/cfg/type/getServiceTypeList",method:"get",params:{custType:1}};return Object(i["a"])(e)}function f(e){var t={url:"/auth/user/user4position",method:"post",data:e};return Object(i["a"])(t)}function h(e){var t={url:"/auth/supplier/getStaffList",method:"get",params:e};return Object(i["a"])(t)}function g(e){var t={url:"/auth/supplier/saveStaff",method:"post",data:e};return Object(i["a"])(t)}function v(e){var t={url:"/auth/contact/getContactList",method:"get",params:e};return Object(i["a"])(t)}function b(e){var t={url:"/auth/contact/saveContact",method:"post",data:e};return Object(i["a"])(t)}function y(e){var t={url:"/auth/contact/getContact",method:"get",params:e};return Object(i["a"])(t)}function F(e){var t={url:"/auth/contact/deleteContact",method:"delete",params:e};return Object(i["a"])(t)}function w(e){var t={url:"/auth/address/getAddressList",method:"get",params:e};return Object(i["a"])(t)}function k(e){var t={url:"/auth/address/saveAddress",method:"post",data:e};return Object(i["a"])(t)}function L(e){var t={url:"/auth/address/deleteAddress",method:"delete",params:e};return Object(i["a"])(t)}function x(e){var t={url:"/auth/address/setAddressDefault",method:"post",params:e};return Object(i["a"])(t)}function I(e){var t={url:"/auth/invoice/getInvoiceList",method:"get",params:e};return Object(i["a"])(t)}function C(e){var t={url:"/setting/currency/getCurrencyList",method:"get",params:e};return Object(i["a"])(t)}function S(e){var t={url:"/auth/invoice/saveInvoice",method:"post",data:e};return Object(i["a"])(t)}function j(e){var t={url:"/auth/invoice/getInvoice",method:"get",params:e};return Object(i["a"])(t)}function O(e){var t={url:"/auth/invoice/deleteInvoice",method:"delete",params:e};return Object(i["a"])(t)}function $(e){var t={url:"/auth/acct/getAcctList",method:"get",params:e};return Object(i["a"])(t)}function N(e){var t={url:"/auth/acct/saveAcct",method:"post",data:e};return Object(i["a"])(t)}function _(e){var t={url:"/auth/acct/getAcct",method:"get",params:e};return Object(i["a"])(t)}function A(e){var t={url:"/auth/acct/deleteAcct",method:"delete",params:e};return Object(i["a"])(t)}function P(e){var t={url:"/auth/doc/getDocList",method:"get",params:e};return Object(i["a"])(t)}function E(e){var t={url:"/auth/doc/saveDoc",method:"post",data:e};return Object(i["a"])(t)}function z(e){var t={url:"/setting/util/getFileUrl",method:"get",params:e};return Object(i["a"])(t)}function B(e){var t={url:"/auth/doc/getDoc",method:"get",params:e};return Object(i["a"])(t)}function D(e){var t={url:"/auth/doc/deleteDoc",method:"delete",params:e};return Object(i["a"])(t)}function T(e){var t={url:"/auth/bookc/getBookcList",method:"get",params:e};return Object(i["a"])(t)}function q(e){var t={url:"/auth/bookc/saveBookc",method:"post",data:e};return Object(i["a"])(t)}function R(e){var t={url:"/auth/bookc/deleteBookc",method:"delete",params:e};return Object(i["a"])(t)}function U(e){var t={url:"/auth/bookc/setBookcDefault",method:"post",params:e};return Object(i["a"])(t)}},3135:function(e,t,r){"use strict";var i=r("582c"),a=r.n(i);a.a},"3fec":function(e,t,r){"use strict";var i=r("cbd1"),a=r.n(i);a.a},"559e":function(e,t,r){},"582c":function(e,t,r){},"5e22":function(e,t,r){"use strict";var i=r("20ba"),a=r.n(i);a.a},"7b1a":function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{staticClass:"panel-info"},[r("el-col",{attrs:{span:23}},[r("h3",[e._v(e._s(e.title))]),r("p",[e._v(e._s(e.info))])]),r("el-col",{directives:[{name:"show",rawName:"v-show",value:e.showBack,expression:"showBack"}],attrs:{span:1}},[r("el-button",{staticStyle:{"text-align":"right"},attrs:{type:"text",icon:"el-icon-back"},on:{click:function(t){return e.$emit("goback")}}},[e._v("\n      返回\n    ")])],1)],1)},a=[],n={name:"HeadInfoWithBack",props:{title:{type:String,default:""},info:{type:String,default:""},showBack:{type:Boolean,default:!1}}},o=n,l=(r("92d6"),r("2877")),s=Object(l["a"])(o,i,a,!1,null,"4f01525e",null);t["a"]=s.exports},"92d6":function(e,t,r){"use strict";var i=r("97f0"),a=r.n(i);a.a},"97f0":function(e,t,r){},"9efa":function(e,t,r){"use strict";r.d(t,"g",function(){return n}),r.d(t,"l",function(){return o}),r.d(t,"a",function(){return l}),r.d(t,"c",function(){return s}),r.d(t,"i",function(){return c}),r.d(t,"n",function(){return u}),r.d(t,"h",function(){return d}),r.d(t,"j",function(){return m}),r.d(t,"k",function(){return p}),r.d(t,"q",function(){return f}),r.d(t,"m",function(){return h}),r.d(t,"t",function(){return g}),r.d(t,"s",function(){return v}),r.d(t,"b",function(){return b}),r.d(t,"r",function(){return y}),r.d(t,"f",function(){return F}),r.d(t,"e",function(){return w}),r.d(t,"d",function(){return k}),r.d(t,"o",function(){return L}),r.d(t,"p",function(){return x});var i=r("a8db"),a=r("b32d");function n(e){var t={url:"/auth/agent/getAgentList",method:"get",params:e};return Object(a["a"])(t)}function o(e){var t=e.page,r=e.size,n=Object(i["a"])(e,["page","size"]),o={url:"/auth/customer/getCustomerList",method:"post",data:{model:n,page:t,size:r}};return Object(a["a"])(o)}function l(e){var t={url:"/auth/customer/changeStatus",method:"post",params:e};return Object(a["a"])(t)}function s(e){var t={url:"/auth/customer/deleteCustomer",method:"delete",params:e};return Object(a["a"])(t)}function c(){var e={url:"/setting/area/getCountryList",method:"get"};return Object(a["a"])(e)}function u(e){var t={url:"/setting/area/getStateByCountry",method:"get",params:{countryId:e}};return Object(a["a"])(t)}function d(e){var t={url:"/setting/area/getCityByState",method:"get",params:{stateId:e}};return Object(a["a"])(t)}function m(e){var t={url:"/setting/area/getCountyByCity",method:"get",params:{cityId:e}};return Object(a["a"])(t)}function p(e){var t={url:"/auth/customer/getCustomer",method:"get",params:e};return Object(a["a"])(t)}function f(e){var t={url:"/auth/user/user4position",method:"post",data:e};return Object(a["a"])(t)}function h(e){var t={url:"/auth/customer/getStaffList",method:"get",params:e};return Object(a["a"])(t)}function g(e){var t={url:"/auth/customer/saveStaff",method:"post",data:e};return Object(a["a"])(t)}function v(e){var t={url:"/auth/customer/saveCustomer",method:"post",data:e};return Object(a["a"])(t)}function b(e){var t={url:"/auth/customer/customerAudit",method:"post",data:e};return Object(a["a"])(t)}function y(e){var t={url:"/setting/dict/item/type",method:"get",params:e};return Object(a["a"])(t)}function F(e){var t={url:"/auth/agent/getAgent",method:"get",params:e};return Object(a["a"])(t)}function w(e){var t={url:"/auth/excel/input",method:"post",data:e};return Object(a["a"])(t)}function k(e){var t={url:"/auth/customer/edit_parent",method:"post",data:e};return Object(a["a"])(t)}function L(){var e={url:"/auth/agent/customer_finance",method:"get"};return Object(a["a"])(e)}function x(e){var t={url:"/auth/customer/edit_sign",method:"get",params:e};return Object(a["a"])(t)}},c904:function(e,t,r){"use strict";var i=r("559e"),a=r.n(i);a.a},cbd1:function(e,t,r){},ea97:function(e,t,r){"use strict";var i=r("213c"),a=r.n(i);a.a}}]);