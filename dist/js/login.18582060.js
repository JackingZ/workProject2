(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0d6d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABBCAYAAACO98lFAAAAAXNSR0IArs4c6QAAA91JREFUeF7tnE1oVUcUgL8zc2OsWBU1EZtGCo9slNKUuOlKoRCx4EJaKBTaCtK6dmkQEZRCoS66KhWkiwoFURAKhYpQcCdUUNum2CB9tFbJb/0jaPJmTrnvJi95TRPfnRuKeW8G7uYy58ycb86Zn8OdK/y7DGk7kxMdKOvBrcKIWVBnpb3w6sFOITxgzcZReuTpfBOkzp5bY1080S0I9e9XmtFL9VdRVIbp3fzXbLVZY4VrIyXaZH0z2bukLdP6gL6O2yCaQbgx/jLit7QMgFlD1Qzz2qY7wu+6modj25s6BBYb3TQ01m0eFH4a70Z9Z8t5QW1CMCPC9Xs7MMnqloXgK0+EX/7uxVVsy0KwiRNujva1LIAZwyMEIEKIELJ4iJ4QISyHJ3i/C68HEF4BXnz2KiMV0DvAJSQ5g1FXk/FiEfchnn7QbqD92fp4hFJG+AZrLzVQ/z+rhIdDCkD1VGjDwHdYe2wOQuUIKm8X0DcQCqIABPcVyqsFOg1i92G4B6zF+cugSbA+5TaJfTdEPhyCcz80FgJLdEvkEMZcw/s+VL8MMaBOxtqdITqKQPgxpME6mQghXZuiJ0QI2VYtekKEED2hltqK4RDDoTnCoeKuIhTLTTbB6nAeqqfH8CLyPsb8iroNeC6HK0oldQSbvBWio8i2+WMgfcKK8ieJ3T93inSforwZpqwqdRprT4fIh0NIz/9++jgie3M3nAKw/jDSVq7Jpt7gOIHwRi59ikO4gCSn6vITOZSEQ5htxLMV/Es52pyshsBixVdKYDbk0FfGmPEc9RdULQ6hSOvPiWxxCF5fQCkh2kg6DIwdnkmxLYZgLV5LDSdYjLkFPC7CsxgE7z9C9UCD+cD5/RzEJgN1MFKY6NFscsyZYRK+heTk/z8neLcX5USBERjE2g9q8s59BuwO1ifyNcZ8HiIf7gl+GXKMhvcQ+xveb0L1+xAD5lYXHSdJ9oToCIcQc4yAczHHGCGkgRc9IULIJuDoCRFC9IR5O7y4RMY5IZsYrwBrQrapNZkVn2MsenZIM0KWPYi9vzw5RspY+07IoBQ5O/QDn4Q0WpURzmDsFzV5XzDHqJwksRdD+hMOIQuJfpSDCKUcjd8FOYs15+pkqskZPQiaZozzfHBeRjkbCiAbj/hZb4QQPWEmHmM4xDkhc4XoCVUI8eaLi3egqnegWv02nJrheC+yei8yLT9PbMO7jhxb3+aoOjU1ys6uPzIIqsKNsR5MI3cWmsN+nD7k9c6hbImcX66PddHmO3FN8LuAxcbKqmf66Qi93Qtuzc+JDA21M7mxif+fMDFKT0/d/xP+AU5BSn9+xdytAAAAAElFTkSuQmCC"},"197e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-scrollbar",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"monitor",staticStyle:{"background-color":"#1d2331"}},[s("div",{staticClass:"container",staticStyle:{"max-width":"1440px",margin:"0 auto"}},[s("div",{staticClass:"contain-header"},[s("div",{staticClass:"header-box"},[s("div",{staticClass:"header-left"},[s("div",{staticClass:"line border"}),s("div",{staticClass:"line"}),s("div",{staticClass:"time"},[s("span",[t._v(t._s(t.today.day))]),s("span",[t._v(t._s(" "+t.today.week+" "))]),s("span",[t._v(t._s(t.today.time))])])]),s("div",{staticClass:"header-subject"},[s("div",{staticClass:"subject-cn"},[t._v("\n            聚货通物流快递监测系统\n          ")]),s("div",{staticClass:"subject-en"},[t._v("\n            JHT LOGISTICS EXPRESS MONITORING SYSTEM\n          ")])]),s("div",{staticClass:"header-right"},[s("div",{staticClass:"line border"}),s("div",{staticClass:"line"}),s("div",{staticClass:"full-screen",on:{click:t.handleFullScreen}},[s("span",{class:{"full-screen-icon":!0,reset:t.fullscreen}}),s("span",[t._v(t._s(t.fullscreen?"还原":"全屏"))])]),s("el-checkbox",{on:{change:function(e){return t.loadData(1)}},model:{value:t.locked,callback:function(e){t.locked=e},expression:"locked"}},[t._v("\n            锁舱在途\n          ")]),s("el-button",{staticClass:"transit-btn",attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.showOrderList({},"transit")}}},[t._v("\n            查看在途\n          ")])],1)])]),s("div",{staticClass:"contain-main monitor-scrollbar"},[s("div",{staticClass:"main-box"},[s("div",{staticClass:"country-options"},[s("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","align-items":"center"}},[s("div",{staticStyle:{flex:"1"}},t._l(t.countryList,function(e){return s("el-button",{key:e.id,staticClass:"country-btn",class:t.searchForm.countryId===e.id?"active":"",attrs:{size:"medium",round:""},on:{click:function(a){return t.handleCountry(e.id)}}},[t._v("\n                "+t._s(e.name)+"\n              ")])}),1),s("div",{staticStyle:{width:"200px","text-align":"right"}},[t._e()])])]),s("div",{staticClass:"total-number"},[s("div",{staticClass:"total-col"},[s("img",{staticClass:"img-icon",attrs:{src:a("5cb6")}}),s("div",{staticClass:"img-word"},[s("span",{staticClass:"img-text"},[t._v("总票数")]),s("br"),s("span",{staticClass:"img-number"},[t._v(t._s(t.summary.bills||0))]),s("span",{staticClass:"img-text"},[t._v(" 票")])])]),s("div",{staticClass:"total-dashed"}),s("div",{staticClass:"total-col"},[s("img",{staticClass:"img-icon",attrs:{src:a("0d6d")}}),s("div",{staticClass:"img-word"},[s("span",{staticClass:"img-text"},[t._v("总件数")]),s("br"),s("span",{staticClass:"img-number"},[t._v(t._s(t.summary.packages||0))]),s("span",{staticClass:"img-text"},[t._v(" 件")])])]),s("div",{staticClass:"total-dashed"}),s("div",{staticClass:"total-col"},[s("img",{staticClass:"img-icon",attrs:{src:a("c83c")}}),s("div",{staticClass:"img-word"},[s("span",{staticClass:"img-text"},[t._v("总重量")]),s("br"),s("span",{staticClass:"img-number"},[t._v(t._s(t.filterCount(t.summary.weights||0)))]),s("span",{staticClass:"img-text"},[t._v(" kg")])])]),s("div",{staticClass:"total-dashed"}),s("div",{staticClass:"total-col"},[s("img",{staticClass:"img-icon",attrs:{src:a("4bb2")}}),s("div",{staticClass:"img-word"},[s("span",{staticClass:"img-text"},[t._v("总体积")]),s("br"),s("span",{staticClass:"img-number"},[t._v(t._s(t.filterCount(t.summary.volumes||0)))]),s("span",{staticClass:"img-text"},[t._v(" m³")])])])]),s("div",{staticClass:"total-warehouse"},[s("div",{staticClass:"total-item"},[s("div",{staticClass:"item-word"},[t._v("\n              货柜量\n            ")]),s("div",{staticClass:"item-number"},[t._v("\n              "+t._s(t.summary.totalContainer||0)+"\n            ")]),s("div",{staticClass:"item-unit"},[t._v("\n               条\n            ")])]),s("div",{staticClass:"total-space"}),s("div",{staticClass:"total-item"},[s("div",{staticClass:"item-word"},[t._v("\n              已装载\n            ")]),s("div",{staticClass:"item-number"},[t._v("\n              "+t._s(t.filterCount(t.summary.confirm||0))+"\n            ")]),s("div",{staticClass:"item-unit"},[t._v("\n               m³\n            ")])]),s("div",{staticClass:"total-space"}),s("div",{staticClass:"total-item"},[s("div",{staticClass:"item-word"},[t._v("\n              未装载\n            ")]),s("div",{staticClass:"item-number"},[t._v("\n              "+t._s(t.filterCount(t.summary.notLoad||0))+"\n            ")]),s("div",{staticClass:"item-unit"},[t._v("\n               m³\n            ")])]),s("div",{staticClass:"total-space"}),s("div",{staticClass:"total-item"},[s("div",{staticClass:"item-word"},[t._v("\n              锁仓在途\n            ")]),s("div",{staticClass:"item-number"},[t._v("\n              "+t._s(t.filterCount(t.summary.locked||0))+"\n            ")]),s("div",{staticClass:"item-unit"},[t._v("\n               m³\n            ")])])]),s("div",{staticClass:"echart-warehouse"},[s("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","align-items":"center"}},[s("div",{staticStyle:{flex:"1"}},[s("el-radio-group",{staticClass:"echart-radio-group",attrs:{size:"mini"},on:{change:t.handleDelivery},model:{value:t.searchForm.loadType,callback:function(e){t.$set(t.searchForm,"loadType",e)},expression:"searchForm.loadType"}},t._l(t.typeOption,function(e){return s("el-radio-button",{key:e.id,staticClass:"echart-radio",attrs:{label:e.id}},[t._v("\n                  "+t._s(e.name)+"\n                ")])}),1)],1),s("div",{staticStyle:{width:"50px","text-align":"right"}},[s("span",{staticClass:"detail-icon",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.open()}}})])]),s("ve-histogram",{ref:"myChart",attrs:{data:t.chartData,"data-zoom":t.chartDataZoom,settings:t.chartSettings,extend:t.chartExtend,grid:t.chartGrid,tooltip:t.chartTooltip,"mark-line":t.chartMarkLine,events:t.chartEvents,height:"420px"}})],1),s("div",{staticClass:"loading-detail"},[s("div",{staticClass:"loading-subject"},[t._v("\n            装载详情\n          ")]),s("div",{staticClass:"echart-container"},[s("ve-histogram",{ref:"yourChart",attrs:{data:t.chart2Data,settings:t.chart2Settings,"data-zoom":t.chart2DataZoom,extend:t.chart2Extend,grid:t.chart2Grid,tooltip:t.chart2Tooltip,"mark-line":t.chart2MarkLine,height:"420px"}})],1),t.loadList.length?s("div",{staticClass:"loading-contain"},t._l(t.loadList,function(e){return s("div",{key:e.id,staticClass:"loading-item"},[s("div",{staticClass:"item-title"},[s("div",{staticClass:"item-text"},[s("span",{staticClass:"cabinet"},[t._v("\n                    "+t._s(e.containerName)+"\n                  ")]),s("span",{staticClass:"flight"},[t._v("\n                    "+t._s(e.portsFromName)+" — "+t._s(e.portsToName)+"\n                  ")])]),s("div",{staticClass:"item-bill-so",on:{click:function(a){return a.stopPropagation(),t.handleOpen(e)}}},[s("span",{staticClass:"item-color"},[t._v(t._s("0"===e.transport?"提单号：":"SO："))]),s("span",[t._v(t._s(e.so))]),s("span",{staticClass:"item-icon"},[s("i",{staticClass:"el-icon-arrow-up",style:{transform:t.openList.includes(e.id)?"rotate(0deg)":"rotate(180deg)",transition:"all .3s",cursor:"pointer"}})])])]),s("el-row",{staticClass:"item-warehouse"},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"item-value"},[s("span",{staticClass:"item-color"},[t._v("装货仓库：")]),s("span",[t._v(t._s(e.warehouseName))])])]),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"item-value"},[s("span",{staticClass:"item-color"},[t._v("货柜属性：")]),"1"===e.loadType?s("span",[t._v("整柜直送-"+t._s(e.fbaCode))]):"0"===e.loadType?s("span",[t._v("快递柜")]):"2"===e.loadType?s("span",[t._v("混装柜")]):s("span",[t._v("未装载")])])]),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"item-value"},[s("span",{staticClass:"item-color"},[t._v("服务组：")]),s("span",[t._v(t._s(e.groupName))])])])],1),s("div",{staticClass:"item-total"},[s("div",{staticClass:"total-word"},[s("span",{staticClass:"total-text"},[t._v("总票数")]),s("span",{staticClass:"total-num"},[t._v(t._s(e.bills||0))])]),s("div",{staticClass:"total-word"},[s("span",{staticClass:"total-text"},[t._v("总件数")]),s("span",{staticClass:"total-num"},[t._v(t._s(e.packages||0))])]),s("div",{staticClass:"total-word"},[s("span",{staticClass:"total-text"},[t._v("总重量(kg)")]),s("span",{staticClass:"total-num"},[t._v(t._s(e.weights||0))])]),s("div",{staticClass:"total-word"},[s("span",{staticClass:"total-text"},[t._v("总体积(m³)")]),s("span",{staticClass:"total-num"},[t._v(t._s(e.volumes||0))])])]),t.openList.includes(e.id)?s("div",{staticClass:"item-info"},["0"===e.transport?s("el-row",[s("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[s("div",{staticClass:"info-word"},[s("span",{staticClass:"item-color"},[t._v("服务机构：")]),s("span",[t._v(t._s(e.orgName))])])]),s("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[s("div",{staticClass:"info-word"},[s("span",{staticClass:"item-color"},[t._v("截关时间：")]),s("span",[t._v(t._s(e.deadlineCustoms))])])]),s("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[s("div",{staticClass:"info-word"},[s("span",{staticClass:"item-color"},[t._v("起运港：")]),s("span",[t._v(t._s(e.portsFromName))])])]),s("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[s("div",{staticClass:"info-word"},[s("span",{staticClass:"item-color"},[t._v("目的港：")]),s("span",[t._v(t._s(e.portsToName))])])]),s("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[s("div",{staticClass:"info-word"},[s("span",{staticClass:"item-color"},[t._v("起飞时间：")]),s("span",[t._v(t._s(e.departureTime))])])])],1):s("el-row",[s("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[s("div",{staticClass:"info-word"},[s("span",{staticClass:"item-color"},[t._v("服务机构：")]),s("span",[t._v(t._s(e.orgName))])])]),s("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[s("div",{staticClass:"info-word"},[s("span",{staticClass:"item-color"},[t._v("截关时间：")]),s("span",[t._v(t._s(e.deadlineCustoms))])])]),s("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[s("div",{staticClass:"info-word"},[s("span",{staticClass:"item-color"},[t._v("ETD：")]),s("span",[t._v(t._s(e.etd))])])]),s("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[s("div",{staticClass:"info-word"},[s("span",{staticClass:"item-color"},[t._v("船次：")]),s("span",[t._v(t._s(e.shipNo))])])]),s("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[s("div",{staticClass:"info-word"},[s("span",{staticClass:"item-color"},[t._v("截重时间：")]),s("span",[t._v(t._s(e.deadlineWeight))])])]),s("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[s("div",{staticClass:"info-word"},[s("span",{staticClass:"item-color"},[t._v("ETA：")]),s("span",[t._v(t._s(e.eta))])])]),s("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:24}},[s("div",{staticClass:"info-word"},[s("span",{staticClass:"item-color"},[t._v("船名：")]),s("span",[t._v(t._s(e.shipName))])])])],1)],1):t._e()],1)}),0):s("div",{staticClass:"loading-empty"},[t._v("\n            暂无数据\n          ")])])])])]),s("el-backtop",{staticStyle:{color:"#283042"},attrs:{target:".monitor"}}),s("LockedDetail",{ref:"lockedDetail",attrs:{locked:t.locked,"country-id":t.searchForm.countryId}})],1)},n=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("a8db")),r=(a("96cf"),a("3b8d")),o=(a("28a5"),a("7514"),a("6762"),a("2fdb"),a("75fc")),l=(a("55dd"),a("bd86")),c=(a("6b54"),a("7f7f"),a("d225")),u=a("b0b4"),d=a("308d"),p=a("6bb5"),h=a("4e2b"),m=a("9ab4"),v=a("60a3"),f=a("5a0c"),g=a.n(f),b=a("9629"),w=a("2204"),y=a("93bf"),C=a.n(y);function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(a,!0).forEach(function(e){Object(l["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var x=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(d["a"])(this,Object(p["a"])(e).apply(this,arguments)),t.locked=!0,t.loading=!1,t.fullscreen=!1,t.updateTime="",t.timer="",t.timer2="",t.today={day:"",week:"",time:""},t.summary={bills:"",packages:"",weights:"",volumes:"",confirm:"",loaded:"",locked:"",notLoad:"",totalContainer:""},t.searchForm={countryId:void 0,loadType:"1"},t.loadList=[],t.openList=[],t.countryList=[],t.typeOption=[{name:"整柜直送",id:"1"},{name:"快递柜",id:"0"},{name:"混装柜",id:"2"}],t.tableData=[],t.tableSort=[],t.tableOption=[],t.summaryData=[],t.summary2Data=[],t.containData=[],t.fbaList=[],t.bscList=[],t.warehouseList=[],t.warehouse2List=[],t.fbaOption=[],t.warehouseOption=[],t.groupList=[],t.group2List=[],t.groupOption=[],t.groupAll=[],t.chart2DataZoom=[],t.chart2Data={},t.chart2Settings={},t.chart2Extend={},t.chart2Grid={},t.chart2Tooltip={},t.chart2MarkLine={},t.chartData={},t.chartSettings={},t.chartExtend={},t.chartGrid={},t.chartTooltip={},t.chartMarkLine={},t.chartDataZoom=[],t.legendselected={},t.labelMap={},t.chartEvents={click:function(e){t.chartClick(e)},legendselectchanged:function(e){t.legendselectchange(e)}},t}return Object(h["a"])(e,t),Object(u["a"])(e,[{key:"filterCount",value:function(t){return parseFloat(t.toFixed(2))}},{key:"getToday",value:function(){var t=this;this.timer=setTimeout(function(){var e=g()().format("YYYY年MM月DD日"),a=g()().format("HH:mm:ss"),s="";switch(g()().day()){case 0:s="星期天";break;case 1:s="星期一";break;case 2:s="星期二";break;case 3:s="星期三";break;case 4:s="星期四";break;case 5:s="星期五";break;case 6:s="星期六";break;default:s=""}t.today={day:e,week:s,time:a},t.getToday()},1e3)}},{key:"funcReduceArray",value:function(t,e){var a={};return t.reduce(function(t,s){return a[s[e]]||(a[s[e]]=!0,t.push(s)),t},[])}},{key:"funcReducePlus",value:function(t,e){return t.reduce(function(t,a){return t+=a[e]||0,t},0)}},{key:"legendselectchange",value:function(t){var e=this;this.legendselected=t.selected,this.warehouseOption=this.warehouseList.filter(function(t){return e.legendselected[t.warehouseName]}),this.getOriginData()}},{key:"chartClick",value:function(t){this.open(t)}},{key:"open",value:function(t){var e=this;if(t)if("1"===this.searchForm.loadType){this.fbaOption=[t.name],this.groupOption=[];var a=this.tableSort[t.dataIndex].tooltipName;this.groupList.map(function(t){t.groupName===a&&e.groupOption.push(t.groupId)})}else this.groupOption=[],this.groupList.map(function(a){a.groupName===t.name&&e.groupOption.push(a.groupId)});else this.groupOption=this.groupList.map(function(t){return t.groupId}),this.fbaOption=this.fbaList;this.fbaOption=this.fbaOption.filter(function(t){return t}),this.groupOption=this.groupOption.filter(function(t){return t});var s=g()().valueOf().toString(),n=_({},this.searchForm,{includeLock:this.locked,fbaSelected:this.fbaOption.length>0?this.fbaOption:this.fbaList,warehouseSelected:this.warehouseOption.length>0?this.warehouseOption.map(function(t){return t.warehouseId}):this.warehouseList.map(function(t){return t.warehouseId}),groupSelected:this.groupOption.length>0?this.groupOption:this.groupList.map(function(t){return t.groupId})}),i=JSON.stringify(n);sessionStorage.setItem(s,i);var r=this.$router.resolve({path:"/monitor-detail?tag=".concat(s)}),o=r.href;window.open(o,"_blank")}},{key:"setFbaWarehouseGroup",value:function(){var t=this.funcReduceArray(this.summaryData,"fbaCode"),e=this.funcReduceArray(this.summaryData,"warehouseId"),a=this.funcReduceArray(this.summaryData,"groupId");this.fbaList=t.map(function(t){return t.fbaCode}),this.warehouseList=e.map(function(t){var e=t.warehouseId,a=t.warehouseName;return{warehouseId:e,warehouseName:a}}),this.groupList=a.map(function(t){var e=t.groupId,a=t.groupName;return{groupId:e,groupName:a}})}},{key:"setFbaCodeChart",value:function(){var t=this,e=[];this.fbaList.map(function(a){t.groupList.map(function(s){var n=t.summaryData.filter(function(t){return a===t.fbaCode&&s.groupId===t.groupId});if(n.length>0){var i={};t.warehouseList.map(function(e){var a=e.warehouseName,s=0,r=n.filter(function(t){return t.warehouseId===e.warehouseId});r.length>0&&(s=t.funcReducePlus(r,"volumes")),i[a]=parseFloat(s.toFixed(2))});var r=t.funcReducePlus(n,"volumes");e.push(_({xAxisName:a,tooltipName:s.groupName,totalVolumes:parseFloat(r.toFixed(2))},i))}})}),this.tableData=e}},{key:"setGroupChart",value:function(){var t=this,e=[];this.groupList.map(function(a){var s=t.summaryData.filter(function(t){return a.groupId===t.groupId});if(s.length>0){var n={};t.warehouseList.map(function(e){var a=e.warehouseName,i=0,r=s.filter(function(t){return t.warehouseId===e.warehouseId});r.length>0&&(i=t.funcReducePlus(r,"volumes")),n[a]=parseFloat(i.toFixed(2))});var i=t.funcReducePlus(s,"volumes");e.push(_({xAxisName:a.groupName,tooltipName:a.groupName,totalVolumes:parseFloat(i.toFixed(2))},n))}}),this.tableData=e}},{key:"getOriginData",value:function(){var t=this,e=this.warehouseList.map(function(t){return t.warehouseName}),a=this.tableData.map(function(a){return a.totalVolumes=0,t.warehouseOption.length?e.map(function(e){t.legendselected[e]&&(a.totalVolumes=parseFloat((a.totalVolumes+a[e]).toFixed(2)))}):e.map(function(t){a.totalVolumes=parseFloat((a.totalVolumes+a[t]).toFixed(2))}),_({},a)});this.tableSort=a.sort(function(t,e){return e.totalVolumes-t.totalVolumes});for(var s=this.tableSort.length,n="1"===this.searchForm.loadType&&s>10?Math.floor(1e3/s):100,i=[],r=1;r<1e3;r++)i.push({yAxis:70*r});this.chartData={columns:["xAxisName"].concat(Object(o["a"])(e),["totalVolumes"]),rows:this.tableSort},this.chartSettings={stack:{volumns:e}},this.chartDataZoom=[{type:"slider",start:0,end:n}],this.chartTooltip={trigger:"axis",axisPointer:{type:"line",lineStyle:{type:"dashed",color:"#fff"}},backgroundColor:"#fff",padding:12,textStyle:{color:"#303133",fontSize:12},formatter:function(e){var a=e[0].dataIndex,s=t.tableSort[a].tooltipName,n="";return n+=s+"<br/>",e.map(function(t){t.marker='<span style="display: inline-block;border-radius:3px;width:6px;height:6px;margin-right: 5px;background-color: '.concat(t.color,'"></span>'),n+='<div style="display: flex;flex-flow: row nowrap;align-items: center;padding: 4px 0;"><div style="flex: 1;">'.concat("totalVolumes"!==t.seriesName?t.marker:"","<span>").concat("totalVolumes"!==t.seriesName?t.seriesName:"总体积",'：</span></div><div style="flex: 1;text-align: right;">').concat(t.data," m³</div></div>")}),n}},this.chartMarkLine={symbol:["none","none"],label:{position:"insideEndTop",color:"#FF0000",formatter:"{c} m³",padding:[0,3,0,0]},lineStyle:{color:"#FF0000",type:"dashed"},data:i},this.chartGrid={top:60,left:5,bottom:60,right:5};var l={top:10,left:0,orient:"horizontal",padding:[0,0,5,0],itemGap:20,itemWidth:16,itemHeight:12,icon:"roundRect",textStyle:{color:"#fff"},formatter:function(t){if("totalVolumes"!==t)return t}};this.warehouseOption.length&&(l.selected=this.legendselected),this.chartExtend={legend:l,xAxis:{axisLabel:{rotate:"1"===this.searchForm.loadType?0:-45,textStyle:{color:"#fff"}},axisLine:{show:!0,lineStyle:{color:"#D9D9D9"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{color:"#D9D9D9"}}},yAxis:{axisLabel:{formatter:"{value} m³",textStyle:{color:"rgba(255, 255, 255, 0.65)"}},splitLine:{lineStyle:{type:"dashed",color:"rgba(255, 255, 255, 0.25)"}}},series:function(t){return t.map(function(t,e){return t.barWidth="20px",t.smooth=!1,t.itemStyle={normal:{lineStyle:{color:"rgba(64, 158, 255, 1)"}}},"totalVolumes"===t.name&&(t.barGap="-100%",t.itemStyle={color:"rgba(128, 128, 128, 0)"},t.label={show:!0,color:"#fff",position:"top",formatter:"{c} m³"}),t}),t}}}},{key:"setBscWarehouseGroup",value:function(){var t=this.funcReduceArray(this.containData,"bscId"),e=this.funcReduceArray(this.summary2Data,"warehouseId"),a=this.summary2Data.map(function(t){var e=t.groupId,a=t.groupName;return{groupId:e,groupName:a}}).filter(function(t){return t&&t.groupId}),s=this.containData.map(function(t){var e=t.groupId,a=t.groupName;return{groupId:e,groupName:a}}).filter(function(t){return t&&t.groupId}),n=[].concat(Object(o["a"])(a),Object(o["a"])(s)),i=this.funcReduceArray(n,"groupId");this.bscList=t.map(function(t){var e=t.bscId,a=t.bscName;return{bscId:e,bscName:a}}),this.warehouse2List=e.map(function(t){var e=t.warehouseId,a=t.warehouseName;return{warehouseId:e,warehouseName:a}}),this.group2List=i}},{key:"setGroupBscWarehouseChart",value:function(){var t=this,e=this.group2List.map(function(e){var a=t.containData.filter(function(t){return t.groupId===e.groupId}),s={};t.bscList.map(function(e){var n=e.bscName,i=0,r=0,o=a.filter(function(t){return t.bscId===e.bscId});i=t.funcReducePlus(o,"containerVolume"),r=t.funcReducePlus(o,"actualvolumes"),s[n]=parseFloat(i.toFixed(2)),s["bscId-".concat(e.bscId)]=o.length+"-"+parseFloat(r.toFixed(2))});var n=t.funcReducePlus(a,"actualvolumes");s.bscvolumes=parseFloat(n.toFixed(2)),s.containerZero=0;var i=t.funcReducePlus(a,"containerVolume");s.containerVolumes=parseFloat(i.toFixed(2));var r=t.summary2Data.filter(function(t){return t.groupId===e.groupId});t.warehouse2List.map(function(e){var a=e.warehouseName,n=0,i=r.filter(function(t){return t.warehouseId===e.warehouseId});n=t.funcReducePlus(i,"volumes"),s[a]=parseFloat(n.toFixed(2))}),s.wareZero=0;var o=t.funcReducePlus(r,"volumes");return s.wareVolumes=parseFloat(o.toFixed(2)),_({},e,{},s)});this.tableOption=e.sort(function(t,e){return e.wareVolumes-t.wareVolumes})}},{key:"getContainerData",value:function(){for(var t=this,e=this.warehouse2List.map(function(t){return t.warehouseName}),a=this.bscList.map(function(t){return t.bscName}),s=this.tableOption.length,n=s>10?Math.floor(1e3/s):100,i=[],r=1;r<1e3;r++)i.push({yAxis:70*r});this.chart2Data={columns:["groupName"].concat(Object(o["a"])(a),Object(o["a"])(e),["bscvolumes","containerZero","wareZero"]),rows:this.tableOption},this.chart2Settings={showLine:["bscvolumes"],stack:{bscId:[].concat(Object(o["a"])(a),["containerZero"]),warehouseId:[].concat(Object(o["a"])(e),["wareZero"])}},this.chart2DataZoom=[{type:"slider",start:0,end:n}],this.chart2Tooltip={trigger:"axis",axisPointer:{type:"line",lineStyle:{type:"dashed",color:"#fff"}},backgroundColor:"#fff",padding:12,textStyle:{color:"#303133",fontSize:12},formatter:function(s){var n=s[0].dataIndex,i=t.tableOption[n].groupName,r="";return r+='<div style="font-size: 16px;font-weight: 600;">'.concat(i,"</div>"),s.map(function(e){if(e.marker='<span style="display: inline-block;border-radius:3px;width:6px;height:6px;margin-right: 5px;background-color: '.concat(e.color,'"></span>'),a.includes(e.seriesName)){var s=t.bscList.find(function(t){return t.bscName===e.seriesName})||{},i=t.tableOption[n]["bscId-".concat(s.bscId)],o=i.split("-")[0]||"";o&&"0"!==o&&(r+='<div style="display: flex;flex-flow: row nowrap;align-items: center;padding: 4px 0;"><div style="flex: 1;">'.concat(e.marker,"<span>").concat(e.seriesName,'：</span></div><div style="width: 50px;text-align: right;">').concat(o,' 条</div><div style="width: 100px;text-align: right;">').concat(i.split("-")[1]||0," m³</div></div>"))}}),r+='<div style="height: 5px;background-color: #EBEEF5;margin: 15px 0;"></div>',s.map(function(t){t.marker='<span style="display: inline-block;border-radius:3px;width:6px;height:6px;margin-right: 5px;background-color: '.concat(t.color,'"></span>'),e.includes(t.seriesName)&&(r+='<div style="display: flex;flex-flow: row nowrap;align-items: center;padding: 4px 0;"><div style="flex: 1;">'.concat(t.marker,"<span>").concat(t.seriesName,'：</span></div><div style="width: 150px;text-align: right;">').concat(t.data," m³</div></div>"))}),r}},this.chart2MarkLine={symbol:["none","none"],label:{position:"insideEndTop",color:"#FF0000",formatter:"{c} m³",padding:[0,3,0,0]},lineStyle:{color:"#FF0000",type:"dashed"},data:i},this.chart2Grid={top:30,left:5,bottom:60,right:5},this.chart2Extend={legend:{show:!1},xAxis:{axisLabel:{rotate:-45,textStyle:{color:"#fff"}},axisLine:{show:!0,lineStyle:{color:"#D9D9D9"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{color:"#D9D9D9"}}},yAxis:{axisLabel:{formatter:"{value} m³",textStyle:{color:"rgba(255, 255, 255, 0.65)"}},splitLine:{lineStyle:{type:"dashed",color:"rgba(255, 255, 255, 0.25)"}}},series:function(e){return e.map(function(e,a){return e.barWidth="20px",e.smooth=!1,e.itemStyle={normal:{lineStyle:{color:"rgba(64, 158, 255, 1)"}}},"bscvolumes"===e.name&&(e.symbol="circle",e.symbolSize=10,e.itemStyle={normal:{color:"#FF4753",lineStyle:{color:"#fff",width:1}}}),"containerZero"===e.name&&(e.itemStyle={color:"rgba(128, 128, 128, 0)"},e.label={show:!0,align:"right",rotate:-45,color:"#fff",position:"top",formatter:function(e){var a=t.tableOption[e.dataIndex].containerVolumes;return"".concat(a," m³")}}),"wareZero"===e.name&&(e.itemStyle={color:"rgba(128, 128, 128, 0)"},e.label={show:!0,align:"left",rotate:45,color:"#fff",position:"top",formatter:function(e){var a=t.tableOption[e.dataIndex].wareVolumes;return"".concat(a," m³")}}),e}),e}}}},{key:"handleOpen",value:function(t){this.openList.includes(t.id)?this.openList=this.openList.filter(function(e){return e!==t.id}):this.openList.push(t.id)}},{key:"handleFullScreen",value:function(){var t=C.a;t.enabled?t.toggle():this.$message.warning("不支持全屏")}},{key:"changeFullScreen",value:function(t){this.fullscreen=!this.fullscreen}},{key:"handleCountry",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.searchForm.countryId=e,t.next=3,this.loadData(1);case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleDelivery",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadData(1);case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"showOrderList",value:function(t,e){var a=this.$refs.lockedDetail;"so"===e&&t.so||"fba"===e&&t.codes&&t.codes.length||"transit"===e?a.show(t,e):this.$message.warning("暂无订单")}},{key:"loadData",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(clearTimeout(this.timer2),this.searchForm.countryId){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,this.getDashboardData(e);case 6:return t.next=8,this.getContainerChart();case 8:t.next=15;break;case 10:return t.prev=10,t.t0=t["catch"](3),t.next=14,this.loadData();case 14:return t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,this,[[3,10]])}));function e(e){return t.apply(this,arguments)}return e}()},{key:"getDashboardData",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var a,s,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=null,1===e&&(a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})),s={countryId:this.searchForm.countryId,loadType:this.searchForm.loadType,fbaCodes:[],includeLock:this.locked,warehouseIds:[]},Object(b["b"])(s).then(function(t){var e=t.data||{},s=(e.containers,e.summaries,e.runStartTime,e.runEndTime),r=Object(i["a"])(e,["containers","summaries","runStartTime","runEndTime"]);n.summaryData=e.summaries||[],n.updateTime=g()(s).format("YYYY/MM/DD HH:mm:ss"),n.summary=_({},r),n.setFbaWarehouseGroup(),"1"===n.searchForm.loadType?n.setFbaCodeChart():n.setGroupChart(),n.getOriginData(),a&&a.close()}).catch(function(t){return a&&a.close(),t});case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"getContainerChart",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a,s,n,i,r,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={countryId:this.searchForm.countryId,loadType:"2",fbaCodes:[],includeLock:this.locked,warehouseIds:[]},a={countryId:this.searchForm.countryId,groupIds:[]},t.prev=2,t.next=5,Object(b["b"])(e);case 5:return s=t.sent,n=s.data||{},n.containers,i=n.summaries,this.summary2Data=i||[],t.next=11,Object(b["a"])(a);case 11:r=t.sent,o=r.data||[],this.loadList=o,this.containData=o.map(function(t){return{groupId:t.groupId,groupName:t.groupName,bscId:t.bscId,bscName:t.bscName,actualvolumes:t.volumes,containerVolume:t.volume}}),this.setBscWarehouseGroup(),this.setGroupBscWarehouseChart(),this.getContainerData(),t.next=23;break;case 20:return t.prev=20,t.t0=t["catch"](2),t.abrupt("return",t.t0);case 23:case"end":return t.stop()}},t,this,[[2,20]])}));function e(){return t.apply(this,arguments)}return e}()},{key:"windowKeydown",value:function(t){t&&122===t.keyCode&&t.preventDefault()}},{key:"getDashboardGroup",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(b["f"])({countryId:this.searchForm.countryId}).then(function(t){var a=t.data||[];e.groupAll=a.filter(function(t){return t&&t.id&&t.name})}).catch(function(t){return e.groupAll=[],t}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getDashboardCountry",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(b["c"])().then(function(t){var a=t.data||[];e.countryList=a.filter(function(t){return t&&t.id&&t.name})}).catch(function(t){return e.countryList=[],t}));case 1:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()},{key:"created",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=C.a,e.on("change",this.changeFullScreen),this.getToday(),t.next=5,this.getDashboardCountry();case 5:if(0!==this.countryList.length){t.next=7;break}return t.abrupt("return");case 7:return this.searchForm.countryId=this.countryList[0].id,t.next=10,this.loadData(1);case 10:window.addEventListener("keydown",this.windowKeydown),this.$once("hook:beforeDestroy",function(){clearTimeout(a.timer),clearTimeout(a.timer2),e.off("change",a.changeFullScreen),window.removeEventListener("keydown",a.windowKeydown)});case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(v["e"]);x=m["a"]([Object(v["a"])({name:"Monitor",components:{LockedDetail:w["a"]}})],x);var O=x,D=O,T=(a("895f"),a("2877")),F=Object(T["a"])(D,s,n,!1,null,"70005248",null);e["default"]=F.exports},"1c4c":function(t,e,a){"use strict";var s=a("9b43"),n=a("5ca1"),i=a("4bf8"),r=a("1fa8"),o=a("33a4"),l=a("9def"),c=a("f1ae"),u=a("27ee");n(n.S+n.F*!a("5cc5")(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,n,d,p=i(t),h="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,f=void 0!==v,g=0,b=u(p);if(f&&(v=s(v,m>2?arguments[2]:void 0,2)),void 0==b||h==Array&&o(b))for(e=l(p.length),a=new h(e);e>g;g++)c(a,g,f?v(p[g],g):p[g]);else for(d=b.call(p),a=new h;!(n=d.next()).done;g++)c(a,g,f?r(d,v,[n.value,g],!0):n.value);return a.length=g,a}})},"1ec2":function(t,e,a){},2017:function(t,e,a){"use strict";var s=a("fba9"),n=a.n(s);n.a},2204:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.visible,width:"1200px","show-close":!1},on:{"update:visible":function(e){t.visible=e},closed:t.close}},[a("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"header-left"},[a("span",{staticClass:"list-icon"}),"fba"===t.showDialogType?a("span",{staticClass:"order"},[t._v("\n        订单："+t._s((t.showDialogData.state||{}).value)+" "+t._s(t.showDialogData.ifFba?t.showDialogData.fbaCode:"私人地址")+"\n      ")]):t._e(),"so"===t.showDialogType?a("span",{staticClass:"order"},[t._v("\n        "+t._s("0"===t.showDialogData.transport?"提单号：":"SO：")+" "+t._s(t.showDialogData.so)+"\n      ")]):t._e(),"transit"===t.showDialogType?a("span",{staticClass:"order"},[t._v("\n        在途订单\n      ")]):t._e(),a("div",{staticClass:"reset-btn",on:{click:t.resetData}},[a("i",{staticClass:"reset-icon el-icon-refresh"}),a("span",[t._v("刷新")])])]),"transit"!==t.showDialogType?a("div",{staticClass:"header-right"},[a("div",{staticClass:"right-item"},[a("div",{staticClass:"label"},[t._v("\n          总票数\n        ")]),a("div",{staticClass:"value"},[t._v("\n          "+t._s(t.showDialogData.bills||0)+"\n        ")])]),a("div",{staticClass:"right-item"},[a("div",{staticClass:"label"},[t._v("\n          总件数\n        ")]),a("div",{staticClass:"value"},[t._v("\n          "+t._s(t.showDialogData.packages||0)+"\n        ")])]),a("div",{staticClass:"right-item"},[a("div",{staticClass:"label"},[t._v("\n          总重量\n        ")]),a("div",{staticClass:"value"},[t._v("\n          "+t._s(t.showDialogData.weights||0)+" kg\n        ")])]),a("div",{staticClass:"right-item"},[a("div",{staticClass:"label"},[t._v("\n          总体积\n        ")]),a("div",{staticClass:"value"},[t._v("\n          "+t._s(t.showDialogData.volumes||0)+" m³\n        ")])])]):t._e()]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"dialog-table",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},["transit"!==t.showDialogType?a("div",{staticStyle:{display:"flex","margin-bottom":"20px"}},[a("div",{staticClass:"tabs-wrap"},[a("div",{staticClass:"tabs-item",class:{active:0===t.tableType},on:{click:function(e){return t.tableTypeChange(0)}}},[t._v("\n          订单明细\n        ")]),a("div",{staticClass:"tabs-item",class:{active:1===t.tableType},on:{click:function(e){return t.tableTypeChange(1)}}},[t._v("\n          按仓汇总\n        ")])])]):t._e(),a("el-table",{directives:[{name:"show",rawName:"v-show",value:0===t.tableType,expression:"tableType === 0"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"light"}},[a("el-table-column",{attrs:{label:"订单信息","min-width":"230",prop:"order"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"order-info"},[a("div",{staticClass:"seriver-info"},[a("div",{staticClass:"type"},[t._v("\n              "+t._s((t.transportList.find(function(t){return t.value===e.row.transport})||{}).name)+"\n            ")]),a("div",{staticClass:"lscName",attrs:{title:e.row.lscName}},[t._v("\n              "+t._s(e.row.lscName)+"\n            ")])]),a("div",{staticClass:"code"},[a("span",{directives:[{name:"copy",rawName:"v-copy",value:e.row.code,expression:"scope.row.code"}],staticClass:"copy-icon"}),a("span",[t._v("\n              原单号："+t._s(e.row.code)+"\n            ")])])])}}])}),a("el-table-column",{attrs:{label:"客户名称","min-width":"120",prop:"custName"}}),a("el-table-column",{attrs:{label:"下单仓库","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.forecastName||"--")+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"报关方式",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"===e.row.customs?a("span",[t._v("普通报关")]):"1"===e.row.customs?a("span",[t._v("出口退税")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"派送方式",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s((t.deliveryWayList.find(function(t){return t.id===e.row.deliveryWay})||{}).name)+"\n        ")]}}])}),a("el-table-column",{attrs:{prop:"packages",label:"件数",width:"100"}}),a("el-table-column",{attrs:{prop:"weights",label:"总重量(kg)",width:"100"}}),a("el-table-column",{attrs:{prop:"volumes",label:"总体积(m³)",width:"100"}})],1),a("el-table",{directives:[{name:"show",rawName:"v-show",value:1===t.tableType,expression:"tableType === 1"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"light"}},[a("el-table-column",{attrs:{label:"货物所在仓","min-width":"100",prop:"name","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"总件数",prop:"totalQuantity","min-width":"100"}}),a("el-table-column",{attrs:{label:"总体积(m³)",prop:"totalVolume","min-width":"100"}}),a("el-table-column",{attrs:{label:"总重量(kg)",prop:"totalWeight","min-width":"100"}})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":t.pagination.page,"page-size":t.pagination.size,layout:"total, prev, pager, next",total:t.pagination.total},on:{"update:currentPage":function(e){return t.$set(t.pagination,"page",e)},"update:current-page":function(e){return t.$set(t.pagination,"page",e)},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},n=[],i=(a("c5f6"),a("d225")),r=a("b0b4"),o=a("308d"),l=a("6bb5"),c=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("b2d1"),h=a("9629"),m=a("9dba"),v=a("5a0c"),f=a.n(v),g=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(o["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.pickList=[{name:"自主送货",id:"0"},{name:"上门提货",id:"1"},{name:"快递发货",id:"2"},{name:"整柜直装",id:"3"}],t.deliveryWayList=[{name:"快递",id:"0"},{name:"卡派",id:"1"},{name:"自提",id:"2"},{name:"整柜直送",id:"3"}],t.transportList=[{value:"0",name:"空运"},{value:"1",name:"海运"},{value:"2",name:"铁路"},{value:"3",name:"快递"},{value:"4",name:"卡航"}],t.visible=!1,t.loading=!1,t.pagination={page:1,size:10,total:0},t.showDialogData={},t.showDialogType="",t.tableData=[],t.orderTime=[],t.tableType=0,t}return Object(c["a"])(e,t),Object(r["a"])(e,[{key:"tableTypeChange",value:function(t){this.tableType=t,this.tableData=[],this.loadData()}},{key:"show",value:function(t,e){this.visible=!0,this.showDialogData=t,this.showDialogType=e,"transit"===e?(this.orderTime=[f()().startOf("month").format("YYYY-MM-DD"),f()().endOf("month").format("YYYY-MM-DD")],this.tableType=0):this.tableType=1,this.loadData()}},{key:"resetData",value:function(){this.pagination.page=1,this.tableData=[],this.pagination.total=0,this.loadData()}},{key:"loadData",value:function(){var t=this,e={model:"",page:this.pagination.page,size:this.pagination.size};if(0===this.tableType){var a=null;switch(this.showDialogType){case"transit":e.model={countryId:this.countryId},a=h["i"];break;case"fba":e.model=this.showDialogData.codes,a=p["b"];break;case"so":e.model={so:this.showDialogData.so,ifLocked:this.locked},a=p["c"];break;default:a=null}if(!a)return;this.loading=!0,a&&a(e).then(function(e){t.loading=!1;var a=e.data||{};t.tableData=a.result||[],t.pagination.total=a.total||0}).catch(function(e){return t.loading=!1,t.tableData=[],t.pagination.total=0,e})}else"fba"===this.showDialogType?e.model={orders:this.showDialogData.codes}:e.model={so:this.showDialogData.so,ifLocked:this.locked},this.loading=!0,Object(p["d"])(e).then(function(e){t.loading=!1;var a=e.data||{};t.tableData=a.result||[],t.pagination.total=a.total||0}).catch(function(e){return t.loading=!1,t.tableData=[],t.pagination.total=0,e})}},{key:"handleSizeChange",value:function(t){this.pagination.size=Number(t),this.loadData()}},{key:"handleCurrentChange",value:function(t){this.pagination.page=Number(t),this.loadData()}},{key:"close",value:function(){this.visible=!1,this.tableData=[],this.pagination={page:1,size:10,total:0},this.showDialogData={},this.showDialogType="",this.tableType=0,this.orderTime=[]}},{key:"custType",get:function(){var t=m["a"].info||{},e=t.custType;return e}}]),e}(d["e"]);g=u["a"]([Object(d["a"])({name:"LockedDetail",props:{locked:{type:Boolean,default:!1},countryId:{type:String,default:""}},components:{}})],g);var b=g,w=b,y=(a("9937"),a("2877")),C=Object(y["a"])(w,s,n,!1,null,"6df756ba",null);e["a"]=C.exports},2494:function(t,e,a){},2825:function(t,e,a){"use strict";var s=a("1ec2"),n=a.n(s);n.a},"2d47":function(t,e,a){"use strict";var s=a("2fc5"),n=a.n(s);n.a},"2fc5":function(t,e,a){},"4bb2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABBCAYAAACO98lFAAAAAXNSR0IArs4c6QAABDtJREFUeF7tnN9rHFUcxc+5M5umirQUmiJaKU2qVpEGItiuCQ0EhAqCrz4IPkpLi/+AT/4JBVFfffBVECyIwa1dkloaUASl2hbxB5IUxIrGbHbmHrkz7nY33c1u98dkN3sHwu7OzuTe87nne++d78xdYss29en5PTiAgzB2HyIzFhqarccM2+fIyiK0m7DmLv7AnZsvXyzVamDthyeX3nzMMjgUMqjbP2yit6tvpFhG8eoP+fd+qxxXEcvJpbOTORPu202Ct9NSttHdW/l3bwFQAmHq6vnHQ/DQqACo6Iyg1ZsnL/7KI1+8MR6OP/zMbg6BZo3rQiPa+Oc7Tl47ezhnw4lRc0FFb9lEa5wqnns2DIPxUYUQRfEGj117azqwNhhVCLExMZ++emFmVAFUh0gPAfBOgIeQRIR3goeQdo3eCTsJQdAJiguA+3ObFkUtEvwm6yE7UydsEd7sgm01ayB9h9Cm8GaNnwmQvkDoUnjmQHoGoU/CMwHSFYSMhfcNSFcQrMV+Q8xCyMO9gg9l27NrHUIRxJIVisbgz07K7woCxNcgFGD0u7UKjOG04KBwjsCRTirU6hwBP4G6QqBorb42hjEsHwUxD+qjVuc3+r5bCNfTKRduKG2RAqHv3S5r7WHSnAIwT/AEgD2dVBBASZCbOxQku2yM+SWZVYDHIcwzdeJTaT30fCdl9AZCfcluWCvKTX6EFddSFtiLWC8wMLOwyJPYNp0nYQ0GS4ptEQG/MsC/YDwma6aZTK44C+D+ecYAQahBonURBYjLogqJmHutmAcwS+C5dB++BdL4rroJ2EvR2fwUhfmWfc5gQqizSARgRdBlwRYMzVoaNtjvXiudmpWdIIwLodMAXNYrbNviQwChXgtxA1aXrcGHCQSL12F4uhrfbSuvOXDoIFTqbvBK8tbik050153jIQzW6PBgDeqd4DoDHw4eQhI33gkeQtqBeid4CN4J1cmEDwcfDj4cfDjUXl34PmFX9An4smXKq9U1Ze+cUAL1YqviGn3fVaLVAjOUXk1TYR3ec+gagtaTlB35sQFWModQLTDJBAdzAM8QcGn29tPrnUEoCVgGdIkmvgIFm52Ir5zTlRMaFezS60mGGFhoC0j7EP4XDvccQzVz3Y34vkGorZTLJJNyqfKXIMyQvP+h0W0gSIpBZ3F9xgCfw/LvXoje+j967oRmlawBcobgvQdIG0AQ5IRfkljo9P7ig8DKDEKdQ2QmAC1QWGCAt913ivGOiEWAi4Y2uSeR1bYjELIS1245HsJOPr3WbitlcZx3gndC6jPvBAfBr3wxsV8D5dZAjfpqOLc20q+LdOsiXe949PqFJ8YiHMxiTB6kMjbLG3duz33wc7pWWuDR4rljY7ngkUGqZD/rsonSX7dPvv9jMkTWFpSsms/lJsJ4+H8uoBnAKJA15fJao1Xz1XNG8fcT/gMx9kyyIFFKyAAAAABJRU5ErkJggg=="},"4e84":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-scrollbar",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"monitor-detail",staticStyle:{"background-color":"#1d2331"}},[a("div",{staticClass:"container",staticStyle:{"max-width":"1440px",margin:"0 auto"}},[a("div",{staticClass:"contain-header"},[a("div",{staticClass:"header-box"},[a("div",{staticClass:"header-left"},[a("div",{staticClass:"line border"}),a("div",{staticClass:"line"}),a("div",{staticClass:"time"},[a("span",[t._v(t._s(t.today.day))]),a("span",[t._v(t._s(" "+t.today.week+" "))]),a("span",[t._v(t._s(t.today.time))])])]),a("div",{staticClass:"header-subject"},[a("div",{staticClass:"subject-cn"},[t._v("\n              聚货通物流快递监测系统\n            ")]),a("div",{staticClass:"subject-en"},[t._v("\n              JHT LOGISTICS EXPRESS MONITORING SYSTEM\n            ")])]),a("div",{staticClass:"header-right"},[a("div",{staticClass:"line border"}),a("div",{staticClass:"line"}),a("div",{staticClass:"full-screen",on:{click:t.handleFullScreen}},[a("span",{class:{"full-screen-icon":!0,reset:t.fullscreen}}),a("span",[t._v(t._s(t.fullscreen?"还原":"全屏"))])]),a("el-checkbox",{on:{change:t.changeLock},model:{value:t.includeLock,callback:function(e){t.includeLock=e},expression:"includeLock"}},[t._v("\n              锁舱在途\n            ")]),a("el-button",{staticClass:"transit-btn",attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.showOrderList({},"transit")}}},[t._v("\n              查看在途\n            ")])],1)])]),a("div",{staticClass:"contain-main details-scrollbar"},[a("div",{staticClass:"detail-box"},[a("div",{staticClass:"detail-subject"},[a("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","align-items":"center"}},[a("div",{staticStyle:{width:"200px"}},[a("span",{staticClass:"subject-text"},[t._v("整柜直送详情")])]),a("div",{staticStyle:{flex:"1","text-align":"right"}},[a("el-button",{staticClass:"unfold-btn",class:t.unfold?"active":"",attrs:{size:"medium",icon:t.unfold?"el-icon-top":"el-icon-bottom"},on:{click:function(e){t.unfold=!t.unfold}}},[t._v("\n                  "+t._s(t.unfold?"收起筛选":"展开筛选")+"\n                ")])],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.unfold,expression:"unfold"}],staticClass:"search-option"},[a("el-form",{ref:"searchForm",staticClass:"search-form",attrs:{model:t.searchForm,"label-width":"100px",size:"small"}},[a("el-form-item",{attrs:{label:"目的国："}},t._l(t.countryList,function(e){return a("el-button",{key:e.id,staticClass:"item-contain-btn",class:t.searchForm.countryId===e.id?"active":"",attrs:{size:"medium",round:""},on:{click:function(a){return t.handleCountry(e.id)}}},[t._v("\n                  "+t._s(e.name)+"\n                ")])}),1),a("el-form-item",{attrs:{label:"货柜属性："}},t._l(t.cabinetOption,function(e){return a("el-button",{key:e.id,staticClass:"item-contain-btn",class:t.searchForm.loadType===e.id?"active":"",attrs:{size:"medium",round:""},on:{click:function(a){return t.handleType(e.id)}}},[t._v("\n                  "+t._s(e.name)+"\n                ")])}),1),a("el-form-item",{attrs:{label:"装货仓库："}},[a("el-checkbox",{attrs:{indeterminate:t.searchForm.whInd},on:{change:t.handleWareAllChange},model:{value:t.searchForm.whAll,callback:function(e){t.$set(t.searchForm,"whAll",e)},expression:"searchForm.whAll"}},[t._v("\n                  全选\n                ")]),a("el-checkbox-group",{on:{change:t.handleWarehouseChecked},model:{value:t.searchForm.warehouseIds,callback:function(e){t.$set(t.searchForm,"warehouseIds",e)},expression:"searchForm.warehouseIds"}},t._l(t.warehouseList,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])}),1)],1),"1"===t.searchForm.loadType?a("el-form-item",{attrs:{label:"目的仓代码："}},[a("el-checkbox",{attrs:{indeterminate:t.searchForm.fbaInd},on:{change:t.handleFbaAllChange},model:{value:t.searchForm.fbaAll,callback:function(e){t.$set(t.searchForm,"fbaAll",e)},expression:"searchForm.fbaAll"}},[t._v("\n                  全选\n                ")]),a("el-checkbox-group",{on:{change:t.handleFbaChecked},model:{value:t.searchForm.fbaCodes,callback:function(e){t.$set(t.searchForm,"fbaCodes",e)},expression:"searchForm.fbaCodes"}},t._l(t.fbaCodeList,function(e){return a("el-checkbox",{key:e,attrs:{label:e}},[t._v("\n                    "+t._s(e)+"\n                  ")])}),1)],1):t._e(),"0"===t.searchForm.loadType?a("el-form-item",{attrs:{label:"快递公司："}},[a("el-checkbox",{attrs:{indeterminate:t.searchForm.exInd},on:{change:t.handleExpressAllChange},model:{value:t.searchForm.exAll,callback:function(e){t.$set(t.searchForm,"exAll",e)},expression:"searchForm.exAll"}},[t._v("\n                  全选\n                ")]),a("el-checkbox-group",{on:{change:t.handleExpressChecked},model:{value:t.searchForm.expressIds,callback:function(e){t.$set(t.searchForm,"expressIds",e)},expression:"searchForm.expressIds"}},t._l(t.expressList,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])}),1)],1):t._e(),"2"===t.searchForm.loadType||"3"===t.searchForm.loadType?a("el-form-item",{attrs:{label:"派送方式："}},[a("el-checkbox",{attrs:{indeterminate:t.searchForm.deInd},on:{change:t.handleDeliveryAllChange},model:{value:t.searchForm.deAll,callback:function(e){t.$set(t.searchForm,"deAll",e)},expression:"searchForm.deAll"}},[t._v("\n                  全选\n                ")]),a("el-checkbox-group",{on:{change:t.handleDeliveryChecked},model:{value:t.searchForm.deliveryWays,callback:function(e){t.$set(t.searchForm,"deliveryWays",e)},expression:"searchForm.deliveryWays"}},t._l(t.deliveryOption,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])}),1)],1):t._e(),a("el-form-item",{attrs:{label:"服务组："}},[a("el-checkbox",{attrs:{indeterminate:t.searchForm.groInd},on:{change:t.handleGroupAllChange},model:{value:t.searchForm.groAll,callback:function(e){t.$set(t.searchForm,"groAll",e)},expression:"searchForm.groAll"}},[t._v("\n                  全选\n                ")]),a("el-checkbox-group",{on:{change:t.handleGroupChecked},model:{value:t.searchForm.groupIds,callback:function(e){t.$set(t.searchForm,"groupIds",e)},expression:"searchForm.groupIds"}},t._l(t.groupList,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])}),1)],1)],1)],1),a("div",{staticClass:"total-warehouse"},[a("div",{staticClass:"total-item"},[a("div",{staticClass:"item-word"},[t._v("\n                总票数\n              ")]),a("div",{staticClass:"item-number"},[t._v("\n                "+t._s(t.summaryObj.bills||0)+"\n              ")]),a("div",{staticClass:"item-unit"},[t._v("\n                 票\n              ")])]),a("div",{staticClass:"total-space"}),a("div",{staticClass:"total-item"},[a("div",{staticClass:"item-word"},[t._v("\n                总件数\n              ")]),a("div",{staticClass:"item-number"},[t._v("\n                "+t._s(t.summaryObj.packages||0)+"\n              ")]),a("div",{staticClass:"item-unit"},[t._v("\n                 件\n              ")])]),a("div",{staticClass:"total-space"}),a("div",{staticClass:"total-item"},[a("div",{staticClass:"item-word"},[t._v("\n                总重量\n              ")]),a("div",{staticClass:"item-number"},[t._v("\n                "+t._s(t.filterCount(t.summaryObj.weights||0))+"\n              ")]),a("div",{staticClass:"item-unit"},[t._v("\n                 kg\n              ")])]),a("div",{staticClass:"total-space"}),a("div",{staticClass:"total-item"},[a("div",{staticClass:"item-word"},[t._v("\n                总体积\n              ")]),a("div",{staticClass:"item-number"},[t._v("\n                "+t._s(t.filterCount(t.summaryObj.volumes||0))+"\n              ")]),a("div",{staticClass:"item-unit"},[t._v("\n                 m³\n              ")])])]),a("div",{staticClass:"select-detail"},[a("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","align-items":"center"}},[a("div",{staticStyle:{flex:"1"}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("span",{staticStyle:{"padding-left":"8px"}},[t._v("\n                      已勾选("),a("span",{staticClass:"select-total"},[t._v(t._s(t.selectObj.total||0))]),t._v(")\n                    ")])]),a("el-col",{attrs:{span:3}},[a("span",[t._v("总票数")]),a("span",{staticClass:"select-number"},[t._v(t._s(t.selectObj.bills||0))])]),a("el-col",{attrs:{span:3}},[a("span",[t._v("总件数")]),a("span",{staticClass:"select-number"},[t._v(t._s(t.selectObj.packages||0))])]),a("el-col",{attrs:{span:4}},[a("span",[t._v("总重量(kg)")]),a("span",{staticClass:"select-number"},[t._v(t._s(t.filterCount(t.selectObj.weights||0)))])]),a("el-col",{attrs:{span:4}},[a("span",[t._v("总体积(m³)")]),a("span",{staticClass:"select-number"},[t._v(t._s(t.filterCount(t.selectObj.volumes||0)))])])],1)],1),a("div",{staticStyle:{width:"200px","text-align":"right"}},[t._e()],1)]),a("div",{staticClass:"select-table"},[a("el-table",{ref:"collectTable",staticStyle:{width:"100%"},attrs:{data:t.collectList,"header-cell-style":{"background-color":"rgba(216, 216, 216, 0.11)","font-size":"14px",color:"#fff","font-weight":"600"},"cell-style":{"font-size":"13px",color:"#fff"}},on:{select:t.handleSelected1,"select-all":t.handleSelectAll1}},[a("el-table-column",{attrs:{type:"selection",width:"35"}}),a("el-table-column",{attrs:{label:"货物所在仓",prop:"warehouseName","show-overflow-tooltip":""}}),"1"===t.searchForm.loadType?a("el-table-column",{attrs:{prop:"fbaCode",label:"目的仓代码",width:"120"}}):t._e(),"0"===t.searchForm.loadType?a("el-table-column",{attrs:{prop:"expressName",label:"快递公司",width:"120"}}):t._e(),"2"===t.searchForm.loadType?a("el-table-column",{attrs:{prop:"deliveryWay",formatter:t.parseDeliveryWay,label:"派送方式",width:"120"}}):t._e(),a("el-table-column",{attrs:{prop:"groupName",label:"服务组"}}),a("el-table-column",{attrs:{prop:"productName",label:"产品"}}),a("el-table-column",{attrs:{prop:"packages",label:"总件数"}}),a("el-table-column",{attrs:{prop:"weights",label:"总重量(kg)"}}),a("el-table-column",{attrs:{prop:"volumes",label:"总体积(m³)"}})],1)],1)]),a("div",{staticClass:"select-detail order-detail"},[a("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","align-items":"center"}},[a("div",{staticStyle:{width:"120px"}},[a("span",{staticClass:"order-text"},[t._v("订单明细")])]),a("div",{staticStyle:{flex:"1"}},[a("el-row",[a("el-col",{staticStyle:{cursor:"pointer"},attrs:{span:3}},[a("div",{on:{click:t.handleViewOrder}},[a("span",{staticStyle:{"padding-left":"8px"}},[t._v("\n                        已勾选("),a("span",{staticClass:"select-total"},[t._v(t._s(t.orderObj.total))]),t._v(")\n                      ")])])]),a("el-col",{attrs:{span:3}},[a("span",[t._v("总票数")]),a("span",{staticClass:"select-number"},[t._v(t._s(t.orderObj.bills||0))])]),a("el-col",{attrs:{span:3}},[a("span",[t._v("总件数")]),a("span",{staticClass:"select-number"},[t._v(t._s(t.orderObj.packages||0))])]),a("el-col",{attrs:{span:4}},[a("span",[t._v("总重量(kg)")]),a("span",{staticClass:"select-number"},[t._v(t._s(t.filterCount(t.orderObj.weights||0)))])]),a("el-col",{attrs:{span:4}},[a("span",[t._v("总体积(m³)")]),a("span",{staticClass:"select-number"},[t._v(t._s(t.filterCount(t.orderObj.volumes||0)))])])],1)],1),a("div",{staticStyle:{width:"200px","text-align":"right"}},[a("el-button",{staticClass:"select-btn",attrs:{type:"primary",size:"medium"},on:{click:t.handleOrderAdd}},[t._v("\n                  添加到货柜\n                ")])],1)]),a("div",{staticClass:"select-table"},[a("el-table",{ref:"orderTable",staticStyle:{width:"100%"},attrs:{data:t.orderOption,"header-cell-style":{"background-color":"rgba(216, 216, 216, 0.11)","font-size":"14px",color:"#fff","font-weight":"600"},"cell-style":{"font-size":"13px",color:"#fff"}},on:{select:t.handleSelected2,"select-all":t.handleSelectAll2}},[a("el-table-column",{attrs:{type:"selection",width:"35"}}),a("el-table-column",{attrs:{label:"订单信息","min-width":"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"order-info"},[a("div",{staticClass:"seriver-info",attrs:{title:e.row.lscName}},["0"===e.row.transport?a("div",{staticClass:"type"},[t._v("\n                          空运\n                        ")]):t._e(),"1"===e.row.transport?a("div",{staticClass:"type"},[t._v("\n                          海运\n                        ")]):t._e(),"2"===e.row.transport?a("div",{staticClass:"type"},[t._v("\n                          铁路\n                        ")]):t._e(),"3"===e.row.transport?a("div",{staticClass:"type"},[t._v("\n                          快递\n                        ")]):t._e(),"4"===e.row.transport?a("div",{staticClass:"type"},[t._v("\n                          卡航\n                        ")]):t._e(),a("div",{staticClass:"lscName"},[t._v("\n                          "+t._s(e.row.lscName)+"\n                        ")])]),a("div",{staticClass:"code",attrs:{title:e.row.code}},[a("span",{directives:[{name:"copy",rawName:"v-copy",value:e.row.code,expression:"scope.row.code"}],staticClass:"copy-icon"}),a("span",[t._v("\n                          原单号："+t._s(e.row.code)+"\n                        ")])]),a("div",["0"===e.row.deliveryWay?a("span",{staticClass:"text-tip"},[t._v("\n                          快递\n                        ")]):t._e(),"1"===e.row.deliveryWay?a("span",{staticClass:"text-tip"},[t._v("\n                          卡派\n                        ")]):t._e(),"2"===e.row.deliveryWay?a("span",{staticClass:"text-tip"},[t._v("\n                          自提\n                        ")]):t._e(),a("span",{staticClass:"split-tip"},[t._v("|")]),"0"===e.row.customs?a("span",{staticClass:"text-tip"},[t._v("\n                          普通报关\n                        ")]):t._e(),"1"===e.row.customs?a("span",{staticClass:"text-tip"},[t._v("\n                          出口退税\n                        ")]):t._e()])])]}}])}),a("el-table-column",{attrs:{prop:"custName",label:"客户名称"}}),a("el-table-column",{attrs:{prop:"so",label:"SO"}}),a("el-table-column",{attrs:{prop:"",label:"货物所在仓",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.warehouseName))]),a("div",{staticClass:"text-tip"},[t._v("\n                      入仓时间："+t._s(e.row.warehouseTime)+"\n                    ")])]}}])}),a("el-table-column",{attrs:{prop:"",label:"装载情况",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"===e.row.source?a("div",[t._v("\n                      未装载\n                    ")]):t._e(),"1"===e.row.source||"2"===e.row.source?a("div",[a("div",[t._v("已装载")]),a("div",{staticClass:"text-tip"},[t._v("\n                        "+t._s("1"===e.row.source?"虚拟装载":"2"===e.row.source?"人工装载":"")+"\n                      ")])]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"packages",label:"总件数"}}),a("el-table-column",{attrs:{prop:"weights",label:"总重量(kg)"}}),a("el-table-column",{attrs:{prop:"volumes",label:"总体积(m³)"}})],1),a("el-pagination",{staticClass:"order-page",attrs:{"current-page":t.page,"page-sizes":[10,20,30,50],"page-size":t.size,layout:"total, prev, pager, next, sizes, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])])]),a("el-backtop",{staticStyle:{color:"#283042"},attrs:{target:".monitor-detail"}})],1),a("el-dialog",{staticClass:"dialog-detail",attrs:{visible:t.dialogVisible,width:"1200px","show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},["add"===t.isViewAdd?a("CabinetAdd",{ref:"cabinet",on:{updateData:t.handleUpdataData,close:t.handleSelectedClosed}}):t._e(),"view"===t.isViewAdd?a("SelectView",{ref:"selected",on:{updateSelected:t.handleUpdateSelected,closed:t.handleSelectedClosed}}):t._e()],1),a("LockedDetail",{ref:"lockedDetail",attrs:{locked:t.includeLock,"country-id":t.searchForm.countryId}})],1)},n=[],i=(a("8e6e"),a("456d"),a("bd86")),r=a("a8db"),o=a("75fc"),l=(a("28a5"),a("96cf"),a("3b8d")),c=(a("7f7f"),a("7514"),a("ac6a"),a("d225")),u=a("b0b4"),d=a("308d"),p=a("6bb5"),h=a("4e2b"),m=a("9ab4"),v=a("60a3"),f=a("5a0c"),g=a.n(f),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cabinet-detail"},[a("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","align-items":"center","padding-bottom":"23px"}},[t._m(0),a("div",{staticStyle:{flex:"1","text-align":"right"}},[a("el-select",{staticStyle:{width:"240px","margin-right":"12px"},attrs:{clearable:"",filterable:"",multiple:"","collapse-tags":"",size:"mini",placeholder:"服务组"},on:{change:t.onGroup},model:{value:t.form.groupIds,callback:function(e){t.$set(t.form,"groupIds",e)},expression:"form.groupIds"}},t._l(t.groupOption,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1),a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入搜索关键字",size:"mini"},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})])],1)]),t.resultData.length?a("div",[a("div",{staticClass:"loading-contain cabinet-scrollbar"},t._l(t.resultData,function(e){return a("div",{key:e.id,staticClass:"loading-item"},[a("div",{staticClass:"item-title"},[a("div",{staticClass:"item-radio"},[a("el-radio",{attrs:{label:e.id},model:{value:t.selectVal,callback:function(e){t.selectVal=e},expression:"selectVal"}})],1),a("div",{staticClass:"item-text"},[a("span",{staticClass:"cabinet"},[t._v("\n              "+t._s(e.containerName)+"\n            ")]),a("span",{staticClass:"flight"},[t._v("\n              "+t._s(e.portsFromName)+" — "+t._s(e.portsToName)+"\n            ")])]),a("div",{staticClass:"item-bill-so",on:{click:function(a){return a.stopPropagation(),t.handleOpen(e)}}},[a("span",{staticClass:"item-color"},[t._v(t._s("0"===e.transport?"提单号：":"SO："))]),a("span",[t._v(t._s(e.so))]),a("span",{staticClass:"item-icon"},[a("i",{staticClass:"el-icon-arrow-up",style:{transform:t.openList.includes(e.id)?"rotate(0deg)":"rotate(180deg)",transition:"all .3s",cursor:"pointer"}})])])]),a("el-row",{staticClass:"item-warehouse"},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"item-value"},[a("span",{staticClass:"item-color"},[t._v("装货仓库：")]),a("span",[t._v(t._s(e.warehouseName))])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"item-value"},[a("span",{staticClass:"item-color"},[t._v("货柜属性：")]),"1"===e.loadType?a("span",[t._v("整柜直送-"+t._s(e.fbaCode))]):"0"===e.loadType?a("span",[t._v("快递柜")]):"2"===e.loadType?a("span",[t._v("混装柜")]):a("span",[t._v("未装载")])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"item-value"},[a("span",{staticClass:"item-color"},[t._v("服务组：")]),a("span",[t._v(t._s(e.groupName))])])])],1),a("div",{staticClass:"item-total"},[a("div",{staticClass:"total-word"},[a("span",{staticClass:"total-text"},[t._v("总票数")]),a("span",{staticClass:"total-num"},[t._v(t._s(e.bills||0))])]),a("div",{staticClass:"total-word"},[a("span",{staticClass:"total-text"},[t._v("总件数")]),a("span",{staticClass:"total-num"},[t._v(t._s(e.packages||0))])]),a("div",{staticClass:"total-word"},[a("span",{staticClass:"total-text"},[t._v("总重量(kg)")]),a("span",{staticClass:"total-num"},[t._v(t._s(e.weights||0))])]),a("div",{staticClass:"total-word"},[a("span",{staticClass:"total-text"},[t._v("总体积(m³)")]),a("span",{staticClass:"total-num"},[t._v(t._s(e.volumes||0))])])]),t.openList.includes(e.id)?a("div",{staticClass:"item-info"},["0"===e.transport?a("el-row",[a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"info-word"},[a("span",{staticClass:"item-color"},[t._v("服务机构：")]),a("span",[t._v(t._s(e.orgName))])])]),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"info-word"},[a("span",{staticClass:"item-color"},[t._v("截关时间：")]),a("span",[t._v(t._s(e.deadlineCustoms))])])]),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"info-word"},[a("span",{staticClass:"item-color"},[t._v("起运港：")]),a("span",[t._v(t._s(e.portsFromName))])])]),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"info-word"},[a("span",{staticClass:"item-color"},[t._v("目的港：")]),a("span",[t._v(t._s(e.portsToName))])])]),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"info-word"},[a("span",{staticClass:"item-color"},[t._v("起飞时间：")]),a("span",[t._v(t._s(e.departureTime))])])])],1):a("el-row",[a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"info-word"},[a("span",{staticClass:"item-color"},[t._v("服务机构：")]),a("span",[t._v(t._s(e.orgName))])])]),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"info-word"},[a("span",{staticClass:"item-color"},[t._v("截关时间：")]),a("span",[t._v(t._s(e.deadlineCustoms))])])]),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"info-word"},[a("span",{staticClass:"item-color"},[t._v("ETD：")]),a("span",[t._v(t._s(e.etd))])])]),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"info-word"},[a("span",{staticClass:"item-color"},[t._v("船次：")]),a("span",[t._v(t._s(e.shipNo))])])]),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"info-word"},[a("span",{staticClass:"item-color"},[t._v("截重时间：")]),a("span",[t._v(t._s(e.deadlineWeight))])])]),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"info-word"},[a("span",{staticClass:"item-color"},[t._v("ETA：")]),a("span",[t._v(t._s(e.eta))])])]),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:24}},[a("div",{staticClass:"info-word"},[a("span",{staticClass:"item-color"},[t._v("船名：")]),a("span",[t._v(t._s(e.shipName))])])])],1)],1):t._e()],1)}),0)]):a("div",{staticClass:"loading-empty"},[t._v("\n    暂无数据\n  ")]),a("div",{staticClass:"footer-btn"},[a("el-button",{staticClass:"cancel-btn",attrs:{size:"mini"},on:{click:t.cancel}},[t._v("\n      取消\n    ")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.save}},[t._v("\n      提交\n    ")])],1)])},w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"200px"}},[a("span",{staticClass:"loading-subject"},[t._v("请选择货柜")])])}],y=(a("6762"),a("2fdb"),a("9629"));function C(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function k(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?C(a,!0).forEach(function(e){Object(i["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var _=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(d["a"])(this,Object(p["a"])(e).apply(this,arguments)),t.selectLoading=!1,t.cabinetList=[],t.openList=[],t.groupOption=[],t.searchVal="",t.selectVal="",t.form={countryId:void 0,loadType:void 0,orderIds:[],groupIds:[]},t}return Object(h["a"])(e,t),Object(u["a"])(e,[{key:"handleOpen",value:function(t){this.openList.includes(t.id)?this.openList=this.openList.filter(function(e){return e!==t.id}):this.openList.push(t.id)}},{key:"onGroup",value:function(){this.selectVal="",this.getCabinetList()}},{key:"setData",value:function(t,e){var a=t.groupList,s=Object(r["a"])(t,["groupList"]);this.form=s,this.groupOption=a||[],this.getCabinetList()}},{key:"getCabinetList",value:function(){var t=this,e=null;e=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});var a={countryId:this.form.countryId,groupIds:this.form.groupIds};Object(y["a"])(a).then(function(a){e&&e.close();var s=a.data||[];t.cabinetList=s,e&&e.close()}).catch(function(t){return e&&e.close(),t})}},{key:"cancel",value:function(){this.cabinetList=[],this.openList=[],this.searchVal="",this.selectVal="",this.form={countryId:void 0,loadType:void 0,orderIds:[],groupIds:[]},this.$emit("close")}},{key:"save",value:function(){var t=this;if(this.selectVal){var e=k({},this.form,{id:this.selectVal,so:void 0,groupIds:void 0}),a=this.cabinetList.find(function(e){return e.id===t.selectVal})||{};e.so=a.so;var s=null;s=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),Object(y["k"])(e).then(function(e){t.$message.success("添加成功"),t.cancel(),t.$emit("updateData"),s&&s.close()}).catch(function(t){return s&&s.close(),t})}else this.$message.error("请选择货柜")}},{key:"resultData",get:function(){var t=this.searchVal,e=this.cabinetList;return t?e.filter(function(e){var a=e||{},s=a.portsFromName,n=a.portsToName,i=a.so,r={portsFromName:s,portsToName:n,so:i};return Object.keys(r).some(function(a){return String(e[a]).indexOf(t)>-1})}):e}}]),e}(v["e"]);_=m["a"]([Object(v["a"])({name:"MonitorDetails",components:{}})],_);var x=_,O=x,D=(a("86f4"),a("2877")),T=Object(D["a"])(O,b,w,!1,null,"46b6108e",null),F=T.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-detail"},[a("div",{staticClass:"select-order"},[a("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","align-items":"center","padding-bottom":"16px"}},[t._m(0),a("div",{staticStyle:{flex:"1"}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("span",{staticStyle:{"padding-left":"8px"}},[t._v("\n              已勾选("),a("span",{staticClass:"select-total"},[t._v(t._s(t.orderObj.total))]),t._v(")\n            ")])]),a("el-col",{attrs:{span:5}},[a("span",[t._v("总票数")]),a("span",{staticClass:"select-number"},[t._v(t._s(t.orderObj.bills||0))])]),a("el-col",{attrs:{span:5}},[a("span",[t._v("总件数")]),a("span",{staticClass:"select-number"},[t._v(t._s(t.orderObj.packages||0))])]),a("el-col",{attrs:{span:5}},[a("span",[t._v("总重量(kg)")]),a("span",{staticClass:"select-number"},[t._v(t._s(t.orderObj.weights||0))])]),a("el-col",{attrs:{span:5}},[a("span",[t._v("总体积(m³)")]),a("span",{staticClass:"select-number"},[t._v(t._s(t.orderObj.volumes||0))])])],1)],1),a("div",{staticClass:"select-icon",on:{click:t.handleClosed}},[a("i",{staticClass:"el-icon-close select-close"})])]),a("div",{staticClass:"select-table"},[a("el-table",{ref:"selectTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":{"background-color":"rgba(216, 216, 216, 0.11)","font-size":"14px",color:"#fff","font-weight":"600"},"cell-style":{"font-size":"13px",color:"#fff"}}},[a("el-table-column",{attrs:{label:"订单信息","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"order-info"},[a("div",{staticClass:"seriver-info",attrs:{title:e.row.lscName}},["0"===e.row.type?a("div",{staticClass:"type"},[t._v("\n                  空运\n                ")]):t._e(),"1"===e.row.type?a("div",{staticClass:"type"},[t._v("\n                  海运\n                ")]):t._e(),"2"===e.row.type?a("div",{staticClass:"type"},[t._v("\n                  铁路\n                ")]):t._e(),"3"===e.row.type?a("div",{staticClass:"type"},[t._v("\n                  快递\n                ")]):t._e(),"4"===e.row.type?a("div",{staticClass:"type"},[t._v("\n                  卡航\n                ")]):t._e(),a("div",{staticClass:"lscName"},[t._v("\n                  "+t._s(e.row.lscName)+"\n                ")])]),a("div",{staticClass:"code",attrs:{title:e.row.code}},[a("span",{directives:[{name:"copy",rawName:"v-copy",value:e.row.code,expression:"scope.row.code"}],staticClass:"copy-icon"}),a("span",[t._v("\n                  原单号："+t._s(e.row.code)+"\n                ")])]),a("div",["0"===e.row.deliveryWay?a("span",{staticClass:"text-tip"},[t._v("\n                  快递\n                ")]):t._e(),"1"===e.row.deliveryWay?a("span",{staticClass:"text-tip"},[t._v("\n                  卡派\n                ")]):t._e(),"2"===e.row.deliveryWay?a("span",{staticClass:"text-tip"},[t._v("\n                  自提\n                ")]):t._e(),a("span",{staticClass:"split-tip"},[t._v("|")]),"0"===e.row.customs?a("span",{staticClass:"text-tip"},[t._v("\n                  普通报关\n                ")]):t._e(),"1"===e.row.customs?a("span",{staticClass:"text-tip"},[t._v("\n                  出口退税\n                ")]):t._e()])])]}}])}),a("el-table-column",{attrs:{prop:"custName",label:"客户名称"}}),a("el-table-column",{attrs:{prop:"so",label:"SO"}}),a("el-table-column",{attrs:{prop:"",label:"货物所在仓"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.warehouseName))]),a("div",{staticClass:"text-tip"},[t._v("\n              "+t._s(e.row.warehouseTime)+"\n            ")])]}}])}),a("el-table-column",{attrs:{prop:"",label:"装载情况"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"===e.row.source?a("div",[t._v("\n              未装载\n            ")]):t._e(),"1"===e.row.source||"2"===e.row.source?a("div",[a("div",[t._v("已装载")]),a("div",{staticClass:"text-tip"},[t._v("\n                "+t._s("1"===e.row.source?"虚拟装载":"2"===e.row.source?"人工装载":"")+"\n              ")])]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"packages",label:"总件数"}}),a("el-table-column",{attrs:{prop:"weights",label:"总重量(kg)"}}),a("el-table-column",{attrs:{prop:"volumes",label:"总体积(m3)"}}),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"delete-btn",attrs:{type:"text"},on:{click:function(a){return t.deleteRow(e.row)}}},[t._v("\n              删除\n            ")])]}}])})],1)],1)])])},A=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"110px"}},[a("span",{staticClass:"order-text"},[t._v("已选择订单")])])}],L=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(d["a"])(this,Object(p["a"])(e).apply(this,arguments)),t.tableData=[],t}return Object(h["a"])(e,t),Object(u["a"])(e,[{key:"setData",value:function(t){this.tableData=t}},{key:"deleteRow",value:function(t){this.tableData=this.tableData.filter(function(e){return e.id!==t.id}),this.$emit("updateSelected",t)}},{key:"handleClosed",value:function(){this.tableData=[],this.$emit("closed")}},{key:"orderObj",get:function(){var t=0,e=0,a=0;this.tableData.map(function(s){t+=s.packages,e+=s.weights,a+=s.volumes});var s={total:this.tableData.length,bills:this.tableData.length,packages:parseFloat(t.toFixed(2)),weights:parseFloat(e.toFixed(2)),volumes:parseFloat(a.toFixed(2))};return s}}]),e}(v["e"]);L=m["a"]([Object(v["a"])({name:"MonitorDetails",components:{}})],L);var I=L,j=I,E=(a("7196"),Object(D["a"])(j,S,A,!1,null,"af4a3b04",null)),N=E.exports,R=a("2204"),P=a("93bf"),Q=a.n(P);function z(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function Y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?z(a,!0).forEach(function(e){Object(i["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):z(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var V=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(d["a"])(this,Object(p["a"])(e).apply(this,arguments)),t.includeLock=!1,t.unfold=!0,t.loading=!1,t.fullscreen=!1,t.dialogVisible=!1,t.isViewAdd="",t.updateTime="",t.timer="",t.today={day:"",week:"",time:""},t.summaryObj={bills:0,packages:0,weights:0,volumes:0},t.searchForm={countryId:void 0,loadType:void 0,whAll:!1,whInd:!1,groAll:!1,groInd:!1,fbaAll:!1,fbaInd:!1,exAll:!1,exInd:!1,deAll:!1,deInd:!1,expressIds:[],deliveryWays:[],fbaCodes:[],warehouseIds:[],groupIds:[]},t.warehouseList=[],t.fbaCodeList=[],t.countryList=[],t.expressList=[],t.groupList=[],t.cabinetOption=[{name:"整柜直送",id:"1"},{name:"快递柜",id:"0"},{name:"混装柜",id:"2"}],t.deliveryOption=[{name:"卡派",id:"1"},{name:"快递派",id:"0"},{name:"自提",id:"2"}],t.orderList=[],t.collectList=[],t.collectSelected=[],t.orderSelected=[],t.orderIds=[],t.page=1,t.size=10,t.total=0,t}return Object(h["a"])(e,t),Object(u["a"])(e,[{key:"filterCount",value:function(t){return parseFloat(t.toFixed(2))}},{key:"sumFromArr",value:function(t,e){var a=0;return t.forEach(function(t){a+=t[e]}),a}},{key:"parseDeliveryWay",value:function(t){var e=this.deliveryOption,a=e.find(function(e){return e.id===t.deliveryWay})||{};return a.name||""}},{key:"showOrderList",value:function(t,e){var a=this.$refs.lockedDetail;"so"===e&&t.so||"fba"===e&&t.codes&&t.codes.length||"transit"===e?a.show(t,e):this.$message.warning("暂无订单")}},{key:"getToday",value:function(){var t=this;this.timer=setTimeout(function(){var e=g()().format("YYYY年MM月DD日"),a=g()().format("HH:mm:ss"),s="";switch(g()().day()){case 0:s="星期天";break;case 1:s="星期一";break;case 2:s="星期二";break;case 3:s="星期三";break;case 4:s="星期四";break;case 5:s="星期五";break;case 6:s="星期六";break;default:s=""}t.today={day:e,week:s,time:a},t.getToday()},1e3)}},{key:"getDashboardCountry",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(y["c"])().then(function(t){var a=t.data||[];e.countryList=a.filter(function(t){return t&&t.id&&t.name})}).catch(function(t){return e.countryList=[],t}));case 1:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getDashboardExpress",value:function(){var t=this;Object(y["d"])().then(function(e){var a=e.data||[];t.expressList=a.filter(function(t){return t&&t.id&&t.name})}).catch(function(e){return t.expressList=[],e})}},{key:"getDashboardGroup",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(y["f"])({countryId:this.searchForm.countryId}).then(function(t){var a=t.data||[];e.groupList=a.filter(function(t){return t&&t.id&&t.name})}).catch(function(t){return e.groupList=[],t}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getDashboardWarehouse",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(y["j"])().then(function(t){var a=t.data||[];e.warehouseList=a.filter(function(t){return t&&t.id&&t.name})}).catch(function(t){return e.warehouseList=[],t}));case 1:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getDashboardFba",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(y["e"])({countryId:this.searchForm.countryId}).then(function(t){var a=t.data||[];e.fbaCodeList=a.filter(function(t){return t})}).catch(function(t){return e.fbaCodeList=[],t}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"handleCountry",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.searchForm.countryId=e,this.searchForm.fbaAll=!1,this.searchForm.fbaInd=!1,this.searchForm.groAll=!1,this.searchForm.groInd=!1,this.searchForm.groupIds=[],this.searchForm.fbaCodes=[],this.fbaCodeList=[],this.groupList=[],a=null,t.prev=10,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),t.next=14,this.getDashboardGroup();case 14:return t.next=16,this.getDashboardFba();case 16:return t.next=18,this.getDetail("unload");case 18:a&&a.close(),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](10),a&&a.close();case 24:case"end":return t.stop()}},t,this,[[10,21]])}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleType",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.searchForm.loadType=e,this.searchForm.fbaAll=!1,this.searchForm.fbaInd=!1,this.searchForm.exAll=!1,this.searchForm.exInd=!1,this.searchForm.deAll=!1,this.searchForm.deInd=!1,this.searchForm.expressIds=[],this.searchForm.fbaCodes=[],this.searchForm.deliveryWays=[],t.next=12,this.getDetail();case 12:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleWareAllChange",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.searchForm.whInd=!1,this.searchForm.warehouseIds=e?this.warehouseList.map(function(t){return t.id}):[],t.next=4,this.getDetail();case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleWarehouseChecked",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=(e||[]).length,s=(this.warehouseList||[]).length,this.searchForm.whAll=a===s,this.searchForm.whInd=a>0&&a<s,t.next=6,this.getDetail();case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleFbaAllChange",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.searchForm.fbaInd=!1,this.searchForm.fbaCodes=e?this.fbaCodeList.map(function(t){return t}):[],t.next=4,this.getDetail();case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleFbaChecked",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=(e||[]).length,s=(this.fbaCodeList||[]).length,this.searchForm.fbaAll=a===s,this.searchForm.fbaInd=a>0&&a<s,t.next=6,this.getDetail();case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleExpressAllChange",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.searchForm.exInd=!1,this.searchForm.expressIds=e?this.expressList.map(function(t){return t.id}):[],t.next=4,this.getDetail();case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleExpressChecked",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=(e||[]).length,s=(this.expressList||[]).length,this.searchForm.exAll=a===s,this.searchForm.exInd=a>0&&a<s,t.next=6,this.getDetail();case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleDeliveryAllChange",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.searchForm.deInd=!1,this.searchForm.deliveryWays=e?this.deliveryOption.map(function(t){return t.id}):[],t.next=4,this.getDetail();case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleDeliveryChecked",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=(e||[]).length,s=(this.deliveryOption||[]).length,this.searchForm.deAll=a===s,this.searchForm.deInd=a>0&&a<s,t.next=6,this.getDetail();case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleGroupAllChange",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.searchForm.groInd=!1,this.searchForm.groupIds=e?this.groupList.map(function(t){return t.id}):[],t.next=4,this.getDetail();case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleGroupChecked",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=(e||[]).length,s=(this.groupList||[]).length,this.searchForm.groAll=a===s,this.searchForm.groInd=a>0&&a<s,t.next=6,this.getDetail();case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"handleCollectAdd",value:function(){var t=this;if(this.collectSelected.length<=0)this.$message.error("请勾选列表数据");else{var e=[];this.collectSelected.map(function(t){var a=(t.orderIds||"").split(",");e.push.apply(e,Object(o["a"])(a))}),this.orderSelected=e,this.dialogVisible=!0,this.isViewAdd="add";var a={countryId:this.searchForm.countryId,loadType:this.searchForm.loadType,orderIds:e,groupList:this.groupList};this.$nextTick(function(){var e=t.$refs.cabinet;e.setData(a,"collect")})}}},{key:"handleOrderAdd",value:function(){var t=this;if(this.orderSelected.length<=0)this.$message.error("请勾选列表数据");else{this.dialogVisible=!0,this.isViewAdd="add";var e={countryId:this.searchForm.countryId,loadType:this.searchForm.loadType,orderIds:this.orderSelected.map(function(t){return t.id}),groupList:this.groupList,groupIds:this.searchForm.groupIds};this.$nextTick(function(){var a=t.$refs.cabinet;a.setData(e,"order")})}}},{key:"handleViewOrder",value:function(){var t=this;this.dialogVisible=!0,this.isViewAdd="view",this.$nextTick(function(){var e=t.$refs.selected;e.setData(t.orderSelected)})}},{key:"handleUpdateSelected",value:function(t){var e=this;this.orderSelected=this.orderSelected.filter(function(e){return e.id!==t.id}),this.$nextTick(function(){var a=e.$refs.orderTable;a.toggleRowSelection(t)})}},{key:"handleSelectedClosed",value:function(){this.dialogVisible=!1,this.isViewAdd=""}},{key:"handleUpdataData",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getDetail();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"handleSelected1",value:function(t,e){this.collectSelected=t;var a=[];this.collectSelected.map(function(t){var e=(t.orderIds||"").split(",");a.push.apply(a,Object(o["a"])(e))}),this.orderIds=a.filter(function(t){return t}),this.getOrderList()}},{key:"handleSelectAll1",value:function(t){this.collectSelected=t;var e=[];this.collectSelected.map(function(t){var a=(t.orderIds||"").split(",");e.push.apply(e,Object(o["a"])(a))}),this.orderIds=e.filter(function(t){return t}),this.getOrderList()}},{key:"handleSelected2",value:function(t,e){this.orderSelected=t}},{key:"handleSelectAll2",value:function(t){this.orderSelected=t}},{key:"handleSizeChange",value:function(t){var e=this;this.size=t,this.orderSelected.map(function(t){e.$nextTick(function(){var a=e.$refs.orderTable;a.toggleRowSelection(t)})})}},{key:"handleCurrentChange",value:function(t){var e=this;this.page=t,this.orderSelected.map(function(t){e.$nextTick(function(){var a=e.$refs.orderTable;a.toggleRowSelection(t)})})}},{key:"changeLock",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getDetail();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"getDetail",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,s,n,i,o,l,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.collectSelected=[],this.orderSelected=[],this.orderIds=[],this.orderList=[],this.page=1,this.size=10,a=null,e||(a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})),s=this.searchForm,s.whAll,s.whInd,s.fbaAll,s.fbaInd,s.exAll,s.exInd,s.deAll,s.deInd,s.groAll,s.groInd,n=Object(r["a"])(s,["whAll","whInd","fbaAll","fbaInd","exAll","exInd","deAll","deInd","groAll","groInd"]),i=Y({},n,{includeLock:this.includeLock}),t.prev=10,t.next=13,Object(y["g"])(i);case 13:o=t.sent,l=o.data||{},l.containers,l.summaries,l.runStartTime,l.runEndTime,c=Object(r["a"])(l,["containers","summaries","runStartTime","runEndTime"]),this.collectList=l.summaries||[],this.summaryObj=Y({},c),e||a&&a.close(),t.next=25;break;case 21:return t.prev=21,t.t0=t["catch"](10),e||a&&a.close(),t.abrupt("return",t.t0);case 25:case"end":return t.stop()}},t,this,[[10,21]])}));function e(e){return t.apply(this,arguments)}return e}()},{key:"getOrderList",value:function(){var t=this;if(this.orderList=[],this.orderSelected=[],!(this.orderIds.length<=0)){var e=null;e=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),Object(y["h"])(this.orderIds).then(function(a){var s=a.data||[];t.orderList=s,t.total=s.length,e&&e.close()}).catch(function(t){return e&&e.close(),t})}}},{key:"windowKeydown",value:function(t){t&&122===t.keyCode&&t.preventDefault()}},{key:"handleFullScreen",value:function(){var t=Q.a;t.enabled?t.toggle():this.$message.warning("不支持全屏")}},{key:"changeFullScreen",value:function(t){this.fullscreen=!this.fullscreen}},{key:"beforeDestroy",value:function(){this.timer=null}},{key:"created",value:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e,a,s,n,i,r,o,l,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.getToday(),this.getDashboardExpress(),e=null,t.prev=3,e=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),t.next=7,this.getDashboardWarehouse();case 7:return t.next=9,this.getDashboardCountry();case 9:if(0!==this.countryList.length){t.next=12;break}return e&&e.close(),t.abrupt("return");case 12:if(a=this.countryList[0].id,s=this.$route.query,n=s.tag,i=sessionStorage.getItem(n)||"{}",r=JSON.parse(i),this.searchForm.countryId=r.countryId||a,this.searchForm.loadType=r.loadType||"1",this.includeLock=r.includeLock,"1"!==this.searchForm.loadType){t.next=23;break}return t.next=23,this.getDashboardFba();case 23:return t.next=25,this.getDashboardGroup();case 25:return o=r.fbaSelected,l=r.groupSelected,c=r.warehouseSelected,"1"===r.loadType&&(this.searchForm.fbaAll=o.length===this.fbaCodeList.length,this.searchForm.fbaInd=o.length>0&&o.length<this.fbaCodeList.length,this.searchForm.fbaCodes=o),this.searchForm.groAll=l.length===this.groupList.length,this.searchForm.groInd=l.length>0&&l.length<this.groupList.length,this.searchForm.groupIds=l,this.searchForm.whAll=c.length===this.warehouseList.length,this.searchForm.whInd=c.length>0&&c.length<this.warehouseList.length,this.searchForm.warehouseIds=c,t.next=37,this.getDetail("unload");case 37:e&&e.close(),t.next=44;break;case 40:return t.prev=40,t.t0=t["catch"](3),e&&e.close(),t.abrupt("return",t.t0);case 44:case"end":return t.stop()}},t,this,[[3,40]])}));function e(){return t.apply(this,arguments)}return e}()},{key:"selectObj",get:function(){var t=0,e=0,a=0,s=0,n=this.collectSelected||[];s=this.sumFromArr(n,"bills"),t=this.sumFromArr(n,"packages"),e=this.sumFromArr(n,"weights"),a=this.sumFromArr(n,"volumes");var i={total:this.collectSelected.length,bills:s,packages:t,weights:e,volumes:a};return i}},{key:"orderObj",get:function(){var t=0,e=0,a=0;this.orderSelected.map(function(s){t+=s.packages,e+=s.weights,a+=s.volumes});var s={total:this.orderSelected.length,bills:this.orderSelected.length,packages:t,weights:e,volumes:a};return s}},{key:"orderOption",get:function(){return this.orderList.slice((this.page-1)*this.size,this.page*this.size)}}]),e}(v["e"]);V=m["a"]([Object(v["a"])({name:"MonitorDetails",components:{CabinetAdd:F,SelectView:N,LockedDetail:R["a"]}})],V);var B=V,M=B,W=(a("2d47"),Object(D["a"])(M,s,n,!1,null,"d4279634",null));e["default"]=W.exports},"528e":function(t,e,a){"use strict";var s=a("67e2"),n=a.n(s);n.a},"5a3b":function(t,e,a){t.exports=a.p+"img/password.0436a0a9.png"},"5cb6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABBCAYAAACO98lFAAAAAXNSR0IArs4c6QAABDlJREFUeF7tnE1oXFUUx3/nzmTSCKWF2JRadSN2UREKlS7EnasqhYriQhuitDVUSnUhSKF+4UpXmoJi/EiDJcpAVoV2Y1G3YqEi6KIIpbVCGgutX9M0mXvkvnmZzFfy+l5mmpvMfRDCJOeed87v/u+7d+7HExqu0yPaW+pjk/awYXaOQi6PabRZbZ/Lc9iePLdklht9JaafOCIztTlI7YfiuG61ZTYbQ93fV1vSS8VrLWpyTD07JFfm7eJkVYqf8QB5NqylhJfKZWaOG4MH+A1EIwiTn+q95R42dwuA+Txzs0w9fVB+l7ExXdenbF/LTWCxynVNoyT8Il99offlDAPdpoL5fMuWqzJxQh/Kw7puhTAHN6U4pjsQct0KAaUsxRO6s2sBxIkHCECAECBU2kNQQoCwXCVUutXDwF6E9dUvI8oehWvAcWAb8DbK9xjeAvak6IlOYXlHDLtVOYpwDuU1lB0YPqn6Ua5bZdIIo667S+G/apq9ORheAQYbbyoOgnJPNVDlB5SXs0JQYUIkggmWA0CuDkIcgIVRYxm90xC+hQUF1CmhHoKrweGsEDCcArbEEIaj37VKiG+sMCWWJ+80hB9b3dApwSrrxTAR/V85i/L6MiCMAI9GrizPCPS3ghBDesQLCHGgFwV2q2GbtZw07hkhvIfweIogT2N5U4QBFfap5SeBs8BO7yFg+Rz4uDZZKwwYmEDYeNsQlGtWeS4CWH8dxvBCSz8WP5QQB/cnyq2aQPsRem8bwLyh4uYCFyAIBeDuRf14BiF1vm0pECBEXahXzaEtFZvaSYAQlFARjS9KUOUiwsms4/imJiAURHkJoT+xefgCAYsb2p5LDDiFQTzwejexiC8Q1PKGwJnEgNMYGPYDhxKL+AIBN8ARvoO6wVJi/EsYuK/pjwH5RCfeQEiMtIMGAYJHvUMH6znZdVCCT0pQzkRzB5Z/kquutYUIW9T5gO2pfPiiBFUGRfk1VfAtjNWwV+BYKj++QAC+xPJhquAbjYWCwgci7ErlxyMIbl7xb4h+sl4bEe5KXdgrCKmjb1OBAMGn3qFNlZrJjWdK+LlhojVTTk2FKhOtDy/qzBcICu+LpdierJu9iGGfwqst/fsCIV4vPN8pCMAuDB/5DUE5j0YLo5lWiBPgucVYtxLeeiTpjRI6KIFE1wFC6CIrIlkBJXwDKRZYE7W8PANVLovyVBYvy9mp4iY+3QSoF5fAcbWMZwkmOwQhZ4X9xu1ZYgU3iCt/iDCpmn2tIzuELMg9LRMghH2MFWkGJQQIQQnVx3Q4+eJOvoQzUNzs+tNwuTxT4VykOxfpng7Fcb0fZZOnA7qOhVWaYXpoWC5Vz0p/PcqDptC8a71jEayw41nlr+dflAvRYKk2Fndq3sCA1dX/uoDFGBvB/vsfV4cONZ2aXygyMqK9W9fw+xOulJg+0vD+hP8BhEXnNNg5fWkAAAAASUVORK5CYII="},"5cf8":function(t,e,a){},6615:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"update-password"},[s("el-form",{ref:"passwordForm",staticClass:"password-form",attrs:{model:t.passwordForm,rules:t.formRules,"label-position":"right","label-width":"90px"}},[s("img",{staticClass:"pwd-img",attrs:{src:a("5a3b"),alt:""}}),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.updateShow,expression:"!updateShow"}]},[s("div",{staticClass:"pwd-title"},[t._v("\n        修改密码\n      ")]),s("div",{staticClass:"pwd-text"},[t._v("\n        您的新密码必须与以前使用的密码不同\n      ")]),s("div",{staticStyle:{"padding-right":"20px"}},[s("el-form-item",{attrs:{label:"原密码",prop:"oldPassword"}},[s("el-input",{key:t.passwordType1,ref:"password",attrs:{type:t.passwordType1,placeholder:"请输入",name:"password"},model:{value:t.passwordForm.oldPassword,callback:function(e){t.$set(t.passwordForm,"oldPassword",e)},expression:"passwordForm.oldPassword"}}),s("span",{staticClass:"show-pwd",on:{click:t.showPwd1}},[s("svg-icon",{attrs:{name:"password"===t.passwordType1?"eye-off":"eye-on"}})],1)],1),s("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[s("el-input",{key:t.passwordType2,ref:"password",attrs:{type:t.passwordType2,placeholder:"请输入",name:"password"},model:{value:t.passwordForm.newPassword,callback:function(e){t.$set(t.passwordForm,"newPassword",e)},expression:"passwordForm.newPassword"}}),s("span",{staticClass:"show-pwd",on:{click:t.showPwd2}},[s("svg-icon",{attrs:{name:"password"===t.passwordType2?"eye-off":"eye-on"}})],1)],1),s("el-form-item",{attrs:{label:"确认密码",prop:"affirmPassword"}},[s("el-input",{key:t.passwordType3,ref:"password",attrs:{type:t.passwordType3,placeholder:"请输入",name:"password"},model:{value:t.passwordForm.affirmPassword,callback:function(e){t.$set(t.passwordForm,"affirmPassword",e)},expression:"passwordForm.affirmPassword"}}),s("span",{staticClass:"show-pwd",on:{click:t.showPwd3}},[s("svg-icon",{attrs:{name:"password"===t.passwordType3?"eye-off":"eye-on"}})],1)],1)],1),s("div",{staticStyle:{padding:"10px 55px 30px"}},[s("el-button",{staticStyle:{width:"100%"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.updateConfirm(e)}}},[t._v("\n          确定修改\n        ")])],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.updateShow,expression:"updateShow"}]},[s("div",{staticClass:"pwd-success"},[t._v("\n        密码修改成功\n      ")]),s("div",{staticStyle:{padding:"60px 55px 30px"}},[s("el-button",{staticStyle:{width:"100%"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.goBack(e)}}},[t._v("\n          返回首页("+t._s(t.selfNum)+"s)\n        ")])],1)])])],1)},n=[],i=(a("96cf"),a("3b8d")),r=a("d225"),o=a("b0b4"),l=a("308d"),c=a("6bb5"),u=a("4e2b"),d=a("9ab4"),p=a("60a3"),h=a("9dba"),m=a("b8f0"),v=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.passwordForm={oldPassword:void 0,newPassword:void 0,affirmPassword:void 0},t.formRules={oldPassword:[{required:!0,message:"密码不能为空",trigger:"blur"},{validator:function(t,e,a){var s=/[\u4e00-\u9fa5]/;e?s.test(e)?a(new Error("密码不能有中文")):String(e).length<6||String(e).length>20?a(new Error("密码长度为6-20位")):a():a(new Error("密码不能为空"))},trigger:"blur"}],newPassword:[{required:!0,message:"密码不能为空",trigger:"blur"},{validator:function(e,a,s){var n=/[\u4e00-\u9fa5]/,i=t.$refs.passwordForm;a?n.test(a)?s(new Error("密码不能有中文")):String(a).length<6||String(a).length>20?s(new Error("密码长度为6-20位")):(i.validateField("affirmPassword"),s()):s(new Error("密码不能为空"))},trigger:"blur"}],affirmPassword:[{required:!0,message:"密码不能为空",trigger:"blur"},{validator:function(e,a,s){var n=/[\u4e00-\u9fa5]/,i=t.passwordForm.newPassword;a?n.test(a)?s(new Error("密码不能有中文")):a!==i?s(new Error("密码不一致")):String(a).length<6||String(a).length>20?s(new Error("密码长度为6-20位")):s():s(new Error("密码不能为空"))},trigger:"blur"}]},t.passwordType1="password",t.passwordType2="password",t.passwordType3="password",t.loading=!1,t.otherQuery={},t.updateShow=!1,t.selfNum=5,t.timer="",t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"showPwd1",value:function(){var t=this;"password"===this.passwordType1?this.passwordType1="":this.passwordType1="password",this.$nextTick(function(){t.$refs.password.focus()})}},{key:"showPwd2",value:function(){var t=this;"password"===this.passwordType2?this.passwordType2="":this.passwordType2="password",this.$nextTick(function(){t.$refs.password.focus()})}},{key:"showPwd3",value:function(){var t=this;"password"===this.passwordType3?this.passwordType3="":this.passwordType3="password",this.$nextTick(function(){t.$refs.password.focus()})}},{key:"updateConfirm",value:function(){var t=this;this.$refs.passwordForm.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(a){var s,n,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",!1);case 2:t.loading=!0,s=t.passwordForm,n=s.newPassword,r=s.oldPassword,o={newPassword:n,oldPassword:r},Object(m["a"])(o).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.$message.success("密码修改成功"),t.loading=!1,t.updateShow=!0,t.timer=setInterval(function(){t.selfNum>0?--t.selfNum:t.goBack()},1e3);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){return t.loading=!1,e});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},{key:"goBack",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return clearInterval(this.timer),t.prev=1,e={username:this.username,password:this.passwordForm.newPassword},t.next=5,h["a"].Login(e);case 5:return t.next=7,h["a"].ResetInfo();case 7:return t.next=9,h["a"].GetUserInfo();case 9:this.$router.push({path:"/"}),this.updateShow=!1,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),this.loading=!1;case 16:case"end":return t.stop()}},t,this,[[1,13]])}));function e(){return t.apply(this,arguments)}return e}()},{key:"username",get:function(){var t=h["a"].info||{},e=t.username;return e}}]),e}(p["e"]);v=d["a"]([Object(p["a"])({name:"Update",components:{}})],v);var f=v,g=f,b=(a("2825"),a("2877")),w=Object(b["a"])(g,s,n,!1,null,"093062e7",null);e["default"]=w.exports},"67e2":function(t,e,a){},7196:function(t,e,a){"use strict";var s=a("b16a"),n=a.n(s);n.a},7980:function(t,e,a){},"7da6":function(t,e,a){"use strict";var s=a("5cf8"),n=a.n(s);n.a},"86e6":function(t,e,a){},"86f4":function(t,e,a){"use strict";var s=a("7980"),n=a.n(s);n.a},"895f":function(t,e,a){"use strict";var s=a("dc2b"),n=a.n(s);n.a},"8ca0":function(t,e,a){"use strict";var s=a("2494"),n=a.n(s);n.a},9629:function(t,e,a){"use strict";a.d(e,"c",function(){return n}),a.d(e,"d",function(){return i}),a.d(e,"j",function(){return r}),a.d(e,"e",function(){return o}),a.d(e,"f",function(){return l}),a.d(e,"g",function(){return c}),a.d(e,"b",function(){return u}),a.d(e,"k",function(){return d}),a.d(e,"a",function(){return p}),a.d(e,"h",function(){return h}),a.d(e,"i",function(){return m});var s=a("b32d");function n(){var t={url:"/report/dashboard/countriesInDashboard",method:"get"};return Object(s["a"])(t)}function i(){var t={url:"/report/dashboard/expressesInDashboard",method:"get"};return Object(s["a"])(t)}function r(){var t={url:"/report/dashboard/warehousesInDashboard",method:"get"};return Object(s["a"])(t)}function o(t){var e={url:"/report/dashboard/fbaCodesInDashboard",method:"get",params:t};return Object(s["a"])(e)}function l(t){var e={url:"/report/dashboard/groupsInDashboard",method:"get",params:t};return Object(s["a"])(e)}function c(t){var e={url:"/report/dashboard/getDashboardQueryDetail",method:"post",data:t};return Object(s["a"])(e)}function u(t){var e={url:"/report/dashboard/getDashboardQueryResult",method:"post",data:t};return Object(s["a"])(e)}function d(t){var e={url:"/report/dashboard/manualLoad",method:"post",data:t};return Object(s["a"])(e)}function p(t){var e={url:"/report/dashboard/getBookingContainers",method:"post",data:t};return Object(s["a"])(e)}function h(t){var e={url:"/report/dashboard/orderToAssign",method:"post",data:t};return Object(s["a"])(e)}function m(t){var e={url:"/report/dashboard/getLockedOrders",method:"post",data:t};return Object(s["a"])(e)}},9937:function(t,e,a){"use strict";var s=a("86e6"),n=a.n(s);n.a},"9ed6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container"},[a("lang-select",{staticClass:"set-language",staticStyle:{color:"#fafafa",position:"fixed",top:"30px",right:"50px",cursor:"pointer"}}),a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules,autocomplete:"on","label-position":"left"}},[a("img",{staticStyle:{display:"block",margin:"20px auto",width:"250px",height:"80px"},attrs:{src:t.logo,alt:""}}),a("el-form-item",{attrs:{prop:"username"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{name:"user"}})],1),a("el-input",{ref:"username",attrs:{placeholder:t.$t("login.username"),clearable:"",name:"username",type:"text",autocomplete:"on"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{name:"password"}})],1),a("el-input",{key:t.passwordType,ref:"password",attrs:{type:t.passwordType,placeholder:t.$t("login.password"),name:"password",autocomplete:"on"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}}),a("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[a("svg-icon",{attrs:{name:"password"===t.passwordType?"eye-off":"eye-on"}})],1)],1),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v("\n      "+t._s(t.$t("login.logIn"))+"\n    ")])],1),a("el-dialog",{attrs:{title:t.$t("login.thirdparty"),visible:t.showDialog},on:{"update:visible":function(e){t.showDialog=e}}},[t._v("\n    "+t._s(t.$t("login.thirdpartyTips"))+"\n    "),a("br"),a("br"),a("br"),a("social-sign")],1),a("div",{staticClass:"ipc_info"},[t._v("\n    深圳市聚货通信息科技有限公司 版权所有 © Copyright "+t._s(t.currentYear)+" "),a("a",{attrs:{href:"http://beian.miit.gov.cn"}},[t._v("粤ICP备19040263号")])])],1)},n=[],i=(a("ac6a"),a("456d"),a("96cf"),a("3b8d")),r=a("d225"),o=a("b0b4"),l=a("308d"),c=a("6bb5"),u=a("4e2b"),d=a("9ab4"),p=a("60a3"),h=a("9dba"),m=a("75fb"),v=a("1131"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"social-signup-container"},[a("div",{staticClass:"sign-btn",on:{click:function(e){return t.wechatHandleClick("wechat")}}},[a("span",{staticClass:"wx-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{name:"wechat"}})],1),t._v(" 微信\n  ")]),a("div",{staticClass:"sign-btn",on:{click:function(e){return t.tencentHandleClick("tencent")}}},[a("span",{staticClass:"qq-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{name:"qq"}})],1),t._v(" QQ\n  ")])])},g=[],b=function(t){function e(){return Object(r["a"])(this,e),Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"wechatHandleClick",value:function(t){alert("ok")}},{key:"tencentHandleClick",value:function(t){alert("ok")}}]),e}(p["e"]);b=d["a"]([Object(p["a"])({name:"SocialSignin"})],b);var w=b,y=w,C=(a("528e"),a("2877")),k=Object(C["a"])(y,f,g,!1,null,"272e8642",null),_=k.exports,x=a("5a0c"),O=a.n(x),D=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.validateUsername=function(t,e,a){Object(m["d"])(e)?a():a(new Error("Please enter the correct user name"))},t.validatePassword=function(t,e,a){e.length<6?a(new Error("The password can not be less than 6 digits")):a()},t.loginForm={username:t.isProd?"":"admin",password:(t.isProd,"")},t.loginRules={username:[{validator:t.validateUsername,trigger:"blur"}],password:[{validator:t.validatePassword,trigger:"blur"}]},t.passwordType="password",t.loading=!1,t.showDialog=!1,t.timer1="",t.otherQuery={},t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"onRouteChange",value:function(t){var e=t.query;e&&(this.redirect=e.redirect,this.otherQuery=this.getOtherQuery(e))}},{key:"mounted",value:function(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus()}},{key:"showPwd",value:function(){var t=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick(function(){t.$refs.password.focus()})}},{key:"handleLogin",value:function(){var t=this;this.$refs.loginForm.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(a){var s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=18;break}return t.loading=!0,e.prev=2,e.next=5,h["a"].Login(t.loginForm);case 5:return e.next=7,h["a"].GetUserInfo();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),t.loading=!1;case 12:s=t.ifUpdatePassword,n=t.ifOnce,"1"===s&&"1"===n?t.$router.push({path:"/update-password"}):t.$router.push({path:t.redirect||"/",query:t.otherQuery}),t.timer1=setTimeout(function(){t.loading=!1},500),e.next=19;break;case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}())}},{key:"beforeDestroy",value:function(){clearTimeout(this.timer1)}},{key:"getOtherQuery",value:function(t){return Object.keys(t).reduce(function(e,a){return"redirect"!==a&&(e[a]=t[a]),e},{})}},{key:"currentYear",get:function(){return O()().year()}},{key:"isProd",get:function(){return!0}},{key:"logo",get:function(){return"".concat("/","login-form-logo.png")}},{key:"ifUpdatePassword",get:function(){var t=h["a"].info||{},e=t.ifUpdatePassword;return e}},{key:"ifOnce",get:function(){var t=h["a"].info||{},e=t.ifOnce;return e}}]),e}(p["e"]);d["a"]([Object(p["f"])("$route",{immediate:!0})],D.prototype,"onRouteChange",null),D=d["a"]([Object(p["a"])({name:"Login",components:{LangSelect:v["a"],SocialSign:_}})],D);var T=D,F=T,S=(a("2017"),a("8ca0"),Object(C["a"])(F,s,n,!1,null,"631dde3b",null));e["default"]=S.exports},abb6:function(t,e,a){"use strict";var s=a("fb57"),n=a.n(s);n.a},b16a:function(t,e,a){},b2d1:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i}),a.d(e,"c",function(){return r}),a.d(e,"d",function(){return o}),a.d(e,"e",function(){return l}),a.d(e,"f",function(){return c});var s=a("b32d");function n(t){var e={url:"/orders/dashboard/dashboardQuery",method:"get",params:t};return Object(s["a"])(e)}function i(t){var e={url:"/orders/dashboard/getDashboardOrderByCode",method:"post",data:t};return Object(s["a"])(e)}function r(t){var e={url:"/orders/dashboard/getDashboardOrderBySo",method:"post",data:t};return Object(s["a"])(e)}function o(t){var e={url:"/orders/dashboard/warehouseSummary",method:"post",data:t};return Object(s["a"])(e)}function l(t){var e={url:"/orders/dashboard/getDashboardTransit",method:"post",data:t};return Object(s["a"])(e)}function c(t){var e={url:"/orders/dashboard/planSummary",method:"get",params:t};return Object(s["a"])(e)}},c6b7:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-scrollbar",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"scrollbar-wrap"},[a("div",{staticClass:"container"},[a("div",{staticClass:"container-top-wrap"},[a("div",{staticClass:"container-top"},[a("div",{staticClass:"top-title-left"},[a("div",{staticClass:"line border"}),a("div",{staticClass:"line"}),a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"}},[a("div",[a("span",[t._v(t._s(t.today.day))]),a("span",{staticClass:"week"},[t._v(t._s(t.today.week))]),a("span",[t._v(t._s(t.today.time))])]),t.runEndTime?a("span",{staticStyle:{"font-size":"14px","padding-right":"10px"}},[t._v("\n              更新时间："+t._s(t.runEndTime)+"\n            ")]):t._e()])]),a("div",{staticClass:"top-title"},[a("div",{staticClass:"top-title-text"},[t._v("\n            聚货通物流快递监测系统\n          ")]),a("div",{staticClass:"subtitle-container"},[t._v("\n            JHT LOGISTICS EXPRESS MONITORING SYSTEM\n          ")])]),a("div",{staticClass:"top-title-right"},[a("div",{staticClass:"line border"}),a("div",{staticClass:"line"}),a("div",{staticClass:"full-screen",on:{click:t.handleFullScreen}},[a("span",{class:{"full-screen-icon":!0,reset:t.fullscreen}}),a("span",[t._v(t._s(t.fullscreen?"还原":"全屏"))])]),a("el-checkbox",{on:{change:function(e){return t.loadData(1)}},model:{value:t.locked,callback:function(e){t.locked=e},expression:"locked"}},[t._v("\n            锁舱在途\n          ")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.showOrderList({},"transit")}}},[t._v("\n            查看在途\n          ")])],1)])]),a("div",{staticClass:"content-warp"},[a("div",{staticClass:"content-top"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:12,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"icon package"}),a("div",{staticClass:"text"},[a("span",[t._v("总票数")]),a("span",{staticClass:"num"},[t._v(t._s(t.summary.bills||0))])])])]),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"icon num"}),a("div",{staticClass:"text"},[a("span",[t._v("总件数")]),a("span",{staticClass:"num"},[t._v(t._s(t.summary.packages||0))])])])]),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"icon kg"}),a("div",{staticClass:"text"},[a("span",[t._v("总重量")]),a("span",{staticClass:"num"},[t._v("\n                  "+t._s(t.summary.weights||0)+"\n                  "),a("span",{staticClass:"unit"},[t._v(" kg")])])])])]),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"info-item"},[a("span",{staticClass:"icon cm"}),a("div",{staticClass:"text"},[a("span",[t._v("总体积")]),a("span",{staticClass:"num"},[t._v("\n                  "+t._s(t.summary.volumes||0)+"\n                  "),a("span",{staticClass:"unit"},[t._v(" m³")])])])])])],1)],1),a("div",{staticClass:"content-table-warp"},[a("el-row",{attrs:{gutter:17}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:12,xl:10}},[a("div",{staticClass:"left-table"},[a("div",{staticClass:"left-table-header"},[a("div",{staticClass:"left-title"},["0"===t.activeTab?a("span",[t._v("提单数量 ")]):t._e(),"1"===t.activeTab?a("span",[t._v("货柜数量 ")]):t._e(),a("span",{staticClass:"num"},[t._v(t._s(t.planSummary.total||0))])]),a("div",{staticClass:"tabs-warp"},[a("div",{staticClass:"tabs-wrap"},t._l(t.typeList,function(e){return a("div",{key:e.value,class:{"tabs-item":!0,active:e.value===t.activeTab},on:{click:function(a){return t.activePlanTabChange(e)}}},[t._v("\n                      "+t._s(e.name)+"\n                    ")])}),0),a("div",{staticClass:"option-warp"},[a("div",{staticClass:"option-btn",on:{click:t.openAllList}},[t._v("\n                      "+t._s(t.openAll?"全部收起":"全部展开")+"\n                    ")]),a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[a("span",{staticClass:"sort-text"},[t._v("\n                        "+t._s(t.sort.name)+"\n                        "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.sortList,function(e){return a("el-dropdown-item",{key:e.value,attrs:{command:e.value}},[t._v("\n                          "+t._s(e.name)+"\n                        ")])}),1)],1)],1)])]),t.planGroupByCountryList.length?a("el-scrollbar",{staticClass:"left-table-content scrollbar-wrap"},t._l(t.planGroupByCountryList,function(e){return a("div",{key:e.key,staticClass:"group-country-item"},[a("div",{staticClass:"country-title-info"},[a("div",{staticClass:"country-name"},[a("span",{staticClass:"country-icon"}),a("span",{staticClass:"name"},[t._v(t._s((e.country||{}).value))])]),a("div",{staticClass:"country-info"},["0"===t.activeTab?a("span",[t._v("\n                        共 "+t._s(e.total)+" 个提单\n                      ")]):"1"===t.activeTab?a("span",[t._v("\n                        共 "+t._s(e.total)+" 个货柜\n                      ")]):a("span",[t._v("\n                        --\n                      ")])])]),t._l(e.list,function(e){return a("div",{key:e.id,staticClass:"cabinet-content",on:{click:function(a){return t.showOrderList(e,"so")}}},[a("div",{staticClass:"cabinet-name-warp"},[a("div",{staticClass:"cabinet-name"},[a("span",[t._v(t._s((e.container||{}).name))]),a("span",[t._v(t._s((e.startPort||{}).value)+" — "+t._s((e.endPort||{}).value))])]),a("div",{staticClass:"option-icon",on:{click:function(a){return a.stopPropagation(),t.switchOpen(e)}}},[a("span",{staticClass:"label"},[t._v(t._s("0"===e.transport?"提单号：":"SO："))]),a("span",{staticClass:"value"},[t._v(t._s(e.so))]),a("i",{staticClass:"el-icon-arrow-up",style:{transform:t.openList.includes(e.id)?"rotate(0deg)":"rotate(180deg)",transition:"all .3s",cursor:"pointer"}})])]),a("div",{staticClass:"cabinet-num-info"},[a("div",{staticClass:"info-item"},[a("div",{staticClass:"text"},[t._v("\n                          总票数\n                        ")]),a("div",{staticClass:"num"},[t._v("\n                          "+t._s(e.bills||0)+"\n                        ")])]),a("div",{staticClass:"info-item"},[a("div",{staticClass:"text"},[t._v("\n                          总件数\n                        ")]),a("div",{staticClass:"num"},[t._v("\n                          "+t._s(e.packages||0)+"\n                        ")])]),a("div",{staticClass:"info-item"},[a("div",{staticClass:"text"},[t._v("\n                          总重量(kg)\n                        ")]),a("div",{staticClass:"num"},[t._v("\n                          "+t._s(e.weights)+"\n                        ")])]),a("div",{staticClass:"info-item"},[a("div",{staticClass:"text"},[t._v("\n                          总体积(m³)\n                        ")]),a("div",{staticClass:"num"},[t._v("\n                          "+t._s(e.volumes)+"\n                        ")])])]),a("el-collapse-transition",[t.openList.includes(e.id)?a("div",{staticClass:"cabinet-info"},["0"===e.transport?a("el-row",[a("el-col",{staticClass:"p-t-8",attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("\n                                服务机构:\n                              ")]),a("div",{staticClass:"value"},[t._v("\n                                "+t._s((e.organization||{}).value)+"\n                              ")])])]),a("el-col",{staticClass:"p-t-8",attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("\n                                截关时间:\n                              ")]),a("div",{staticClass:"value"},[t._v("\n                                "+t._s(e.deadlineCustoms)+"\n                              ")])])]),a("el-col",{staticClass:"p-t-8",attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("\n                                起运港:\n                              ")]),a("div",{staticClass:"value"},[t._v("\n                                "+t._s((e.startPort||{}).value)+"\n                              ")])])]),a("el-col",{staticClass:"p-t-8",attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("\n                                目的港:\n                              ")]),a("div",{staticClass:"value"},[t._v("\n                                "+t._s((e.endPort||{}).value)+"\n                              ")])])]),a("el-col",{staticClass:"p-t-8",attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("\n                                起飞时间:\n                              ")]),a("div",{staticClass:"value"},[t._v("\n                                "+t._s(e.departureTime)+"\n                              ")])])])],1):a("el-row",[a("el-col",{staticClass:"p-t-8",attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("\n                                服务机构:\n                              ")]),a("div",{staticClass:"value"},[t._v("\n                                "+t._s((e.organization||{}).value)+"\n                              ")])])]),a("el-col",{staticClass:"p-t-8",attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("\n                                截关时间:\n                              ")]),a("div",{staticClass:"value"},[t._v("\n                                "+t._s(e.deadlineCustoms)+"\n                              ")])])]),a("el-col",{staticClass:"p-t-8",attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("\n                                ETD:\n                              ")]),a("div",{staticClass:"value"},[t._v("\n                                "+t._s(e.etd)+"\n                              ")])])]),a("el-col",{staticClass:"p-t-8",attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("\n                                船次:\n                              ")]),a("div",{staticClass:"value"},[t._v("\n                                "+t._s(e.shipNo)+"\n                              ")])])]),a("el-col",{staticClass:"p-t-8",attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("\n                                截重时间:\n                              ")]),a("div",{staticClass:"value"},[t._v("\n                                "+t._s(e.deadlineWeight)+"\n                              ")])])]),a("el-col",{staticClass:"p-t-8",attrs:{xs:12,sm:12,md:12,lg:12,xl:8}},[a("div",{staticClass:"item"},[a("span",{staticClass:"label"},[t._v("ETA:")]),a("span",{staticClass:"value"},[t._v(t._s(e.eta))])])]),a("el-col",{staticClass:"p-t-8",attrs:{xs:12,sm:12,md:12,lg:12,xl:24}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v("\n                                船名:\n                              ")]),a("div",{staticClass:"value"},[t._v("\n                                "+t._s(e.shipName)+"\n                              ")])])])],1)],1):t._e()])],1)})],2)}),0):a("div",{staticClass:"left-table-content empty"},[t._v("\n                暂无数据\n              ")])],1)]),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:12,xl:14}},[a("div",{staticClass:"right-table"},[a("div",{staticClass:"right-table-header"},[a("div",{staticClass:"header-icon-warp"},[a("span",{staticClass:"icon"}),a("span",{staticClass:"text"},[t._v("目的仓（海外）")])]),a("div",{staticClass:"deliveryWay"},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommandDeliveryWay}},[a("span",{staticClass:"sort-text"},[t._v("\n                      "+t._s(t.deliveryWay.name)+"\n                      "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.deliveryWayList,function(e){return a("el-dropdown-item",{key:e.value,attrs:{command:e.value}},[t._v("\n                        "+t._s(e.name)+"\n                      ")])}),1)],1)],1),a("div",{staticClass:"tabs-wrap"},t._l(t.typeList,function(e){return a("div",{key:e.value,class:{"tabs-item":!0,active:e.value===t.activeTab},on:{click:function(a){return t.activePlanTabChange(e)}}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])}),0)]),t.fbaListGroupList.length?a("el-scrollbar",{staticClass:"right-table-content scrollbar-wrap"},t._l(t.fbaListGroupList,function(e){return a("div",{key:e.key,staticClass:"info-item"},[a("div",{staticClass:"header-info"},[a("div",{staticClass:"country-name"},[a("span",{staticClass:"country-icon"}),a("span",{staticClass:"name"},[t._v(t._s((e.country||{}).value))])]),a("div",{staticClass:"right-info hidden-md-and-down"},[a("div",{staticClass:"right-info-item"},[a("div",{staticClass:"label"},[t._v("\n                          总票数\n                        ")]),a("div",{staticClass:"value"},[t._v("\n                          "+t._s(e.bills||0)+"\n                        ")])]),a("div",{staticClass:"right-info-item"},[a("div",{staticClass:"label"},[t._v("\n                          总件数\n                        ")]),a("div",{staticClass:"value"},[t._v("\n                          "+t._s(e.packages||0)+"\n                        ")])]),a("div",{staticClass:"right-info-item"},[a("div",{staticClass:"label"},[t._v("\n                          总重量\n                        ")]),a("div",{staticClass:"value"},[t._v("\n                          "+t._s(e.weights||0)+" kg\n                        ")])]),a("div",{staticClass:"right-info-item"},[a("div",{staticClass:"label"},[t._v("\n                          总体积\n                        ")]),a("div",{staticClass:"value"},[t._v("\n                          "+t._s(e.volumes||0)+" m³\n                        ")])])])]),a("el-row",[a("div",{class:{waterfall:!0,"waterfall-wrap":1===e.list.length}},t._l(e.list,function(e,s){return a("el-col",{key:e.key,style:"grid-row: auto / span "+(5+s),attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"state-info"},[a("div",{staticClass:"state-name"},[t._v("\n                            "+t._s((e.state||{}).value)+"\n                          ")]),a("div",{staticClass:"state-table"},[a("div",{staticClass:"state-table-header"},[a("span",{staticClass:"header-item w"},[t._v("仓库")]),a("span",{staticClass:"header-item"},[t._v("总票数")]),a("span",{staticClass:"header-item"},[t._v("总件数")]),a("span",{staticClass:"header-item"},[t._v("总重量(kg)")]),a("span",{staticClass:"header-item"},[t._v("总体积(m³)")])]),t._l(e.list,function(e){return a("div",{key:e.id,staticClass:"state-table-row",on:{click:function(a){return t.showOrderList(e,"fba")}}},[a("span",{staticClass:"state-table-col w"},[t._v(t._s(e.ifFba?e.fbaCode:"私人地址"))]),a("span",{staticClass:"state-table-col"},[t._v(t._s(e.bills||0))]),a("span",{staticClass:"state-table-col"},[t._v(t._s(e.packages||0))]),a("span",{staticClass:"state-table-col"},[t._v(t._s(e.weights||0))]),a("span",{staticClass:"state-table-col"},[t._v(t._s(e.volumes||0))])])})],2)])])}),1)])],1)}),0):a("div",{staticClass:"right-table-content empty"},[t._v("\n                暂无数据\n              ")])],1)])],1)],1)])]),a("el-backtop",{staticStyle:{color:"#283042"},attrs:{target:".scrollbar-wrap .el-scrollbar__wrap"}}),a("order-list-dialog",{ref:"orderListDialog",attrs:{locked:t.locked}})],1)},n=[],i=(a("8e6e"),a("456d"),a("ac6a"),a("4f7f"),a("5df3"),a("1c4c"),a("bd86")),r=(a("6762"),a("2fdb"),a("55dd"),a("7514"),a("d225")),o=a("b0b4"),l=a("308d"),c=a("6bb5"),u=a("4e2b"),d=a("9ab4"),p=a("60a3"),h=a("5a0c"),m=a.n(h),v=a("b2d1"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.visible,width:"95%","show-close":!1},on:{"update:visible":function(e){t.visible=e},closed:t.close}},[a("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"header-left"},[a("span",{staticClass:"list-icon"}),"fba"===t.showDialogType?a("span",{staticClass:"order"},[t._v("\n        订单："+t._s((t.showDialogData.state||{}).value)+" "+t._s(t.showDialogData.ifFba?t.showDialogData.fbaCode:"私人地址")+"\n      ")]):t._e(),"so"===t.showDialogType?a("span",{staticClass:"order"},[t._v("\n        "+t._s("0"===t.showDialogData.transport?"提单号：":"SO：")+" "+t._s(t.showDialogData.so)+"\n      ")]):t._e(),"transit"===t.showDialogType?a("span",{staticClass:"order"},[t._v("\n        在途订单\n      ")]):t._e(),"transit"===t.showDialogType?a("el-date-picker",{staticStyle:{width:"240px","margin-left":"38px"},attrs:{"unlink-panels":"",clearable:!1,type:"daterange",align:"right",size:"mini","value-format":"yyyy-MM-dd","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"结束时间"},on:{change:t.resetData},model:{value:t.orderTime,callback:function(e){t.orderTime=e},expression:"orderTime"}}):t._e(),a("div",{staticClass:"reset-btn",on:{click:t.resetData}},[a("i",{staticClass:"reset-icon el-icon-refresh"}),a("span",[t._v("刷新")])])],1),"transit"!==t.showDialogType?a("div",{staticClass:"header-right"},[a("div",{staticClass:"right-item"},[a("div",{staticClass:"label"},[t._v("\n          总票数\n        ")]),a("div",{staticClass:"value"},[t._v("\n          "+t._s(t.showDialogData.bills||0)+"\n        ")])]),a("div",{staticClass:"right-item"},[a("div",{staticClass:"label"},[t._v("\n          总件数\n        ")]),a("div",{staticClass:"value"},[t._v("\n          "+t._s(t.showDialogData.packages||0)+"\n        ")])]),a("div",{staticClass:"right-item"},[a("div",{staticClass:"label"},[t._v("\n          总重量\n        ")]),a("div",{staticClass:"value"},[t._v("\n          "+t._s(t.showDialogData.weights||0)+" kg\n        ")])]),a("div",{staticClass:"right-item"},[a("div",{staticClass:"label"},[t._v("\n          总体积\n        ")]),a("div",{staticClass:"value"},[t._v("\n          "+t._s(t.showDialogData.volumes||0)+" m³\n        ")])])]):t._e()]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"dialog-table",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},["transit"!==t.showDialogType?a("div",{staticStyle:{display:"flex","margin-bottom":"20px"}},[a("div",{staticClass:"tabs-wrap"},[a("div",{staticClass:"tabs-item",class:{active:0===t.tableType},on:{click:function(e){return t.tableTypeChange(0)}}},[t._v("\n          订单明细\n        ")]),a("div",{staticClass:"tabs-item",class:{active:1===t.tableType},on:{click:function(e){return t.tableTypeChange(1)}}},[t._v("\n          按仓汇总\n        ")])])]):t._e(),a("el-table",{directives:[{name:"show",rawName:"v-show",value:0===t.tableType,expression:"tableType === 0"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"light"}},[a("el-table-column",{attrs:{label:"订单信息","min-width":"230",prop:"order"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"order-info"},[a("div",{staticClass:"seriver-info"},[a("div",{staticClass:"type"},[t._v("\n              "+t._s((t.transportList.find(function(t){return t.value===e.row.type})||{}).name)+"\n            ")]),a("div",{staticClass:"lscName",attrs:{title:e.row.lsc.value}},[t._v("\n              "+t._s(e.row.lsc.value)+"\n            ")])]),a("div",{staticClass:"code"},[a("span",{directives:[{name:"copy",rawName:"v-copy",value:e.row.code,expression:"scope.row.code"}],staticClass:"copy-icon"}),a("span",[t._v("\n              原单号："+t._s(e.row.code)+"\n            ")])])])}}])}),a("el-table-column",{attrs:{label:"客户名称","min-width":"120","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s((e.row.orderCustomer||{}).name||e.row.updateBy))])]}}])}),a("el-table-column",{attrs:{label:"下单客户","min-width":"120","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return["0"!==t.custType?a("span",[t._v(t._s((e.row.buyer||{}).name))]):a("span",[t._v(t._s((e.row.seller||{}).name))])]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"下单时间",width:"160"}}),a("el-table-column",{attrs:{label:"下单仓库",width:"100","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s((e.row.warehouse||{}).name||"--")+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"货物所在仓","min-width":"100","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s((e.row.warehouse1||{}).name||"--")+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"报关方式",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"===e.row.customs0?a("span",[t._v("普通报关")]):"1"===e.row.customs0?a("span",[t._v("出口退税")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"提货方式",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s((t.pickList.find(function(t){return t.id===(e.row.supplement||{}).pickType})||{}).name)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"派送方式",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s((t.deliveryWayList.find(function(t){return t.id===e.row.deliveryWay})||{}).name)+"\n        ")]}}])}),a("el-table-column",{attrs:{prop:"packages",label:"件数",width:"100"}}),a("el-table-column",{attrs:{prop:"value",label:"金额","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s((e.row.value?e.row.value.toFixed(2):"")+" "+(e.row.currency||{}).key)+"\n        ")]}}])})],1),a("el-table",{directives:[{name:"show",rawName:"v-show",value:1===t.tableType,expression:"tableType === 1"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"light"}},[a("el-table-column",{attrs:{label:"货物所在仓","min-width":"100",prop:"name","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"总件数",prop:"totalQuantity","min-width":"100"}}),a("el-table-column",{attrs:{label:"总体积(m³)",prop:"totalVolume","min-width":"100"}}),a("el-table-column",{attrs:{label:"总重量(kg)",prop:"totalWeight","min-width":"100"}})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":t.pagination.page,"page-size":t.pagination.size,layout:"total, prev, pager, next",total:t.pagination.total},on:{"update:currentPage":function(e){return t.$set(t.pagination,"page",e)},"update:current-page":function(e){return t.$set(t.pagination,"page",e)},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},g=[],b=(a("c5f6"),a("9dba")),w=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.pickList=[{name:"自主送货",id:"0"},{name:"上门提货",id:"1"},{name:"快递发货",id:"2"},{name:"整柜直装",id:"3"}],t.deliveryWayList=[{name:"快递",id:"0"},{name:"卡派",id:"1"},{name:"自提",id:"2"},{name:"整柜直送",id:"3"}],t.transportList=[{value:"0",name:"空运"},{value:"1",name:"海运"},{value:"2",name:"铁路"},{value:"3",name:"快递"},{value:"4",name:"卡航"}],t.visible=!1,t.loading=!1,t.pagination={page:1,size:10,total:0},t.showDialogData={},t.showDialogType="",t.tableData=[],t.orderTime=[],t.tableType=0,t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"tableTypeChange",value:function(t){this.tableType=t,this.tableData=[],this.loadData()}},{key:"show",value:function(t,e){this.visible=!0,this.showDialogData=t,this.showDialogType=e,"transit"===e?(this.orderTime=[m()().startOf("month").format("YYYY-MM-DD"),m()().endOf("month").format("YYYY-MM-DD")],this.tableType=0):this.tableType=1,this.loadData()}},{key:"resetData",value:function(){this.pagination.page=1,this.tableData=[],this.pagination.total=0,this.loadData()}},{key:"loadData",value:function(){var t=this,e={model:"",page:this.pagination.page,size:this.pagination.size};if(0===this.tableType){var a=null;switch(this.showDialogType){case"transit":e.model={startDate:this.orderTime[0],endDate:this.orderTime[1]},a=v["e"];break;case"fba":e.model=this.showDialogData.codes,a=v["b"];break;case"so":e.model={so:this.showDialogData.so,ifLocked:this.locked},a=v["c"];break;default:a=null}if(!a)return;this.loading=!0,a&&a(e).then(function(e){t.loading=!1;var a=e.data||{};t.tableData=a.result||[],t.pagination.total=a.total||0}).catch(function(e){return t.loading=!1,t.tableData=[],t.pagination.total=0,e})}else"fba"===this.showDialogType?e.model={orders:this.showDialogData.codes}:e.model={so:this.showDialogData.so,ifLocked:this.locked},this.loading=!0,Object(v["d"])(e).then(function(e){t.loading=!1;var a=e.data||{};t.tableData=a.result||[],t.pagination.total=a.total||0}).catch(function(e){return t.loading=!1,t.tableData=[],t.pagination.total=0,e})}},{key:"handleSizeChange",value:function(t){this.pagination.size=Number(t),this.loadData()}},{key:"handleCurrentChange",value:function(t){this.pagination.page=Number(t),this.loadData()}},{key:"close",value:function(){this.visible=!1,this.tableData=[],this.pagination={page:1,size:10,total:0},this.showDialogData={},this.showDialogType="",this.tableType=0,this.orderTime=[]}},{key:"custType",get:function(){var t=b["a"].info||{},e=t.custType;return e}}]),e}(p["e"]);w=d["a"]([Object(p["a"])({name:"OrderListDialog",props:{locked:{type:Boolean,default:!1}},components:{}})],w);var y=w,C=y,k=(a("7da6"),a("2877")),_=Object(k["a"])(C,f,g,!1,null,"0d633856",null),x=_.exports,O=a("93bf"),D=a.n(O);function T(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function F(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?T(a,!0).forEach(function(e){Object(i["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):T(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var S=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.locked=!0,t.loading=!1,t.fullscreen=!1,t.deliveryWay={name:"全部",value:"-1"},t.deliveryWayList=[{name:"全部",value:"-1"},{name:"快递",value:"0"},{name:"卡派",value:"1"}],t.sort={name:"默认排序",value:"sortIndex"},t.sortList=[{name:"默认排序",value:"sortIndex"},{name:"总票数",value:"bills"},{name:"总件数",value:"packages"},{name:"总重量",value:"weights"},{name:"总体积",value:"volumes"}],t.openAll=!1,t.openList=[],t.runEndTime="",t.activePlanTab="",t.activeFbaTab="",t.activeTab="",t.timer=null,t.timer2=null,t.today={day:"",week:"",time:""},t.summary={bills:"",packages:"",weights:"",volumes:""},t.typeList=[],t.planList=[],t.planTypeList=[],t.planSummaryList=[],t.fbaList=[],t.fbaTypeList=[],t}return Object(u["a"])(e,t),Object(o["a"])(e,[{key:"showOrderList",value:function(t,e){var a=this.$refs.orderListDialog;"so"===e&&t.so||"fba"===e&&t.codes&&t.codes.length||"transit"===e?a.show(t,e):this.$message.warning("暂无订单")}},{key:"handleFullScreen",value:function(){var t=D.a;t.enabled?t.toggle():this.$message.warning("不支持全屏")}},{key:"handleCommand",value:function(t){this.sort=this.sortList.find(function(e){return e.value===t})||{},this.planList=this.planList.sort(function(e,a){return a[t]-e[t]})}},{key:"handleCommandDeliveryWay",value:function(t){this.deliveryWay=this.deliveryWayList.find(function(e){return e.value===t})||{},this.loadData()}},{key:"openAllList",value:function(){this.openAll=!this.openAll,this.openAll?this.openList=this.planList.map(function(t){return t.id}):this.openList=[]}},{key:"switchOpen",value:function(t){this.openList.includes(t.id)?this.openList=this.openList.filter(function(e){return e!==t.id}):this.openList.push(t.id)}},{key:"getToday",value:function(){var t=this;this.timer=setTimeout(function(){var e=m()().format("YYYY年MM月DD日"),a=m()().format("HH:mm:ss"),s="";switch(m()().day()){case 0:s="星期天";break;case 1:s="星期一";break;case 2:s="星期二";break;case 3:s="星期三";break;case 4:s="星期四";break;case 5:s="星期五";break;case 6:s="星期六";break;default:s=""}t.today={day:e,week:s,time:a},t.getToday()},1e3)}},{key:"loadData",value:function(t){var e=this;clearTimeout(this.timer2);var a=null;1===t&&(a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}));var s={ifLocked:this.locked,deliveryWay:"-1"===this.deliveryWay.value?"":this.deliveryWay.value};Object(v["a"])(s).then(function(t){a&&a.close();var s=t.data||{};e.runEndTime=m()(s.runEndTime).format("YYYY/MM/DD HH:mm:ss"),e.summary={bills:s.bills,packages:s.packages,weights:s.weights,volumes:s.volumes};var n=s.plans||[];e.planList=n.sort(function(t,e){return(t.country||{key:""}).key.localeCompare((e.country||{key:""}).key)}).map(function(t,e){return t.weights=parseFloat((t.weights||0).toFixed(2)),t.volumes=parseFloat((t.volumes||0).toFixed(2)),F({},t,{sortIndex:n.length-e})}).sort(function(t,a){return a[e.sort.value]-t[e.sort.value]});var i=(s.plans||[]).map(function(t){return t.transport}).filter(function(t){return t}).sort();e.planTypeList=Array.from(new Set(i)).map(function(t){var e="";switch(t){case"0":e="空运";break;case"1":e="海运";break;case"2":e="铁路";break;case"3":e="快递";break;case"4":e="卡航";break;default:e=""}return{name:e,value:t}}),e.activePlanTab||(e.activePlanTab=(e.planTypeList[0]||{}).value),e.fbaList=(s.fbas||[]).map(function(t){return t.weights=parseFloat((t.weights||0).toFixed(2)),t.volumes=parseFloat((t.volumes||0).toFixed(2)),t}).sort(function(t,e){return(t.country||{key:""}).key.localeCompare((e.country||{key:""}).key)});var r=(s.fbas||[]).map(function(t){return t.transport}).filter(function(t){return t}).sort();e.fbaTypeList=Array.from(new Set(r)).map(function(t){var e="";switch(t){case"0":e="空运";break;case"1":e="海运";break;case"2":e="铁路";break;case"3":e="快递";break;case"4":e="卡航";break;default:e=""}return{name:e,value:t}}),e.activeFbaTab||(e.activeFbaTab=(e.fbaTypeList[0]||{}).value),e.typeList=Array.from(new Set(i.concat(r))).map(function(t){var e="";switch(t){case"0":e="空运";break;case"1":e="海运";break;case"2":e="铁路";break;case"3":e="快递";break;case"4":e="卡航";break;default:e=""}return{name:e,value:t}}),e.activeTab||(e.activeTab=(e.typeList[0]||{}).value),e.getPlanSummary(),e.timer2=setTimeout(function(){e.loadData()},6e5)}).catch(function(t){return a&&a.close(),e.timer2=setTimeout(function(){e.loadData()},6e5),t})}},{key:"screenfullChange",value:function(t){this.fullscreen=!this.fullscreen}},{key:"windowKeydown",value:function(t){t&&122===t.keyCode&&t.preventDefault()}},{key:"activePlanTabChange",value:function(t){this.activeTab=t.value,this.activePlanTab=t.value,this.activeFbaTab=t.value,this.getPlanSummary()}},{key:"getPlanSummary",value:function(){var t=this,e={ifLocked:this.locked};Object(v["f"])(e).then(function(e){t.planSummaryList=e.data||[]}).catch(function(e){return t.planSummaryList=[],e})}},{key:"created",value:function(){var t=this,e=D.a;e.on("change",this.screenfullChange),this.getToday(),this.loadData(1),window.addEventListener("keydown",this.windowKeydown),this.$once("hook:beforeDestroy",function(){clearTimeout(t.timer),clearTimeout(t.timer2),e.off("change",t.screenfullChange),window.removeEventListener("keydown",t.windowKeydown)})}},{key:"planSummary",get:function(){var t=this;return this.planSummaryList.filter(function(e){return e.transport===t.activePlanTab}).reduce(function(t,e){return t.total+=e.total,t.success+=e.completed,t.error+=e.incomplete,t},{total:0,success:0,error:0})}},{key:"planGroupByCountryList",get:function(){var t=this;return this.planList.reduce(function(e,a){if(a.transport===t.activeTab){var s=e.find(function(t){return t.key===(a.country||{}).key});s?(s.planNum=s.planNum+(2===a.status?1:0),s.list.push(a)):e.push({planNum:2===a.status?1:0,country:a.country,key:(a.country||{}).key,list:[a]})}return e},[]).map(function(e){var a={total:0,success:0,error:0},s=t.planSummaryList.filter(function(e){return e.transport===t.activePlanTab}).find(function(t){return t.countryId===(e.country||{}).key});return s&&(a.total=s.total,a.success=s.completed,a.error=s.incomplete),F({},e,{},a)})}},{key:"fbaListGroupList",get:function(){var t=this,e=this.fbaList.reduce(function(e,a){if(a.transport===t.activeTab){var s=e.find(function(t){return t.key===(a.country||{}).key});s?s.list.push(a):e.push({country:a.country,key:(a.country||{}).key,list:[a]})}return e},[]);return e.map(function(t){var e=t.list.reduce(function(t,e){return t.bills+=e.bills,t.packages+=e.packages,t.weights=parseFloat((t.weights+e.weights).toFixed(3)),t.volumes=parseFloat((t.volumes+e.volumes).toFixed(3)),t},{bills:0,packages:0,weights:0,volumes:0}),a=t.list.reduce(function(t,e){var a=t.find(function(t){return t.key===(e.state||{}).key});return a?a.list.push(e):t.push({state:e.state,key:(e.state||{}).key,list:[e]}),t},[]);return a.forEach(function(t){t.list=t.list.sort(function(t,e){return(t.fbaCode||"ZZZ9").localeCompare(e.fbaCode||"ZZZ9")})}),F({country:t.country,key:t.key,list:a},e)})}}]),e}(p["e"]);S=d["a"]([Object(p["a"])({name:"Kanban",components:{OrderListDialog:x}})],S);var A=S,L=A,I=(a("abb6"),Object(k["a"])(L,s,n,!1,null,"037fb23d",null));e["default"]=I.exports},c83c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABBCAYAAACO98lFAAAAAXNSR0IArs4c6QAABiZJREFUeF7tXH+IVFUU/r47y64rhuLqSqghmH9YCUJ/FVqCUGz4W1eysLRAIYgsRREMEaJSkgzDUtwsDCVpTXTJvyTJkBAEwTBUAilLdtfdNMNtF9/54r2Z3Z03MzvOvJl1dfe9v+a9d86953znu+ede9/cR2Qcqquraq+uHgtypAdU0jmXKfOgncvMEkAXpJujOzpaefx4Z7oPTD+5Xl8/Xp43DolE6PqD5nReez1P7OpqHtPU9Ge3XLezbJk3bzKrqkYOKofzOKPOzptjjx79jYACENoWLZpgicS4oQJAt5/O85prDh++Ss2aNez66NGPDeoh0Fd0PU9j2tsvsG3+/IlWWVk71FjQw4aurhZeW7z48Qrnhg1VEO6Y/ce/6+un3wESQxWECsBja339k0MVgJ5HZAwCEDMBMQjBiIiZEIOQTI0xE2IQ7hETJH0McGakWkS65YjlIq9G0i9Qqd+Hg0zHQD5coD1ZYpKtds6djapfiF4Mwr3ICTETAMQgxCAkU5KEvZDSl+6qQY7KmbAkfxW4PXxPG+ncL4UkuKgy/Z4YMw0zaS7BzbkN1lmSq6M6E1WvbCCYVEPxLRDT8xojDc/LBLItvzNqk/ipcyjbY7NsIEjYB2Ba1GgUo0fpjkEvOueuFKPXl2y5QBgh4WQ5DCq0DULbQR4sVD6fXFlAkNkToPuyHAYV3IbQSIcPCpbPI1gWECAtFbi+HAYV2gahCyBfKVT+HjBB60EuLYdBBbch3abjMwXL9zcTJO0D2JMUCVwEcSmoE0yzQQ7vsUG4RIeL/rkZppGYlG6fpBYHnjbgmn+d1CQIz4baSClItqQcybEsw0GmH9ONlLDHOexJgZA+i2w26OUEeUNmkwHuS9PzAO105EEBXkbgRsCwVsTcEGCmDS7BE6WyoWQQKE0w8Eg4mjlB8GDeaiYS5wRUy7A/xAJhDR1+8ttxQCWMU82pQsAFAh3yvOlwib0hh2UNdO6zAQfBPM2i40d3B0E7SH6dHAbaSnJ27xDRITpuC5iTdPZDAGOC+9ItEA0QVmQXWTpJct2AgyDpNYBv5AOB9HNE0liTlhFcGzZcL5BsATBCpiN9VpTZ3v5FYt6Ag2DSViItqslJU09OMGGXI/zH579+lEn3uciKtER5hQ5LkkHXYoAbi3KKmOkPl6J0MoRLzgkyfIusDJ8Ogmpcaj4QJEO6Awi9ANYpkm+n7NokYUFyGOAPOpxLt9dMT5OsycgLK0qdZZYEgp/gIJzKjEI6EzLvmWktyWXd10kcA7Aldb5ZSj4BMq6n0oN2Awy9QCa0DeShAWMCzaYa3f67gWCGVQnYKTn3qz/uzdTYHVFBZxxTOcXwjoiXku3pNMmvaOyUU7CeIGWDAPUm1ahAlMaEPsZwuE7AUyB2AjhPYmXKmQUAN6V+tznH54PfhhkgdoTprmt0DNiREwToPMmg3ahHSSAgFLleE0LDwfCdiImp6L5L8njSod6pt5Mt91lCIOEnUgC9lNddQChD+VwSCBJ2hwxO4ZCvYkwQCw3oSg0lf+aZSB8SQZ4xvA5gJqDhAk46x+19MwEgNBdkUGZHOUoDwfQDyIfy5YTM1WbJ9jjngpIahk1i8mlA4QAdPslRMgeiPks8wwESk7P6M61zCUZez4gMgqRagN/nQt53CFSw4GFCA8nef8dJnYRWgrxl0iiCe0FWpdo5B1mDc+5MNxh+CW2GGSJWAXg0d6S1i+QXUVgQABz17zoymwG6cBKLakU2lW6DvBFclmrSQMrZg6ATjtwQtfvoIEivAnwzasdl1RN6qs4o7UYGwaT3CT4XpdN+0SmhfI4MggzfIEeS6hcHC2i0+zFbgGiWSGQQYPo5NBGK0nsZdQRtcaRfghd9RAbBTGtITC26x/5R8F/fvZeajhfdQ2QQiu7pPlaIQSilTriPA1u0aTETYiYkSRMzIQYhxYR45wu8eA+UvwdqyO+G87zmeF+kvy/STw3tc+Y84vmbxIfY0dXR0Tq+qen3AAQBvL5w4RRUVGStFw5WXGT2T21j4+WgTkh30t81b2a1g+FzAX0Fz/+MQGdnZ8vEHLvme3Qu19VVjR7E309o7+honZLx/YT/AUdcIBw2cAixAAAAAElFTkSuQmCC"},dc2b:function(t,e,a){},fb57:function(t,e,a){},fba9:function(t,e,a){t.exports={menuBg:"#304156",menuText:"#bfcbd9",menuActiveText:"#409EFF"}}}]);