(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["risk-control~whole-order"],{"096f":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"dashboard-container",staticStyle:{flex:"1",overflow:"auto"}},[r("div",{staticClass:"app-container"},[r("head-info",{attrs:{info:"",title:"商品审核"}},[r("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"option"},slot:"option"},[r("div",{staticClass:"order-info",staticStyle:{"white-space":"nowrap",flex:"1",padding:"0 10px"}},[t._v("\n          起运国："+t._s((t.orderInfo.lscConfig||{}).countryName)+"\n        ")]),r("div",{staticClass:"order-info",staticStyle:{"white-space":"nowrap",flex:"1",padding:"0 10px"}},[t._v("\n          目的国："+t._s((t.orderInfo.country||{}).value)+"\n        ")]),r("div",{staticClass:"order-info",staticStyle:{"white-space":"nowrap",flex:"1",padding:"0 10px"}},[t._v("\n          总箱数："+t._s(t.orderInfo.packages)+"\n        ")]),r("div",{staticClass:"order-info",staticStyle:{"white-space":"nowrap",flex:"1",padding:"0 10px"}},[t._v("\n          总货值："+t._s(t.orderInfo.value)+" "+t._s((t.orderInfo.currency||{}).key)+"\n        ")]),r("div",{staticClass:"order-info",staticStyle:{"white-space":"nowrap",flex:"1",padding:"0 10px"}},[t._v("\n          总税金："+t._s(t.tax)+"\n        ")]),r("el-button",{attrs:{size:"small",icon:"el-icon-refresh-right"},on:{click:t.loadData}},[r("span",[t._v("刷新")])]),r("el-button",{attrs:{size:"small",icon:"el-icon-back"},on:{click:t.handleBack}},[r("span",[t._v("返回")])])],1)]),r("div",{staticStyle:{background:"#fff",padding:"10px 20px","margin-top":"10px"}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableDataPage,height:"calc(100vh - 313px)",border:""}},[r("el-table-column",{attrs:{width:"230",fixed:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",{staticStyle:{margin:"0"}},[t._v("\n              "+t._s(e.row.goodsName)+"\n            ")]),r("p",{staticStyle:{margin:"0"}},[t._v("\n              "+t._s(e.row.goodsAlias)+"\n            ")])]}}])},[r("template",{slot:"header"},[r("p",{staticStyle:{margin:"0"}},[t._v("\n              商品名称(中文)\n            ")]),r("p",{staticStyle:{margin:"0"}},[t._v("\n              商品名称(英文)\n            ")])])],2),r("el-table-column",{attrs:{label:"审核状态",fixed:"left",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){return t.showAudit(e.row)}}},[t._v("\n              "+t._s((t.auditList.find(function(t){return t.id===e.row.auditStatus})||{}).name)+"\n            ")])]}}])}),r("el-table-column",{attrs:{label:"认证文件",fixed:"left",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){return t.showFileList(e.row,e.$index)}}},[t._v("\n              认证文件\n            ")])]}}])}),r("el-table-column",{attrs:{label:"海关编码",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.hsCode)+"\n          ")]}}])}),r("el-table-column",{attrs:{label:"商品数量",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.goodNum)+"\n          ")]}}])}),r("el-table-column",{attrs:{label:"申报金额","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(parseFloat((e.row.goodNum*e.row.price).toFixed(3)))+" "+t._s((t.orderInfo.currency||{}).key)+"\n          ")]}}])}),r("el-table-column",{attrs:{label:"税金",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.tax)+"\n          ")]}}])}),r("el-table-column",{attrs:{label:"品牌/型号",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.brand)+" / "+t._s(e.row.model)+"\n          ")]}}])}),r("el-table-column",{attrs:{width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",{staticStyle:{margin:"0"}},[t._v("\n              "+t._s(e.row.materialZh)+"\n            ")]),r("p",{staticStyle:{margin:"0"}},[t._v("\n              "+t._s(e.row.materialEn)+"\n            ")])]}}])},[r("template",{slot:"header"},[r("p",{staticStyle:{margin:"0"}},[t._v("\n              材质(中文)\n            ")]),r("p",{staticStyle:{margin:"0"}},[t._v("\n              材质(英文)\n            ")])])],2),r("el-table-column",{attrs:{width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",{staticStyle:{margin:"0"}},[t._v("\n              "+t._s(e.row.usageZh)+"\n            ")]),r("p",{staticStyle:{margin:"0"}},[t._v("\n              "+t._s(e.row.usageEn)+"\n            ")])]}}])},[r("template",{slot:"header"},[r("p",{staticStyle:{margin:"0"}},[t._v("\n              用途(中文)\n            ")]),r("p",{staticStyle:{margin:"0"}},[t._v("\n              用途(英文)\n            ")])])],2),r("el-table-column",{attrs:{label:"计量单位",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.unitName)+"\n          ")]}}])}),r("el-table-column",{attrs:{label:"商品类别",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.categoryName)+"\n          ")]}}])}),r("el-table-column",{attrs:{label:"来源",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.productId?"产品库":"新增产品")+"\n          ")]}}])}),r("el-table-column",{attrs:{label:"添加时间","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.createTime)+"\n          ")]}}])})],1),r("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":t.pagination.page,"page-size":t.pagination.size,layout:"total, prev, pager, next",total:t.pagination.total},on:{"update:currentPage":function(e){return t.$set(t.pagination,"page",e)},"update:current-page":function(e){return t.$set(t.pagination,"page",e)},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),r("el-dialog",{attrs:{visible:t.visible,width:"1100px",title:"商品审核","close-on-click-modal":!1},on:{close:t.closeDialog}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogLoading,expression:"dialogLoading"}]},[r("div",{staticClass:"dialog-order-info"},[r("div",{staticClass:"dialog-order-info-item w100"},[r("div",{staticClass:"label"},[t._v("\n            商品图片：\n          ")]),r("div",{staticClass:"value"},[r("div",{staticClass:"preview-img-wrap"},[r("div",{staticClass:"preview-img"},[r("img",{attrs:{src:t.showDialogRow.fileUrl}}),r("div",{staticClass:"mask"},[r("i",{staticClass:"el-icon-view mask-view-icon",on:{click:function(e){return t.handlePreview(t.showDialogRow.fileUrl)}}})])])])])]),r("div",{staticClass:"dialog-order-info-item w50"},[r("div",{staticClass:"label"},[t._v("\n            中文名称：\n          ")]),r("div",{staticClass:"value"},[t._v("\n            "+t._s(t.showDialogRow.goodsName)+"\n          ")])]),r("div",{staticClass:"dialog-order-info-item w50"},[r("div",{staticClass:"label"},[t._v("\n            英文名称：\n          ")]),r("div",{staticClass:"value"},[t._v("\n            "+t._s(t.showDialogRow.goodsAlias)+"\n          ")])]),r("div",{staticClass:"dialog-order-info-item w50"},[r("div",{staticClass:"label"},[t._v("\n            品牌名称：\n          ")]),r("div",{staticClass:"value"},[t._v("\n            "+t._s(t.showDialogRow.brand)+"\n          ")])]),r("div",{staticClass:"dialog-order-info-item w50"},[r("div",{staticClass:"label"},[t._v("\n            商品型号：\n          ")]),r("div",{staticClass:"value"},[t._v("\n            "+t._s(t.showDialogRow.model)+"\n          ")])]),r("div",{staticClass:"dialog-order-info-item w50"},[r("div",{staticClass:"label"},[t._v("\n            中文材质：\n          ")]),r("div",{staticClass:"value"},[t._v("\n            "+t._s(t.showDialogRow.materialZh)+"\n          ")])]),r("div",{staticClass:"dialog-order-info-item w50"},[r("div",{staticClass:"label"},[t._v("\n            英文材质：\n          ")]),r("div",{staticClass:"value"},[t._v("\n            "+t._s(t.showDialogRow.materialEn)+"\n          ")])]),r("div",{staticClass:"dialog-order-info-item w50"},[r("div",{staticClass:"label"},[t._v("\n            中文用途：\n          ")]),r("div",{staticClass:"value"},[t._v("\n            "+t._s(t.showDialogRow.usageZh)+"\n          ")])]),r("div",{staticClass:"dialog-order-info-item w50"},[r("div",{staticClass:"label"},[t._v("\n            英文用途：\n          ")]),r("div",{staticClass:"value"},[t._v("\n            "+t._s(t.showDialogRow.usageEn)+"\n          ")])]),r("div",{staticClass:"dialog-order-info-item w50"},[r("div",{staticClass:"label"},[t._v("\n            计量单位：\n          ")]),r("div",{staticClass:"value"},[t._v("\n            "+t._s(t.showDialogRow.unitName)+"\n          ")])]),r("div",{staticClass:"dialog-order-info-item w50"},[r("div",{staticClass:"label"},[t._v("\n            商品数量：\n          ")]),r("div",{staticClass:"value"},[t._v("\n            "+t._s(t.showDialogRow.goodNum)+"\n          ")])]),r("div",{staticClass:"dialog-order-info-item w50"},[r("div",{staticClass:"label"},[t._v("\n            商品单价：\n          ")]),r("div",{staticClass:"value"},[t._v("\n            "+t._s(t.showDialogRow.price)+"\n          ")])])]),r("el-form",{ref:"form",staticStyle:{"padding-top":"20px"},attrs:{model:t.form,rules:t.formRules,"label-width":"90px",size:"small"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"审核结果",prop:"auditStatus"}},[r("el-radio-group",{attrs:{disabled:1===t.auditStatus},model:{value:t.form.auditStatus,callback:function(e){t.$set(t.form,"auditStatus",e)},expression:"form.auditStatus"}},[r("el-radio",{attrs:{label:1}},[t._v("\n                  通过\n                ")]),r("el-radio",{attrs:{label:2}},[t._v("\n                  拒绝\n                ")])],1)],1),r("el-form-item",{attrs:{label:"商品类别",prop:"categoryId"}},[r("el-input",{attrs:{size:"small",disabled:"",placeholder:"请选择商品分类"},model:{value:t.form.categoryName,callback:function(e){t.$set(t.form,"categoryName",e)},expression:"form.categoryName"}},[r("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-search",disabled:1===t.auditStatus},on:{click:t.showCategoryDialog},slot:"append"})],1)],1)],1),r("el-col",{attrs:{span:12}},[2===t.form.auditStatus?r("el-form-item",{attrs:{label:"拒绝原因",prop:"remarks"}},[r("el-input",{attrs:{type:"textarea",disabled:1===t.auditStatus,rows:3,size:"small",placeholder:"请输入"},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1):r("el-form-item",{attrs:{label:"备注"}},[r("el-input",{attrs:{type:"textarea",disabled:1===t.auditStatus,rows:3,size:"small",placeholder:"请输入"},model:{value:t.form.remarks,callback:function(e){t.$set(t.form,"remarks",e)},expression:"form.remarks"}})],1)],1)],1),1!==t.auditStatus?r("div",{staticStyle:{"text-align":"right","padding-bottom":"10px"}},[r("el-button",{attrs:{slot:"footer",type:"primary",size:"mini"},on:{click:t.saveAuditClick},slot:"footer"},[t._v("\n            保存\n          ")])],1):t._e()],1),1!==t.auditStatus||t.productList.length?r("div",{staticClass:"dialog-table"},[1!==t.auditStatus?r("div",{staticClass:"search-form"},[r("div",{staticClass:"search-form-item"},[r("div",{staticClass:"label"},[t._v("\n              商品中文名称\n            ")]),r("div",{staticClass:"form-input"},[r("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.searchForm.nameZh,callback:function(e){t.$set(t.searchForm,"nameZh",e)},expression:"searchForm.nameZh"}},[r("el-button",{attrs:{slot:"append",type:"primary"},on:{click:function(e){return t.getProductList(1)}},slot:"append"},[t._v("\n                  查询\n                ")])],1)],1)]),r("div",{staticClass:"search-form-item"},[r("div",{staticClass:"label"},[t._v("\n              商品英文名称\n            ")]),r("div",{staticClass:"form-input"},[r("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.searchForm.nameEn,callback:function(e){t.$set(t.searchForm,"nameEn",e)},expression:"searchForm.nameEn"}},[r("el-button",{attrs:{slot:"append",type:"primary"},on:{click:function(e){return t.getProductList(1)}},slot:"append"},[t._v("\n                  查询\n                ")])],1)],1)])]):t._e(),t.selectRow.id?r("div",{staticClass:"select-row-info"},[r("div",{staticClass:"info-item option"},[1!==t.auditStatus?r("i",{staticClass:"el-icon-close",staticStyle:{cursor:"pointer"},on:{click:t.clearSelectRow}}):t._e()]),r("div",{staticClass:"info-item name"},[r("p",[t._v("\n              "+t._s(t.selectRow.cnName)+"\n            ")]),r("p",[t._v("\n              "+t._s(t.selectRow.enName)+"\n            ")])]),r("div",{staticClass:"info-item code"},[r("p",[t._v("\n              "+t._s(t.selectRow.code||"--")+"\n            ")]),r("p",[t._v("\n              "+t._s(t.selectRow.skuCode||"--")+"\n            ")])]),r("div",{staticClass:"info-item product-class"},[t._v("\n            "+t._s(t.selectRow.title)+"\n          ")]),r("div",{staticClass:"info-item unit"},[r("p",[t._v("\n              "+t._s(t.selectRow.price)+"\n            ")]),r("p",[t._v("\n              "+t._s(t.selectRow.unitName)+"\n            ")])]),r("div",{staticClass:"info-item model"},[r("p",[t._v("\n              "+t._s(t.selectRow.brand)+"\n            ")]),r("p",[t._v("\n              "+t._s(t.selectRow.size)+"\n            ")])]),r("div",{staticClass:"info-item caizhi"},[r("p",[t._v("\n              "+t._s(t.selectRow.cnMaterial)+"\n            ")]),r("p",[t._v("\n              "+t._s(t.selectRow.enMaterial)+"\n            ")])]),r("div",{staticClass:"info-item yongtu"},[r("p",[t._v("\n              "+t._s(t.selectRow.cnPurpose)+"\n            ")]),r("p",[t._v("\n              "+t._s(t.selectRow.enPurpose)+"\n            ")])])]):t._e(),t.costList.length?r("div",{staticClass:"cost-info"},t._l(t.costList,function(e){return r("div",{key:e.value,staticClass:"cost-info-item"},[r("div",{staticClass:"label"},[t._v("\n              "+t._s(e.name)+"：\n            ")]),r("div",{staticClass:"value"},[t._v("\n              "+t._s(e.value)+"\n            ")])])}),0):t._e(),r("div",{staticClass:"product-list"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingProduct,expression:"loadingProduct"}],staticStyle:{width:"100%"},attrs:{data:t.productList,"max-height":"300px",border:""}},[r("el-table-column",{attrs:{width:"57"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticStyle:{"text-align":"center"}},[r("el-radio",{attrs:{disabled:1===t.auditStatus,label:e.row.libraryId},on:{change:t.selectRowChange},model:{value:t.selectRowId,callback:function(e){t.selectRowId=e},expression:"selectRowId"}},[t._v("\n                     \n                  ")])],1)]}}],null,!1,2884085079)}),r("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",{staticStyle:{margin:"0"}},[t._v("\n                  "+t._s(e.row.cnName)+"\n                ")]),r("p",{staticStyle:{margin:"0"}},[t._v("\n                  "+t._s(e.row.enName)+"\n                ")])]}}],null,!1,1662995794)},[r("template",{slot:"header"},[r("p",{staticStyle:{margin:"0"}},[t._v("\n                  商品名称(中文)\n                ")]),r("p",{staticStyle:{margin:"0"}},[t._v("\n                  商品名称(英文)\n                ")])])],2),r("el-table-column",{attrs:{label:"商品类别",width:"83"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.title)+"\n              ")]}}],null,!1,847360861)}),r("el-table-column",{attrs:{label:"价格/单位",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.price+" / "+e.row.unitName)+"\n              ")]}}],null,!1,151664222)}),r("el-table-column",{attrs:{width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",{staticStyle:{margin:"0"}},[t._v("\n                  "+t._s(e.row.brand)+"\n                ")]),r("p",{staticStyle:{margin:"0"}},[t._v("\n                  "+t._s(e.row.size)+"\n                ")])]}}],null,!1,2762241482)},[r("template",{slot:"header"},[r("p",{staticStyle:{margin:"0"}},[t._v("\n                  品牌\n                ")]),r("p",{staticStyle:{margin:"0"}},[t._v("\n                  型号\n                ")])])],2),r("el-table-column",{attrs:{width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",{staticStyle:{margin:"0"}},[t._v("\n                  "+t._s(e.row.cnMaterial)+"\n                ")]),r("p",{staticStyle:{margin:"0"}},[t._v("\n                  "+t._s(e.row.enMaterial)+"\n                ")])]}}],null,!1,2489389714)},[r("template",{slot:"header"},[r("p",{staticStyle:{margin:"0"}},[t._v("\n                  材质(中文)\n                ")]),r("p",{staticStyle:{margin:"0"}},[t._v("\n                  材质(英文)\n                ")])])],2),r("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",{staticStyle:{margin:"0"}},[t._v("\n                  "+t._s(e.row.cnPurpose)+"\n                ")]),r("p",{staticStyle:{margin:"0"}},[t._v("\n                  "+t._s(e.row.enPurpose)+"\n                ")])]}}],null,!1,1088878738)},[r("template",{slot:"header"},[r("p",{staticStyle:{margin:"0"}},[t._v("\n                  用途(中文)\n                ")]),r("p",{staticStyle:{margin:"0"}},[t._v("\n                  用途(英文)\n                ")])])],2),r("el-table-column",{attrs:{label:"商品图片",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"preview-img-wrap"},[r("div",{staticClass:"preview-img"},[r("img",{attrs:{src:t.ossFileUrl+e.row.url}}),r("div",{staticClass:"mask"},[r("i",{staticClass:"el-icon-view mask-view-icon",on:{click:function(r){return t.handlePreview(t.ossFileUrl+e.row.url)}}})])])])]}}],null,!1,1738252303)})],1),r("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":t.dialogPagination.page,"page-size":t.dialogPagination.size,layout:"total, prev, pager, next",total:t.dialogPagination.total},on:{"update:currentPage":function(e){return t.$set(t.dialogPagination,"page",e)},"update:current-page":function(e){return t.$set(t.dialogPagination,"page",e)},"size-change":t.dialogPaginationSizeChange,"current-change":t.dialogPaginationCurrentChange}})],1)]):t._e()],1)]),r("el-dialog",{attrs:{title:"商品照片",visible:t.dialogVisible,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("img",{attrs:{width:"100%",src:t.previewUrl}})]),r("el-dialog",{attrs:{visible:t.showFileModel,width:"850px",title:"认证文件","close-on-click-modal":!1},on:{close:t.hideFileList}},[r("div",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.innerTableLoading,expression:"innerTableLoading"}],attrs:{data:t.fileList}},[r("el-table-column",{attrs:{width:"100",property:"status",label:"文件状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s((t.fileStatus.find(function(t){return t.id===e.row.status})||{}).name)+"\n          ")]}}])}),r("el-table-column",{attrs:{"min-width":"150",property:"fileName",label:"文件名"}}),r("el-table-column",{attrs:{"min-width":"150",label:"拒绝原因"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(4===e.row.status?e.row.reason:"")+"\n          ")]}}])}),r("el-table-column",{attrs:{width:"250",property:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return r("div",{staticStyle:{display:"flex","align-items":"center"}},[2!==e.row.status&&3!==e.row.status?r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){return t.delFileItem(e.$index,e.row)}}},[t._v("\n              删除\n            ")]):t._e(),e.row.url?r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){return t.downloadFileItem(e.row.url)}}},[t._v("\n              文件下载\n            ")]):t._e(),r("el-upload",{staticStyle:{display:"inline-block",margin:"0 10px"},attrs:{action:"",multiple:!1,limit:1,"show-file-list":!1,"http-request":function(r){return t.uploadFile(r,e.row)}}},[r("el-button",{attrs:{size:"small",type:"text"}},[e.row.url?r("span",[t._v("重新上传")]):r("span",[t._v("上传")])])],1),e.row.url&&1===e.row.status?r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){return t.auditFileItem(2,e.$index)}}},[t._v("\n              审核\n            ")]):t._e(),e.row.url&&2===e.row.status?r("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"text",size:"mini"},on:{click:function(r){return r.stopPropagation(),t.auditFileItem(3,e.$index)}}},[t._v("\n              审核通过\n            ")]):t._e(),r("el-popover",{attrs:{placement:"bottom",width:"300",title:"",trigger:"manual"},on:{click:function(t){t.stopPropagation()}},model:{value:e.row.isShowPopover,callback:function(r){t.$set(e.row,"isShowPopover",r)},expression:"inScope.row.isShowPopover"}},[r("div",{staticClass:"form",staticStyle:{display:"flex"}},[r("div",{staticStyle:{"white-space":"nowrap","margin-right":"5px"}},[t._v("\n                  拒绝原因\n                ")]),r("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},placeholder:"请输入内容"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1),r("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[r("el-button",{attrs:{size:"mini"},on:{click:t.popoverHide}},[t._v("\n                  取消\n                ")]),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return t.auditFileItem(4,e.$index)}}},[t._v("\n                  保存\n                ")])],1),r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.url&&2===e.row.status,expression:"inScope.row.url && inScope.row.status === 2"}],attrs:{slot:"reference",type:"text",size:"mini"},on:{click:function(r){return r.stopPropagation(),t.popoverShow(e.row)}},slot:"reference"},[t._v("\n                审核拒绝\n              ")])],1)],1)}}])})],1)],1)]),r("el-dialog",{attrs:{title:"商品类别",visible:t.categoryVisible,width:"800px","append-to-body":""},on:{"update:visible":function(e){t.categoryVisible=e}}},[r("div",{staticClass:"search-input"},[r("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}}),r("el-button",{attrs:{type:"text",size:"mini"},on:{click:t.clearSelect}},[t._v("\n        清除选择\n      ")])],1),r("div",{staticClass:"modal-content"},[r("div",{staticClass:"left-box"},[r("div",{staticClass:"content-title"},[r("div",{staticClass:"title"},[t._v("\n            已选择\n          ")]),r("div",{staticClass:"country"},[t._v("\n            "+t._s(t.form.categoryName)+"\n          ")])]),t.productClassList.length?r("div",{staticClass:"left-content"},t._l(t.productClassList,function(e){return r("div",{key:e.value,staticClass:"item",class:{active:t.selectCategory.value===e.value},on:{click:function(r){return t.selectCategoryClick(e)}}},[t._v("\n            "+t._s(e.label)+"\n          ")])}),0):r("el-empty",{attrs:{description:"暂无数据"}})],1),r("div",{staticClass:"right-box"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.subProductClassList,height:"500px",border:""}},[r("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticStyle:{"text-align":"center"}},[r("el-radio",{attrs:{label:e.row.value},on:{change:t.selectCategoryChange},model:{value:t.form.categoryId,callback:function(e){t.$set(t.form,"categoryId",e)},expression:"form.categoryId"}},[t._v("\n                   \n                ")])],1)]}}])}),r("el-table-column",{attrs:{label:"所属大类",prop:"pCategory"}}),r("el-table-column",{attrs:{label:"类别名称",prop:"label"}}),r("el-table-column",{attrs:{label:"备注","show-overflow-tooltip":"",prop:"remarks"}})],1)],1)])])],1)},n=[],i=(r("8e6e"),r("456d"),r("a481"),r("75fc")),o=r("bd86"),s=(r("ac6a"),r("7f7f"),r("28a5"),r("7514"),r("d225")),l=r("b0b4"),c=r("308d"),u=r("6bb5"),d=r("4e2b"),m=r("9ab4"),f=r("60a3"),p=r("2d66"),v=r("8461"),h=r("b32d");function g(t){var e={url:"/orders/fullorder/audit_product",method:"post",data:t};return Object(h["a"])(e)}function b(t){var e={url:"/orders/fullorder/audit_product_file",method:"post",data:t};return Object(h["a"])(e)}function y(t){var e={url:"/price/customs_price/get_rates",method:"get",params:t};return Object(h["a"])(e)}function w(t){var e={url:"/setting/product/get_tree",method:"post",data:t};return Object(h["a"])(e)}function _(t){var e={url:"/setting/library/get_product",method:"post",data:t};return Object(h["a"])(e)}var k=r("5c49");function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(r,!0).forEach(function(e){Object(o["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var C=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.ossFileUrl="https://file.jhtinfo.net/",t.reason="",t.auditStatus="",t.keyWord="",t.loading=!1,t.categoryVisible=!1,t.loadingProduct=!1,t.dialogLoading=!1,t.visible=!1,t.showFileModel=!1,t.dialogVisible=!1,t.previewUrl=!1,t.innerTableLoading=!1,t.clearanceChecked=!1,t.transportChecked=!1,t.selectRowId="",t.clearanceSelectList=[],t.productList=[],t.clearanceList=[],t.transportSelectList=[],t.transportList=[],t.tableData=[],t.fileList=[],t.fileListCopy=[],t.allProductClassList=[],t.costList=[],t.auditList=[{id:0,name:"待审核"},{id:1,name:"已通过"},{id:2,name:"已拒绝"}],t.fileStatus=[{id:0,name:"待上传"},{id:1,name:"待审核"},{id:2,name:"审核中"},{id:3,name:"审核通过"},{id:4,name:"审核拒绝"}],t.whiteCountryList=[{countryId:"CN",currencyId:"RMB"}],t.pagination={page:1,size:10,total:0},t.dialogPagination={page:1,size:10,total:0},t.orderInfo={},t.lscConfig={},t.searchForm={range:"1",nameZh:"",nameEn:""},t.showDialogRow={},t.selectRow={},t.selectCategory={},t.form={categoryId:"",categoryName:"",suggestedPrice:"",remarks:"",auditStatus:1},t.formRules={auditStatus:[{required:!0,message:"请选择审核",trigger:"blur"}],remarks:[{required:!0,message:"请填写拒绝原因",trigger:"blur"}],categoryId:[{required:!0,message:"请选择商品类别",trigger:"change"}]},t.orderId="",t.showFileListRow=0,t}return Object(d["a"])(e,t),Object(l["a"])(e,[{key:"mounted",value:function(){document.body.addEventListener("click",this.popoverHide)}},{key:"beforeDestroy",value:function(){document.body.removeEventListener("click",this.popoverHide)}},{key:"popoverHide",value:function(){this.fileList=this.fileList.map(function(t){return t.isShowPopover=!1,t})}},{key:"showCategoryDialog",value:function(){var t=this;this.categoryVisible=!0,this.selectCategory=this.allProductClassList.find(function(e){var r=e.children.find(function(e){return e.value===t.form.categoryId});return!!r})||{}}},{key:"clearSelect",value:function(){this.form.categoryId="",this.form.categoryName=""}},{key:"selectCategoryClick",value:function(t){this.selectCategory=t}},{key:"selectCategoryChange",value:function(){var t=this,e=this.subProductClassList.find(function(e){return e.value===t.form.categoryId})||{};this.form.categoryName=e.label,this.categoryVisible=!1}},{key:"uploadFile",value:function(t,e){var r=this,a=new FormData,n=new File([t.file],t.file.name.split(".")[0]+(new Date).getTime()+"."+t.file.name.split(".")[1],{type:t.file.type});a.append("file",n),this.innerTableLoading=!0,Object(k["s"])(a).then(function(t){if(t.success){var a=t.data;e.url=a.objectName,e.status=1,r.saveFileList(e)}else r.innerTableLoading=!1,r.$message.error("文件上传失败")}).catch(function(t){return r.innerTableLoading=!1,r.$message.error("文件上传失败"),t})}},{key:"saveAuditClick",value:function(){var t=this,e=this.$refs.form;e.validate(function(e){if(e){if(2===t.form.auditStatus&&!t.form.remarks)return void t.$message.error("请填写拒绝原因");var r=t.showDialogRow.orderCode,a=t.showDialogRow.gIndex,n=null,i={goods:t.orderInfo.batches.reduce(function(e,i,o,s){if(i.code===r){var l=i.goods||[];n=o,l.forEach(function(r,n){n===a&&(r.suggestedPrice=t.form.suggestedPrice,r.remarks=t.form.remarks,r.auditStatus=t.form.auditStatus,r.categoryId=t.form.categoryId,r.categoryName=t.form.categoryName,r.result=t.costList,t.selectRowId&&(r.libraryId=t.selectRow.libraryId,r.hsCode=t.selectRow.code),x({},r),e=x({},r))})}return e},{}),code:t.orderInfo.code,orderId:t.orderId,goodIndex:a,batchIndex:n};t.selectRowId&&(i.flag=1),t.saveAudit(i)}})}},{key:"saveAudit",value:function(t){var e=this;this.dialogLoading=!0,g(t).then(function(){e.dialogLoading=!1,e.$message.success("操作成功"),e.closeDialog()}).catch(function(t){e.dialogLoading=!1})}},{key:"handleAudit",value:function(t){var e=t.every(function(t){var e=t.goods||[];return e.every(function(t){return 1===t.auditStatus})}),r=t.some(function(t){var e=t.goods||[];return e.some(function(t){return 2===t.auditStatus})}),a={audit:"3",reason:"",orderId:this.orderId,buyerType:this.orderInfo.buyer.type,sellerType:this.orderInfo.seller.type};e&&(a.audit="1",Object(p["c"])(a).then(function(t){return t}).catch(function(t){return t})),r&&(a.reason=2===this.form.auditStatus?this.form.remarks:this.orderInfo.reason,a.audit="2",Object(p["c"])(a).then(function(t){return t}).catch(function(t){return t}))}},{key:"getRates",value:function(){var t=this,e={hsCode:this.selectRow.code,ic:(this.orderInfo.country||{}).key,state:(this.orderInfo.consignee||{}).provinceCode};y(e).then(function(e){t.costList=e.data||[]}).catch(function(e){return t.costList=[],e})}},{key:"getProductClassList",value:function(){var t=this,e={parentId:0,type:2};w(e).then(function(e){t.allProductClassList=(e.data||[]).map(function(t){return t.children=t.children.map(function(t){return x({},t,{label:t.title,value:t.id})}),x({},t,{label:t.title,value:t.id})})}).catch(function(){t.allProductClassList=[]})}},{key:"popoverShow",value:function(t){this.reason=t.reason||"",this.fileList=this.fileList.map(function(e){return e.isShowPopover=!1,e.id===t.id&&(e.isShowPopover=!0),e})}},{key:"handleBack",value:function(){this.$emit("goBack")}},{key:"show",value:function(t){this.orderId=t,this.loadData(),this.getClearanceList(),this.getTransportList()}},{key:"clearSelectRow",value:function(){this.selectRow={},this.selectRowId="",this.costList=[]}},{key:"selectRowChange",value:function(){var t=this,e=this.productList.find(function(e){return e.libraryId===t.selectRowId});this.selectRow=e||{},this.costList=[],this.selectRow.code&&this.getRates()}},{key:"rangeChange",value:function(){this.getProductList(1)}},{key:"dialogPaginationSizeChange",value:function(t){this.dialogPagination.size=t,this.getProductList()}},{key:"dialogPaginationCurrentChange",value:function(t){this.dialogPagination.page=t,this.getProductList()}},{key:"getProductList",value:function(t){var e=this;1===t&&(this.selectRow={},this.selectRowId="",this.costList=[],this.dialogPagination.page=1);var r=this.orderInfo.orderCustomer||{},a={model:{cnName:this.searchForm.nameZh,countryId:(this.orderInfo.country||{}).key,customerId:"1"===this.searchForm.range?r.id:"",enName:this.searchForm.nameEn},page:this.dialogPagination.page,size:this.dialogPagination.size};1===this.auditStatus&&(a.size=999),this.loadingProduct=!0,_(a).then(function(t){e.loadingProduct=!1;var r=t.data||{};if(1===e.auditStatus){var a=e.showDialogRow.libraryId;e.productList=(r.result||[]).filter(function(t){return t.libraryId===a}),e.productList.length&&(e.selectRowId=a,e.selectRowChange()),e.dialogPagination.total=e.productList.length||0}else e.productList=r.result||[],e.dialogPagination.total=r.total||0}).catch(function(){e.loadingProduct=!1,e.productList=[],e.dialogPagination.total=0})}},{key:"closeDialog",value:function(){this.selectRowId="",this.showDialogRow={},this.selectRow={},this.costList=[],this.form={categoryId:"",categoryName:"",suggestedPrice:"",remarks:"",auditStatus:1},this.visible=!1,this.loadData()}},{key:"showAudit",value:function(t){this.visible=!0,this.dialogLoading=!0,this.auditStatus=t.auditStatus,this.form={categoryId:t.categoryId||"",categoryName:t.categoryId?t.categoryName:"",suggestedPrice:t.suggestedPrice,remarks:t.remarks,auditStatus:0===t.auditStatus?1:t.auditStatus},this.dialogLoading=!1;var e="";t.picture&&(e="https://file.jhtinfo.net/"+t.picture);var r=t.orderCode,a=this.orderInfo.batchSummaries||[];a.forEach(function(e){e.code===r&&(t.batchWeights=e.weights)}),this.showDialogRow=x({},t,{fileUrl:e}),this.searchForm.nameZh=this.showDialogRow.goodsName,this.searchForm.nameEn=this.showDialogRow.goodsAlias,this.getProductList(),this.getProductClassList()}},{key:"handlePreview",value:function(t){this.dialogVisible=!0,this.previewUrl=t}},{key:"getClearanceList",value:function(){var t=this;Object(v["e"])({type:2}).then(function(e){t.clearanceList=(e.data||[]).map(function(t){return x({},t,{type:2})})}).catch(function(){t.clearanceList=[]})}},{key:"getTransportList",value:function(){var t=this;Object(v["e"])({type:1}).then(function(e){t.transportList=(e.data||[]).map(function(t){return x({},t,{type:1})})}).catch(function(){t.transportList=[]})}},{key:"hideFileList",value:function(){this.showFileModel=!1,this.loadData()}},{key:"handlerChange",value:function(){var t=this,e=[].concat(Object(i["a"])(this.clearanceSelectList),Object(i["a"])(this.transportSelectList)),r=[].concat(Object(i["a"])(this.clearanceList),Object(i["a"])(this.transportList)),a=[];e.forEach(function(e){var n=r.find(function(t){return t.id===e});if(n){var i=t.fileListCopy.find(function(t){return t.id===e});a.push({isShowPopover:!1,id:i?i.id:n.id,fileName:i?i.fileName:n.fileName,status:i?i.status:0,type:i?i.type:n.type,url:i?i.url:""})}}),this.fileList=a,this.disList()}},{key:"checkChange",value:function(t){"c"===t&&(this.clearanceSelectList=[],this.fileList=this.fileList.filter(function(t){return 2!==t.type})),"t"===t&&(this.transportSelectList=[],this.fileList=this.fileList.filter(function(t){return 1!==t.type})),this.disList()}},{key:"downloadFileItem",value:function(t){var e=/^https?:\/\/(([a-zA-Z0-9_-])+(\.)?)*(:\d+)?(\/((\.)?(\?)?=?&?[a-zA-Z0-9_-](\?)?)*)*$/i;t&&(e.test(t)?window.open(t):window.open("https://file.jhtinfo.net/"+t))}},{key:"delFileItem",value:function(t,e){this.fileList=this.fileList.filter(function(t){return t.id!==e.id}),this.clearanceSelectList=this.fileList.filter(function(t){return 2===t.type}).map(function(t){return t.id}),this.transportSelectList=this.fileList.filter(function(t){return 1===t.type}).map(function(t){return t.id}),this.clearanceSelectList.length?this.clearanceChecked=!0:this.clearanceChecked=!1,this.transportSelectList.length?this.transportChecked=!0:this.transportChecked=!1,this.disList();var r=x({},e);r.deleted=1,this.saveFileList(r),this.deleteFile(e)}},{key:"deleteFile",value:function(t){if(t.url){var e=/^https?:\/\/(([a-zA-Z0-9_-])+(\.)?)*(:\d+)?(\/((\.)?(\?)?=?&?[a-zA-Z0-9_-](\?)?)*)*$/i,r=t.url;e.test(t.url)&&(r=t.url.replace("https://file.jhtinfo.net/",""));var a={ifPublic:!0,fileList:[r]};Object(k["f"])(a).then(function(t){return t}).catch(function(t){return t})}}},{key:"auditFileItem",value:function(t,e){var r=this;if(4!==t||this.reason){var a=null;this.fileList=this.fileList.map(function(n,i){return e===i&&(n.reason="",4===t&&(n.reason=r.reason),n.status=t,a=x({},n)),n}),this.saveFileList(a)}else this.$message.error("请填写拒绝原因")}},{key:"saveFileList",value:function(t){var e=this,r=this.showFileListRow,a=r.orderCode,n=r.gIndex,i=null,o=null,s={goods:this.orderInfo.batches.reduce(function(t,r,s,l){if(r.code===a){i=s;var c=r.goods||[];c.forEach(function(r,a){a===n&&(o=r.declareId,r.list=e.fileList,t=x({},r))})}return t},{}),code:this.orderInfo.code,batchIndex:i,goodIndex:n};t&&(s.file=x({declareId:o},t)),this.innerTableLoading=!0;var l={code:s.code,declareId:s.goods.declareId,file:s.file,goodId:s.goods.pid};b(l).then(function(t){e.popoverHide(),e.innerTableLoading=!1,e.$message.success("操作成功")}).catch(function(t){e.innerTableLoading=!1})}},{key:"showFileList",value:function(t){this.showFileModel=!0,this.showFileListRow=t,this.fileList=t.list.map(function(t){return t.isShowPopover=!1,t}),this.fileListCopy=JSON.parse(JSON.stringify(t.list)),this.clearanceSelectList=this.fileList.filter(function(t){return 2===t.type}).map(function(t){return t.id}),this.transportSelectList=this.fileList.filter(function(t){return 1===t.type}).map(function(t){return t.id}),this.clearanceSelectList.length?this.clearanceChecked=!0:this.clearanceChecked=!1,this.transportSelectList.length?this.transportChecked=!0:this.transportChecked=!1,this.disList()}},{key:"disList",value:function(){var t=this;this.clearanceList=this.clearanceList.map(function(e){e.disabled=!1;var r=t.fileList.find(function(t){return t.id===e.id})||{};return-1===t.clearanceSelectList.indexOf(e.id)||2!==r.status&&3!==r.status||(e.disabled=!0),e}),this.transportList=this.transportList.map(function(e){e.disabled=!1;var r=t.fileList.find(function(t){return t.id===e.id})||{};return-1!==t.transportSelectList.indexOf(e.id)&&r.url&&(e.disabled=!0),e})}},{key:"handleSizeChange",value:function(t){this.pagination.size=t}},{key:"handleCurrentChange",value:function(t){this.pagination.page=t}},{key:"loadData",value:function(){var t=this,e={id:this.orderId};this.loading=!0,Object(p["M"])(e).then(function(e){t.loading=!1;var r=e.data||{};t.orderInfo=JSON.parse(JSON.stringify(r)),t.lscConfig=r.lscConfig||{};var a=r.batches||[];t.tableData=a.reduce(function(t,e){var r=e.goods||[];return r.forEach(function(r,a){t.push(x({},r,{goodNum:r.quantity,orderCode:e.code,gIndex:a}))}),t},[]),t.pagination.total=t.tableData.length}).catch(function(e){t.loading=!1})}},{key:"tax",get:function(){return this.tableData.reduce(function(t,e){return t+=e.tax||0,t},0)}},{key:"tableDataPage",get:function(){return this.tableData.slice((this.pagination.page-1)*this.pagination.size,this.pagination.page*this.pagination.size)}},{key:"productClassList",get:function(){var t=this;return this.allProductClassList.filter(function(e){var r=e.children.filter(function(e){return-1!==e.label.indexOf(t.keyWord)});return r.length?e:-1!==e.label.indexOf(t.keyWord)})}},{key:"subProductClassList",get:function(){var t=this,e=this.selectCategory.children||[];return e.map(function(e){return x({},e,{pCategory:t.selectCategory.label})}).filter(function(e){return-1!==e.label.indexOf(t.keyWord)})}}]),e}(f["e"]);C=m["a"]([Object(f["a"])({name:""})],C);var S=C,j=S,L=(r("336c"),r("2877")),I=Object(L["a"])(j,a,n,!1,null,"62c6d91c",null);e["a"]=I.exports},2959:function(t,e,r){},"2ea4":function(t,e,r){},"336c":function(t,e,r){"use strict";var a=r("6031"),n=r.n(a);n.a},"437d":function(t,e,r){"use strict";var a=r("2ea4"),n=r.n(a);n.a},"4d2e":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-form",{ref:"searchMore",staticClass:"more-form",attrs:{model:t.searchMore,"label-width":"0px",size:"small"}},[r("el-form-item",[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"入库状态",size:"small",clearable:"",filterable:""},model:{value:t.searchMore.inventoryStatus,callback:function(e){t.$set(t.searchMore,"inventoryStatus",e)},expression:"searchMore.inventoryStatus"}},t._l(t.inventoryStatusList,function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),r("el-form-item",[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"计量状态",size:"small",clearable:"",filterable:""},model:{value:t.searchMore.measureStatus,callback:function(e){t.$set(t.searchMore,"measureStatus",e)},expression:"searchMore.measureStatus"}},t._l(t.measureStatusList,function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),r("el-form-item",[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"验货状态",size:"small",clearable:"",filterable:""},model:{value:t.searchMore.examineStatus,callback:function(e){t.$set(t.searchMore,"examineStatus",e)},expression:"searchMore.examineStatus"}},t._l(t.examineStatusList,function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),r("el-form-item",[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"报关状态",size:"small",clearable:"",filterable:""},model:{value:t.searchMore.declartionStatus,callback:function(e){t.$set(t.searchMore,"declartionStatus",e)},expression:"searchMore.declartionStatus"}},t._l(t.declartionStatusList,function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),r("el-form-item",[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"快递",size:"small",clearable:"",filterable:""},model:{value:t.searchMore.expressNo,callback:function(e){t.$set(t.searchMore,"expressNo",e)},expression:"searchMore.expressNo"}},[r("el-option",{attrs:{label:"未出",value:"0"}}),r("el-option",{attrs:{label:"已出",value:"1"}})],1)],1),"1"===t.searchMore.type||"2"===t.searchMore.type?r("el-form-item",[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"支持锁舱",size:"small",clearable:""},model:{value:t.searchMore.ifLocked,callback:function(e){t.$set(t.searchMore,"ifLocked",e)},expression:"searchMore.ifLocked"}},[r("el-option",{attrs:{label:"否",value:!1}}),r("el-option",{attrs:{label:"是",value:!0}})],1)],1):t._e(),r("el-form-item",[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"是否发货",size:"small",clearable:""},model:{value:t.searchMore.ifLoading,callback:function(e){t.$set(t.searchMore,"ifLoading",e)},expression:"searchMore.ifLoading"}},[r("el-option",{attrs:{label:"未发货",value:0}}),r("el-option",{attrs:{label:"部分发货",value:2}}),r("el-option",{attrs:{label:"已发货",value:1}})],1)],1),r("el-form-item",[r("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"派送方式",clearable:"",filterable:""},model:{value:t.searchMore.deliveryWay,callback:function(e){t.$set(t.searchMore,"deliveryWay",e)},expression:"searchMore.deliveryWay"}},[r("el-option",{attrs:{label:"快递",value:"0"}}),r("el-option",{attrs:{label:"卡派",value:"1"}}),r("el-option",{attrs:{label:"自提",value:"2"}}),"1"===t.searchMore.type||"2"===t.searchMore.type?r("el-option",{attrs:{label:"整柜直送",value:"3"}}):t._e()],1)],1),r("el-form-item",[r("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"报关方式",clearable:"",filterable:""},model:{value:t.searchMore.customs0,callback:function(e){t.$set(t.searchMore,"customs0",e)},expression:"searchMore.customs0"}},[r("el-option",{attrs:{label:"普通报关",value:"0"}}),r("el-option",{attrs:{label:"出口退税",value:"1"}})],1)],1),r("el-form-item",[r("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"关税方式",clearable:"",filterable:""},model:{value:t.searchMore.includeTax,callback:function(e){t.$set(t.searchMore,"includeTax",e)},expression:"searchMore.includeTax"}},[r("el-option",{attrs:{label:"包税",value:!0}}),r("el-option",{attrs:{label:"不包税",value:!1}})],1)],1),"risk"!==t.isType?r("el-form-item",[r("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"是否冻结",clearable:"",filterable:""},model:{value:t.searchMore.ifFrozen,callback:function(e){t.$set(t.searchMore,"ifFrozen",e)},expression:"searchMore.ifFrozen"}},[r("el-option",{attrs:{label:"否",value:!1}}),r("el-option",{attrs:{label:"是",value:!0}})],1)],1):t._e(),r("el-form-item",[r("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"是否取消",clearable:"",filterable:""},model:{value:t.searchMore.enabled,callback:function(e){t.$set(t.searchMore,"enabled",e)},expression:"searchMore.enabled"}},[r("el-option",{attrs:{label:"是",value:!1}}),r("el-option",{attrs:{label:"否",value:!0}})],1)],1)],1)],1)},n=[],i=r("d225"),o=r("b0b4"),s=r("308d"),l=r("6bb5"),c=r("4e2b"),u=r("9ab4"),d=r("60a3"),m=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(s["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.searchMore={ifFrozen:void 0,declartionStatus:void 0,expressNo:void 0,examineStatus:void 0,measureStatus:void 0,inventoryStatus:void 0,ifLocked:void 0,ifLoading:void 0,deliveryWay:void 0,customs0:void 0,includeTax:void 0,enabled:void 0},t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"declartionStatusList",get:function(){var t=this.statusList;return t.filter(function(t){return"CUSTOM_DECLARATION"===t.type})}},{key:"examineStatusList",get:function(){var t=this.statusList;return t.filter(function(t){return"EXAMINE"===t.type})}},{key:"measureStatusList",get:function(){var t=this.statusList;return t.filter(function(t){return"MEASURE"===t.type})}},{key:"inventoryStatusList",get:function(){var t=this.statusList;return t.filter(function(t){return"WS_IN"===t.type}).filter(function(t){return"99"!==t.id})}}]),e}(d["e"]);m=u["a"]([Object(d["a"])({name:"searchMore",components:{},props:{statusList:{type:Array,default:function(){return[]}},isType:{type:String,default:""}}})],m);var f=m,p=f,v=(r("6466"),r("2877")),h=Object(v["a"])(p,a,n,!1,null,"6d626ddb",null);e["a"]=h.exports},"5c49":function(t,e,r){"use strict";r.d(e,"p",function(){return n}),r.d(e,"i",function(){return i}),r.d(e,"m",function(){return o}),r.d(e,"o",function(){return s}),r.d(e,"n",function(){return l}),r.d(e,"g",function(){return c}),r.d(e,"l",function(){return u}),r.d(e,"q",function(){return d}),r.d(e,"k",function(){return m}),r.d(e,"r",function(){return f}),r.d(e,"b",function(){return p}),r.d(e,"j",function(){return v}),r.d(e,"s",function(){return h}),r.d(e,"f",function(){return g}),r.d(e,"a",function(){return b}),r.d(e,"h",function(){return y}),r.d(e,"e",function(){return w}),r.d(e,"c",function(){return _}),r.d(e,"d",function(){return k});var a=r("b32d");function n(t){var e={url:"/setting/ports/getPortList",method:"get",params:t};return Object(a["a"])(e)}function i(t){var e={url:"/auth/agent/getAgentList",method:"get",params:t};return Object(a["a"])(e)}function o(t){var e={url:"/auth/customer/customer",method:"post",data:t};return Object(a["a"])(e)}function s(t){var e={url:"/orders/trailer/page",method:"post",data:t};return Object(a["a"])(e)}function l(t){var e={url:"/orders/trailer/details",method:"post",params:t};return Object(a["a"])(e)}function c(t){var e={url:"",method:"delete",params:t};return Object(a["a"])(e)}function u(t){var e={url:"/auth/custtype/getCustTypeList",method:"get",params:t};return Object(a["a"])(e)}function d(t){var e={url:"",method:"post",params:t};return Object(a["a"])(e)}function m(t){var e={url:"/orders/trailer/get_container",method:"post",params:t};return Object(a["a"])(e)}function f(t){var e={url:"/orders/trailer/up_container",method:"post",params:t};return Object(a["a"])(e)}function p(t){var e={url:"/orders/trailer/assign_driver",method:"post",data:t};return Object(a["a"])(e)}function v(t){var e={url:"/orders/trailer/get_car",method:"get",params:t};return Object(a["a"])(e)}function h(t){var e={url:"/wms/aliyun/oss/upload",method:"post",data:t};return Object(a["a"])(e)}function g(t){var e={url:"/wms/aliyun/oss/del",method:"post",data:t};return Object(a["a"])(e)}function b(t){var e={url:"/orders/trailer/save_cost",method:"post",data:t};return Object(a["a"])(e)}function y(t){var e={url:"/orders/trailer/edit_cost",method:"post",data:t};return Object(a["a"])(e)}function w(t){var e={url:"/orders/trailer/delete_cost",method:"post",params:t};return Object(a["a"])(e)}function _(t){var e={url:"/orders/trailer/audit_cost",method:"post",params:t};return Object(a["a"])(e)}function k(t){var e={url:"/orders/trailer/commit_cost",method:"post",params:t};return Object(a["a"])(e)}},6031:function(t,e,r){},6466:function(t,e,r){"use strict";var a=r("a94a"),n=r.n(a);n.a},8461:function(t,e,r){"use strict";r.d(e,"b",function(){return n}),r.d(e,"c",function(){return i}),r.d(e,"h",function(){return o}),r.d(e,"k",function(){return s}),r.d(e,"l",function(){return l}),r.d(e,"e",function(){return c}),r.d(e,"g",function(){return u}),r.d(e,"d",function(){return d}),r.d(e,"f",function(){return m}),r.d(e,"j",function(){return f}),r.d(e,"a",function(){return p}),r.d(e,"m",function(){return v}),r.d(e,"i",function(){return h});var a=r("b32d");function n(){var t={url:"/setting/area/getCountryList",method:"get"};return Object(a["a"])(t)}function i(t){var e={url:"/setting/currency/getCurrencyList",method:"get",params:t};return Object(a["a"])(e)}function o(t){var e={url:"/setting/library/get_declare_examine",method:"post",data:t};return Object(a["a"])(e)}function s(t){var e={url:"/setting/library/approved",method:"post",data:t};return Object(a["a"])(e)}function l(t){var e={url:"/setting/library/save_declare",method:"post",data:t};return Object(a["a"])(e)}function c(t){var e={url:"/setting/library/get_file",method:"post",params:t};return Object(a["a"])(e)}function u(t){var e={url:"/setting/product/get_tree",method:"post",data:t};return Object(a["a"])(e)}function d(t){var e={url:"/setting/essential/page_library",method:"post",data:t};return Object(a["a"])(e)}function m(t){var e={url:"/setting/library/get_file_list",method:"post",params:t};return Object(a["a"])(e)}function f(t){var e={url:"/price/customs_price/get_rates",method:"get",params:t};return Object(a["a"])(e)}function p(t){var e={url:"/setting/library/audit_file",method:"post",data:t};return Object(a["a"])(e)}function v(t){var e={url:"/setting/library/save_file",method:"post",data:t};return Object(a["a"])(e)}function h(t){var e={url:"/orders/fullorder/commodityDeclarationPage",method:"post",data:t};return Object(a["a"])(e)}},a7af:function(t,e,r){},a94a:function(t,e,r){},af5a:function(t,e,r){"use strict";r.d(e,"m",function(){return n}),r.d(e,"g",function(){return i}),r.d(e,"l",function(){return o}),r.d(e,"t",function(){return s}),r.d(e,"i",function(){return l}),r.d(e,"x",function(){return c}),r.d(e,"q",function(){return u}),r.d(e,"A",function(){return d}),r.d(e,"h",function(){return m}),r.d(e,"r",function(){return f}),r.d(e,"n",function(){return p}),r.d(e,"c",function(){return v}),r.d(e,"B",function(){return h}),r.d(e,"f",function(){return g}),r.d(e,"w",function(){return b}),r.d(e,"s",function(){return y}),r.d(e,"v",function(){return w}),r.d(e,"d",function(){return _}),r.d(e,"e",function(){return k}),r.d(e,"k",function(){return O}),r.d(e,"j",function(){return x}),r.d(e,"p",function(){return C}),r.d(e,"o",function(){return S}),r.d(e,"y",function(){return j}),r.d(e,"z",function(){return L}),r.d(e,"a",function(){return I}),r.d(e,"b",function(){return N}),r.d(e,"C",function(){return P}),r.d(e,"u",function(){return T});var a=r("b32d");function n(t){var e={url:"/setting/fbastore/getFbastoreList",method:"get",params:t};return Object(a["a"])(e)}function i(t){var e={url:"/auth/agent/getAgentList",method:"get",params:t};return Object(a["a"])(e)}function o(t){var e={url:"/auth/customer/customer",method:"post",data:t};return Object(a["a"])(e)}function s(t){var e={url:"/orders/declare_order/get_declare_data",method:"post",data:t};return Object(a["a"])(e)}function l(t){var e={url:"/orders/declare_order/container_view",method:"post",data:t};return Object(a["a"])(e)}function c(t){var e={url:"/orders/declare_order/container_update",method:"post",data:t};return Object(a["a"])(e)}function u(t){var e={url:"/orders/declareInvoice/getInfoByNo",method:"get",params:t};return Object(a["a"])(e)}function d(t){var e={url:"/orders/declareInvoice/update",method:"post",data:t};return Object(a["a"])(e)}function m(t){var e={url:"/orders/declarePackages/getInfoByNo",method:"get",params:t};return Object(a["a"])(e)}function f(t){var e={url:"/orders/declare_order/container_declare",method:"get",params:t};return Object(a["a"])(e)}function p(t){var e={url:"/orders/containFile/getPathByNo",method:"get",params:t};return Object(a["a"])(e)}function v(t){var e={url:"/orders/containFile/delete",method:"get",params:t};return Object(a["a"])(e)}function h(t){var e={url:"/orders/containFile/saveContainFile",method:"post",data:t};return Object(a["a"])(e)}function g(t){var e={url:"/orders/declare_order/export",method:"post",params:t,responseType:"blob"};return Object(a["a"])(e)}function b(t){var e={url:"/orders/worder/generateOrder",method:"post",data:t};return Object(a["a"])(e)}function y(t){var e={url:"/orders/worder/getWarehouseOrder",method:"get",params:t};return Object(a["a"])(e)}function w(t){var e={url:"/report/r/tag",method:"get",params:t};return Object(a["a"])(e)}function _(t){var e={url:"/orders/worder/deleteOrder",method:"delete",params:t};return Object(a["a"])(e)}function k(t){var e={url:"/orders/worder/deletePallet",method:"delete",params:t};return Object(a["a"])(e)}function O(t){var e={url:"/auth/custtype/getCustTypeList",method:"get",params:t};return Object(a["a"])(e)}function x(t){var e={url:"/auth/custtype/getcustlist",method:"post",data:t};return Object(a["a"])(e)}function C(t){var e={url:"/orders/declare_order/get_file_data",method:"post",params:t};return Object(a["a"])(e)}function S(t){var e={url:"/setting/fc/page",method:"post",data:t};return Object(a["a"])(e)}function j(t){var e={url:"/orders/declare_order/update",method:"post",data:t};return Object(a["a"])(e)}function L(t){var e={url:"/orders/declare_order/save_file",method:"post",data:t};return Object(a["a"])(e)}function I(t){var e={url:"/orders/declare_order/audit_file",method:"post",data:t};return Object(a["a"])(e)}function N(t){var e={url:"/orders/declare_order/jht_audit",method:"get",params:t};return Object(a["a"])(e)}function P(t){var e={url:"/orders/declare_order/assign",method:"post",data:t};return Object(a["a"])(e)}function T(t){var e={url:"/orders/declare_order/get_supply",method:"get",params:t};return Object(a["a"])(e)}},b3ca:function(t,e,r){"use strict";var a=r("c429"),n=r.n(a);n.a},b941:function(t,e,r){"use strict";r.d(e,"I",function(){return n}),r.d(e,"F",function(){return i}),r.d(e,"tb",function(){return o}),r.d(e,"G",function(){return s}),r.d(e,"J",function(){return l}),r.d(e,"ub",function(){return c}),r.d(e,"z",function(){return u}),r.d(e,"K",function(){return d}),r.d(e,"L",function(){return m}),r.d(e,"E",function(){return f}),r.d(e,"nb",function(){return p}),r.d(e,"x",function(){return v}),r.d(e,"Gb",function(){return h}),r.d(e,"Bb",function(){return g}),r.d(e,"Ab",function(){return b}),r.d(e,"Y",function(){return y}),r.d(e,"X",function(){return w}),r.d(e,"e",function(){return _}),r.d(e,"W",function(){return k}),r.d(e,"a",function(){return O}),r.d(e,"Ub",function(){return x}),r.d(e,"ec",function(){return C}),r.d(e,"n",function(){return S}),r.d(e,"Q",function(){return j}),r.d(e,"w",function(){return L}),r.d(e,"Qb",function(){return I}),r.d(e,"yb",function(){return N}),r.d(e,"xb",function(){return P}),r.d(e,"ab",function(){return T}),r.d(e,"bb",function(){return F}),r.d(e,"d",function(){return R}),r.d(e,"g",function(){return z}),r.d(e,"o",function(){return D}),r.d(e,"Rb",function(){return $}),r.d(e,"fb",function(){return M}),r.d(e,"cb",function(){return E}),r.d(e,"eb",function(){return A}),r.d(e,"db",function(){return W}),r.d(e,"bc",function(){return B}),r.d(e,"j",function(){return V}),r.d(e,"cc",function(){return U}),r.d(e,"T",function(){return Z}),r.d(e,"Pb",function(){return q}),r.d(e,"R",function(){return H}),r.d(e,"S",function(){return J}),r.d(e,"y",function(){return G}),r.d(e,"Kb",function(){return Y}),r.d(e,"dc",function(){return K}),r.d(e,"v",function(){return X}),r.d(e,"Cb",function(){return Q}),r.d(e,"wb",function(){return tt}),r.d(e,"h",function(){return et}),r.d(e,"f",function(){return rt}),r.d(e,"fc",function(){return at}),r.d(e,"Lb",function(){return nt}),r.d(e,"i",function(){return it}),r.d(e,"vb",function(){return ot}),r.d(e,"P",function(){return st}),r.d(e,"N",function(){return lt}),r.d(e,"O",function(){return ct}),r.d(e,"A",function(){return ut}),r.d(e,"Db",function(){return dt}),r.d(e,"Eb",function(){return mt}),r.d(e,"Wb",function(){return ft}),r.d(e,"s",function(){return pt}),r.d(e,"k",function(){return vt}),r.d(e,"hb",function(){return ht}),r.d(e,"Ib",function(){return gt}),r.d(e,"Hb",function(){return bt}),r.d(e,"ob",function(){return yt}),r.d(e,"Yb",function(){return wt}),r.d(e,"t",function(){return _t}),r.d(e,"zb",function(){return kt}),r.d(e,"jb",function(){return Ot}),r.d(e,"Vb",function(){return xt}),r.d(e,"r",function(){return Ct}),r.d(e,"qb",function(){return St}),r.d(e,"sb",function(){return jt}),r.d(e,"kb",function(){return Lt}),r.d(e,"Mb",function(){return It}),r.d(e,"l",function(){return Nt}),r.d(e,"H",function(){return Pt}),r.d(e,"Jb",function(){return Tt}),r.d(e,"rb",function(){return Ft}),r.d(e,"Zb",function(){return Rt}),r.d(e,"u",function(){return zt}),r.d(e,"ib",function(){return Dt}),r.d(e,"pb",function(){return $t}),r.d(e,"Sb",function(){return Mt}),r.d(e,"p",function(){return Et}),r.d(e,"gb",function(){return At}),r.d(e,"ac",function(){return Wt}),r.d(e,"Z",function(){return Bt}),r.d(e,"Nb",function(){return Vt}),r.d(e,"mb",function(){return Ut}),r.d(e,"lb",function(){return Zt}),r.d(e,"Tb",function(){return qt}),r.d(e,"q",function(){return Ht}),r.d(e,"M",function(){return Jt}),r.d(e,"Ob",function(){return Gt}),r.d(e,"m",function(){return Yt}),r.d(e,"Fb",function(){return Kt}),r.d(e,"Xb",function(){return Xt}),r.d(e,"b",function(){return Qt}),r.d(e,"c",function(){return te}),r.d(e,"B",function(){return ee}),r.d(e,"D",function(){return re}),r.d(e,"C",function(){return ae}),r.d(e,"V",function(){return ne}),r.d(e,"U",function(){return ie});var a=r("b32d");function n(){var t={url:"/setting/area/getCountryList",method:"get"};return Object(a["a"])(t)}function i(t){var e={url:"/setting/area/getCityByStates",method:"post",data:t};return Object(a["a"])(e)}function o(t){var e={url:"/setting/area/getStateByCountry",method:"get",params:{countryId:t}};return Object(a["a"])(e)}function s(t){var e={url:"/setting/area/getCityByState",method:"get",params:{stateId:t}};return Object(a["a"])(e)}function l(t){var e={url:"/setting/area/getCountyByCity",method:"get",params:{cityId:t}};return Object(a["a"])(e)}function c(t){var e={url:"/auth/supplier/getSupplierList",method:"get",params:t};return Object(a["a"])(e)}function u(t){var e={url:"/auth/agent/getAgentList",method:"get",params:t};return Object(a["a"])(e)}function d(t){var e={url:"/auth/customer/customer",method:"post",data:t};return Object(a["a"])(e)}function m(t){var e={url:"/auth/dept/getDeptList",method:"get",params:t};return Object(a["a"])(e)}function f(t){var e={url:"wms/warehouse/contain",method:"get",params:t};return Object(a["a"])(e)}function p(t){var e={url:"/cfg/type/getServiceTypeList",method:"get",params:t};return Object(a["a"])(e)}function v(t){var e={url:"/setting/currency/getCurrencyList",method:"get",params:t};return Object(a["a"])(e)}function h(t){var e={url:"/setting/dict/item/type",method:"get",params:t};return Object(a["a"])(e)}function g(t){var e={url:"/wms/unload/page",method:"post",data:t};return Object(a["a"])(e)}function b(t){var e={url:"/wms/unload/get",method:"get",params:t};return Object(a["a"])(e)}function y(t){var e={url:"/wms/measure/page",method:"post",data:t};return Object(a["a"])(e)}function w(t){var e={url:"/wms/measure/pageDetail",method:"post",data:t};return Object(a["a"])(e)}function _(t){var e={url:"/wms/measure/e",method:"post",data:t};return Object(a["a"])(e)}function k(t){var e={url:"/wms/measure/get",method:"get",params:t};return Object(a["a"])(e)}function O(t){var e={url:"/wms/measure/detail/save",method:"post",data:t};return Object(a["a"])(e)}function x(t){var e={url:"/wms/measure/detail/update",method:"post",data:t};return Object(a["a"])(e)}function C(t){var e={url:"/wms/measure/c",method:"get",params:t};return Object(a["a"])(e)}function S(t){var e={url:"/wms/measure/delList",method:"post",data:t};return Object(a["a"])(e)}function j(t){var e={url:"/wms/measure/export",method:"post",responseType:"blob",params:t};return Object(a["a"])(e)}function L(t){var e={url:"/wms/measure/export1",method:"post",responseType:"blob",data:t};return Object(a["a"])(e)}function I(t){var e={url:"wms/measure/recopy",method:"get",params:t};return Object(a["a"])(e)}function N(t){var e={url:"/wms/towage/page",method:"post",data:t};return Object(a["a"])(e)}function P(t){var e={url:"/wms/towage/get",method:"get",params:t};return Object(a["a"])(e)}function T(t){var e={url:"/orders/allocation/task_page",method:"post",data:t};return Object(a["a"])(e)}function F(t){var e={url:"/orders/allocation/get_details",method:"get",params:t};return Object(a["a"])(e)}function R(t){var e={url:"/orders/allocation/audit",method:"post",data:t};return Object(a["a"])(e)}function z(t){var e={url:"/orders/allocation/cancel",method:"get",params:t};return Object(a["a"])(e)}function D(t){var e={url:"/orders/allocation/delete",method:"get",params:t};return Object(a["a"])(e)}function $(t){var e={url:"/orders/allocation/save",method:"post",data:t};return Object(a["a"])(e)}function M(t){var e={url:"/orders/pallet/getPallet",method:"post",data:t};return Object(a["a"])(e)}function E(t){var e={url:"/orders/worder/getOrderList",method:"post",data:t};return Object(a["a"])(e)}function A(t){var e={url:"/orders/outorder/getOrderList",method:"post",data:t};return Object(a["a"])(e)}function W(t){var e={url:"/orders/outorder/getOutOrder",method:"get",params:t};return Object(a["a"])(e)}function B(t){var e={url:"/orders/outorder/audit",method:"post",data:t};return Object(a["a"])(e)}function V(t){var e={url:"/orders/outorder/complete",method:"post",data:t};return Object(a["a"])(e)}function U(t){var e={url:"/orders/outorder/generateOrder",method:"post",data:t};return Object(a["a"])(e)}function Z(t){var e={url:"/wms/inventory/getOrderList",method:"post",data:t};return Object(a["a"])(e)}function q(t){var e={url:"/wms/inventory/save",method:"post",data:t};return Object(a["a"])(e)}function H(t){var e={url:"/wms/inventory/findById",method:"post",data:t};return Object(a["a"])(e)}function J(t){var e={url:"/wms/inventory/getInventoryById",method:"get",params:t};return Object(a["a"])(e)}function G(t){var e={url:"/wms/inventory/query",method:"post",data:t};return Object(a["a"])(e)}function Y(t){var e={url:"/wms/inventory/queryUnloadOrder",method:"post",data:t};return Object(a["a"])(e)}function K(t){var e={url:"/wms/inventory/update",method:"post",data:t};return Object(a["a"])(e)}function X(t){var e={url:"/wms/inventory/doInventoryTask",method:"post",data:t};return Object(a["a"])(e)}function Q(t){var e={url:"/wms/warehouse/getUserByWarehouseId",method:"get",params:t};return Object(a["a"])(e)}function tt(t){var e={url:"/wms/inventory/getTasks",method:"get",params:t};return Object(a["a"])(e)}function et(t){var e={url:"/wms/inventory/cancelTask",method:"get",params:t};return Object(a["a"])(e)}function rt(t){var e={url:"/wms/inventory/cancelInventory",method:"post",params:t};return Object(a["a"])(e)}function at(t){var e={url:"/wms/inventory/workInventory",method:"post",params:t};return Object(a["a"])(e)}function nt(t){var e={url:"/wms/inventory/release",method:"get",params:t};return Object(a["a"])(e)}function it(t){var e={url:"/wms/inventory/cancelTaskInfo",method:"get",params:t};return Object(a["a"])(e)}function ot(t){var e={url:"/wms/inventory/getTaskInfoById",method:"get",params:t};return Object(a["a"])(e)}function st(t){var e={url:"/wms/examining/page",method:"post",data:t};return Object(a["a"])(e)}function lt(t){var e={url:"/wms/examining/get",method:"get",params:t};return Object(a["a"])(e)}function ct(t){var e={url:"/wms/examining",method:"get",params:t};return Object(a["a"])(e)}function ut(t){var e={url:"",method:"post",data:t};return Object(a["a"])(e)}function dt(t){var e={url:"/wms/warehouse/getWarehouse",method:"get",params:t};return Object(a["a"])(e)}function mt(t){var e={url:"/wms/warehouse/getWarehouseList",method:"post",data:t};return Object(a["a"])(e)}function ft(t){var e={url:"/wms/warehouse/saveWarehouse",method:"post",data:t};return Object(a["a"])(e)}function pt(t){var e={url:"/wms/warehouse/deleteWarehouse",method:"delete",params:t};return Object(a["a"])(e)}function vt(t){var e={url:"/wms/warehouse/changeStatus",method:"post",params:t};return Object(a["a"])(e)}function ht(t){var e={url:"/auth/post/getPostList",method:"get",params:t};return Object(a["a"])(e)}function gt(t){var e={url:"/wms/workCenter/getWorkCenterList",method:"post",data:t};return Object(a["a"])(e)}function bt(t){var e={url:"/wms/workCenter/getList",method:"get",params:t};return Object(a["a"])(e)}function yt(t){var e={url:"/wms/workCenter/get",method:"get",params:t};return Object(a["a"])(e)}function wt(t){var e={url:"/wms/workCenter/saveWorkCenter",method:"post",data:t};return Object(a["a"])(e)}function _t(t){var e={url:"/wms/workCenter/deleteWorkCenter",method:"delete",params:t};return Object(a["a"])(e)}function kt(t){var e={url:"/wms/transit/getTransitPage",method:"post",data:t};return Object(a["a"])(e)}function Ot(t){var e={url:"wms/warehouse/list",method:"get",params:t};return Object(a["a"])(e)}function xt(t){var e={url:"/wms/transit/saveTransit",method:"post",data:t};return Object(a["a"])(e)}function Ct(t){var e={url:"/wms/transit/deleteTransit",method:"delete",params:t};return Object(a["a"])(e)}function St(t){var e={url:"/wms/transit/get",method:"get",params:t};return Object(a["a"])(e)}function jt(t){var e={url:"/cfg/ssc/getSscList",method:"get",params:t};return Object(a["a"])(e)}function Lt(t){var e={url:"/wms/bin/getTree",method:"get",params:t};return Object(a["a"])(e)}function It(t){var e={url:"/wms/bin/saveBin",method:"post",data:t};return Object(a["a"])(e)}function Nt(t){var e={url:"/wms/bin/del",method:"delete",params:t};return Object(a["a"])(e)}function Pt(t){var e={url:"/wms/shift/list",method:"get",params:t};return Object(a["a"])(e)}function Tt(t){var e={url:"/wms/wss/page",method:"post",data:t};return Object(a["a"])(e)}function Ft(t){var e={url:"/wms/wss/get",method:"get",params:t};return Object(a["a"])(e)}function Rt(t){var e={url:"/wms/wss/addWorkShifts",method:"post",data:t};return Object(a["a"])(e)}function zt(t){var e={url:"/wms/wss/del",method:"delete",params:t};return Object(a["a"])(e)}function Dt(t){var e={url:"/wms/rot/findByPage",method:"post",data:t};return Object(a["a"])(e)}function $t(t){var e={url:"/wms/rot/get",method:"get",params:t};return Object(a["a"])(e)}function Mt(t){var e={url:"/wms/rot/addRotation",method:"post",data:t};return Object(a["a"])(e)}function Et(t){var e={url:"/wms/rot/del",method:"delete",params:t};return Object(a["a"])(e)}function At(t){var e={url:"/auth/user/user4position",method:"post",data:t};return Object(a["a"])(e)}function Wt(t){var e={url:"/wms/shift/create",method:"post",data:t};return Object(a["a"])(e)}function Bt(t){var e={url:"/wms/shift/view",method:"post",data:t};return Object(a["a"])(e)}function Vt(t){var e={url:"/wms/shift/update",method:"post",data:t};return Object(a["a"])(e)}function Ut(t){var e={url:"/wms/shift/page",method:"post",data:t};return Object(a["a"])(e)}function Zt(t){var e={url:"/wms/shift/list",method:"get",params:t};return Object(a["a"])(e)}function qt(t){var e={url:"/wms/shift/addShift",method:"post",data:t};return Object(a["a"])(e)}function Ht(t){var e={url:"/wms/shift/del",method:"delete",params:t};return Object(a["a"])(e)}function Jt(t){var e={url:"/wms/discharge/list",method:"get",params:t};return Object(a["a"])(e)}function Gt(t){var e={url:"wms/discharge/save",method:"post",data:t};return Object(a["a"])(e)}function Yt(t){var e={url:"/wms/discharge/del",method:"delete",params:t};return Object(a["a"])(e)}function Kt(t){var e={url:"/wms/warehouse/terms",method:"get",params:t};return Object(a["a"])(e)}function Xt(t){var e={url:"/wms/warehouse/terms/save",method:"post",data:t};return Object(a["a"])(e)}function Qt(t){var e={url:"orders/allocation/exportAllocation2",responseType:"blob",method:"get",params:t};return Object(a["a"])(e)}function te(t){var e={url:"/orders/outorder/exportWsOut",responseType:"blob",method:"get",params:t};return Object(a["a"])(e)}function ee(t){var e={url:"/express/web/expressorder/s",responseType:"blob",method:"get",params:t};return Object(a["a"])(e)}function re(t){var e={url:"/express/b/page",method:"post",data:t};return Object(a["a"])(e)}function ae(t){var e={url:"/express/b/get",method:"get",params:t};return Object(a["a"])(e)}function ne(t){var e={url:"/cfg/lsc/getLscGroupList",method:"post",data:t};return Object(a["a"])(e)}function ie(t){var e={url:"/cfg/lsc/getLscGroupItems",method:"get",params:t};return Object(a["a"])(e)}},bb02:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.detailLoading,expression:"detailLoading"}]},[r("div",{staticClass:"detail-back"},[r("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.$emit("back")}}},[r("i",{staticClass:"el-icon-back"}),r("span",[t._v("返回")])])]),r("div",{staticClass:"app-panel order-detail"},[r("el-form",{ref:"detail",staticClass:"detail-form",attrs:{model:t.form,"label-width":"130px","label-position":"right"}},["2"===t.form.audit?r("div",{staticClass:"freeze"},[r("span",[t._v("拒绝原因："+t._s(t.form.reason))])]):t.form.freeze||t.form.unfreeze?r("div",{staticClass:"freeze"},[t.form.ifFrozen&&!(t.form.freeze||{}).applyTag?r("div",[r("el-button",{staticClass:"btn",attrs:{type:"text",size:"small"}},[t._v("\n            订单冻结\n          ")]),r("span",[t._v("冻结原因："+t._s((t.form.freeze||{}).remark))]),r("el-button",{staticStyle:{"margin-left":"10px","font-size":"14px"},attrs:{type:"text",size:"small"},on:{click:t.onApplyFrost}},[t._v("\n            点此申请解冻\n          ")])],1):t.form.ifFrozen&&(t.form.freeze||{}).applyTag?r("div",[r("el-button",{staticClass:"btn",attrs:{type:"text",size:"small"}},[t._v("\n            解冻申请中\n          ")]),r("span",[t._v("冻结原因："+t._s((t.form.freeze||{}).remark))])],1):!t.form.ifFrozen&&t.form.unfreeze?r("div",[r("el-button",{staticClass:"btn",attrs:{type:"text",size:"small"}},[t._v("\n            已解冻\n          ")]),r("span",[t._v("备注："+t._s((t.form.unfreeze||{}).reason))])],1):t._e()]):t._e(),r("div",{staticClass:"form-title"},[r("el-row",[r("el-col",{attrs:{span:4}},[t._v("\n            基础信息\n          ")]),r("el-col",{staticStyle:{"text-align":"right"},attrs:{span:20}})],1)],1),r("div",{staticStyle:{padding:"0 20px"}},[r("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","align-items":"top"}},[r("div",{staticStyle:{flex:"1 1 50%","border-right":"1px solid #F1F6FC"}},[r("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"交货区域："}},[t._v("\n              "+t._s(t.form.deliveryName)+"\n            ")]),r("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"报关方式："}},["0"===t.form.customs0?r("span",[t._v("普通报关")]):"1"===t.form.customs0?r("span",[t._v("出口退税")]):"0"===t.form.customs1?r("span",[t._v("自有进口商报关")]):"1"===t.form.customs1?r("span",[t._v("无进口商")]):t._e()]),"1"===t.form.customs0?r("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"合并报关："}},["0"===t.form.mergerClearance?r("span",[t._v("否")]):"1"===t.form.mergerClearance?r("span",[t._v("是")]):r("span",[t._v("--")])]):t._e(),r("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"派送方式："}},["0"===t.form.deliveryWay?r("span",[t._v("\n                快递\n              ")]):"1"===t.form.deliveryWay?r("span",[t._v("\n                卡派\n              ")]):"2"===t.form.deliveryWay?r("span",[t._v("\n                自提\n              ")]):"3"===t.form.deliveryWay?r("span",[t._v("\n                整柜直装\n              ")]):"4"===t.form.deliveryWay?r("span",[t._v("\n                到仓\n              ")]):t._e()]),r("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"关税方式："}},[t.form.includeTax?r("span",[t._v("\n                包税\n              ")]):r("span",[t._v("\n                不包税\n              ")])]),r("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"业务类型："}},[t._v("\n              "+t._s((t.typeList[t.form.type]||{}).name)+"\n            ")]),r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"提货方式及地址："}},[t._v("\n              "+t._s((t.pickList[t.form.pickType]||{}).name)+"\n               "+t._s(t.form.pickAddress)+"\n            ")]),r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"备注："}},[t._v("\n              "+t._s(t.form.remark)+"\n            ")])],1),r("div",{staticStyle:{flex:"1 1 50%","text-align":"center","border-left":"1px solid #F1F6FC"}},[r("el-button",{attrs:{type:"primary",size:"small",round:""}},[t._v("\n              "+t._s(t.form.clauseName)+"\n            ")]),r("div",{staticStyle:{"font-size":"18px","font-weight":"700","margin-top":"10px"}},[t._v("\n              "+t._s(t.form.lscName)+"\n            ")]),r("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","align-items":"center"}},[r("div",{staticStyle:{flex:"1 1 30%","text-align":"center"}},[r("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},[r("el-popover",{attrs:{placement:"top",width:"250",trigger:"hover"}},[t._l(t.departureList,function(e,a){return r("div",{key:a},[t._v("\n                      "+t._s(e)+"\n                    ")])}),r("span",{attrs:{slot:"reference"},slot:"reference"},[t._v("\n                      "+t._s(t.form.departureName)+"\n                    ")])],2)],1)]),r("div",{staticStyle:{flex:"1 1 40%","text-align":"center"}},[r("div",{staticStyle:{display:"flex","flex-flow":"column nowrap","justify-content":"center"}},[r("div",{staticStyle:{"margin-top":"10px"}},["0"===t.form.type?r("svg-icon",{staticStyle:{color:"#2291E6",width:"25px",height:"25px"},attrs:{name:"airplane"}}):t._e(),"1"===t.form.type?r("svg-icon",{staticStyle:{color:"#2291E6",width:"25px",height:"25px"},attrs:{name:"ship"}}):t._e(),"2"===t.form.type?r("svg-icon",{staticStyle:{color:"#2291E6",width:"25px",height:"25px"},attrs:{name:"railway"}}):t._e()],1),r("div",{staticStyle:{margin:"10px 0",width:"100%",height:"2px","background-color":"#ccc"}})])]),r("div",{staticStyle:{flex:"1 1 30%","text-align":"center"}},[r("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},["3"===t.form.type?r("span",[t._v("\n                    "+t._s((t.form.consignee||{}).country)+" \n                    "+t._s((t.form.consignee||{}).province)+" \n                    "+t._s((t.form.consignee||{}).city)+"\n                  ")]):r("div",[r("el-popover",{attrs:{placement:"top",width:"250",trigger:"hover"}},[t._l(t.destinationList,function(e,a){return r("div",{key:a},[t._v("\n                        "+t._s(e)+"\n                      ")])}),r("span",{attrs:{slot:"reference"},slot:"reference"},[t._v("\n                        "+t._s(t.form.destinationName)+"\n                      ")])],2)],1)])])])],1)])]),r("div",{staticClass:"form-title"},[t._v("\n        收货人\n      ")]),r("div",{staticClass:"contact-info"},[r("el-form-item",{attrs:{label:"地址类型："}},["0"===t.form.addressType?r("span",[t._v("FBA")]):t._e(),"1"===t.form.addressType?r("span",[t._v("私人地址")]):t._e(),"2"===t.form.addressType?r("span",[t._v("自有海外仓")]):t._e()]),r("el-form-item",{attrs:{label:"目的仓代码："}},[t._v("\n          "+t._s(t.form.fbastoreCode||"--")+"\n        ")]),r("el-form-item",{attrs:{label:"收货人："}},[r("span",{attrs:{title:(t.form.consignee||{}).contact}},[t._v(t._s((t.form.consignee||{}).contact))])]),r("el-form-item",{attrs:{label:"联系电话："}},[t._v("\n          "+t._s((t.form.consignee||{}).tel)+"\n        ")]),r("el-form-item",{attrs:{label:"国家："}},[t._v("\n          "+t._s((t.form.consignee||{}).countryCode)+"\n        ")]),r("el-form-item",{attrs:{label:"目的省份："}},[t._v("\n          "+t._s((t.form.consignee||{}).provinceCode)+"\n        ")]),r("el-form-item",{attrs:{label:"目的城市："}},[t._v("\n          "+t._s((t.form.consignee||{}).city)+"\n        ")]),r("el-form-item",{attrs:{label:"邮编："}},[t._v("\n          "+t._s((t.form.consignee||{}).postal)+"\n        ")]),r("div",[r("el-form-item",{attrs:{label:"详细地址一："}},[r("span",{attrs:{title:((t.form.consignee||{}).address||"").split("；")[0]}},[t._v(t._s(((t.form.consignee||{}).address||"").split("；")[0]))])])],1),((t.form.consignee||{}).address||"").split("；")[1]?r("div",[r("el-form-item",{attrs:{label:"详细地址二："}},[r("span",{attrs:{title:((t.form.consignee||{}).address||"").split("；")[1]}},[t._v(t._s(((t.form.consignee||{}).address||"").split("；")[1]))])])],1):t._e(),((t.form.consignee||{}).address||"").split("；")[2]?r("div",[r("el-form-item",{attrs:{label:"详细地址三："}},[r("span",{attrs:{title:((t.form.consignee||{}).address||"").split("；")[2]}},[t._v(t._s(((t.form.consignee||{}).address||"").split("；")[2]))])])],1):t._e()],1),r("div",{staticClass:"form-title"},[t._v("\n        货物信息\n      ")]),r("div",{staticStyle:{padding:"0 20px"}},[r("el-form-item",{attrs:{label:"拼箱/整柜："}},["1"===t.form.containerType?r("span",[t._v("\n            整柜\n          ")]):"0"===t.form.containerType?r("span",[t._v("\n            拼箱\n          ")]):t._e()]),r("el-form-item",{attrs:{label:"总件数："}},[t._v("\n          "+t._s(t.form.packages)+"\n        ")]),r("el-form-item",{attrs:{label:"总货值："}},[t._v("\n          "+t._s(t.form.value)+" "+t._s(t.form.currencyId)+"\n        ")]),r("el-form-item",{attrs:{label:"计费方式："}},["2"===t.form.lscPriceType?r("span",[t._v("\n            按重量\n          ")]):t._e(),"3"===t.form.lscPriceType?r("span",[t._v("\n            按体积\n          ")]):t._e(),"4"===t.form.lscPriceType?r("span",[t._v("\n            按柜型\n          ")]):t._e()]),"2"===t.form.lscPriceType?r("el-form-item",{attrs:{label:"理论收费重量："}},[t._v("\n          "+t._s((t.form.price||{}).finalWeightVol||"--")+" kg\n        ")]):t._e(),"3"===t.form.lscPriceType?r("el-form-item",{attrs:{label:"理论收费体积："}},[t._v("\n          "+t._s((t.form.price||{}).finalWeightVol||"--")+" m³\n        ")]):t._e(),r("el-form-item",{attrs:{label:"理论单价："}},[t._v("\n          "+t._s((t.form.price||{}).price||"--")+" "+t._s((t.form.price||{}).currencyId)+"\n        ")]),r("el-form-item",{attrs:{label:"理论运费："}},[t._v("\n          "+t._s((t.form.price||{}).totalPrice||"--")+" "+t._s((t.form.price||{}).currencyId)+"\n        ")]),r("el-form-item",{attrs:{label:"理论总重量："}},[t._v("\n          "+t._s(t.$volumeConversion(t.form.weights,t.form.umWeight,"KGS"))+" kg\n        ")]),r("el-form-item",{attrs:{label:"理论总体积："}},[t._v("\n          "+t._s(t.$volumeConversion(t.form.volumes,t.$getVolumeUnitByLengthUnit(t.form.umLength),"CBM"))+" m³\n        ")]),"2"===t.form.lscPriceType?r("el-form-item",{attrs:{label:"实际收费重量："}},[t._v("\n          "+t._s(t.form.price.afinalWeightVol||"--")+" kg\n        ")]):t._e(),"3"===t.form.lscPriceType?r("el-form-item",{attrs:{label:"实际收费体积："}},[t._v("\n          "+t._s((t.form.price||{}).afinalWeightVol||"--")+" m³\n        ")]):t._e(),r("el-form-item",{attrs:{label:"实际单价："}},[t._v("\n          "+t._s((t.form.price||{}).aprice||"--")+" "+t._s((t.form.price||{}).currencyId)+"\n        ")]),r("el-form-item",{attrs:{label:"实际运费："}},[t._v("\n          "+t._s((t.form.price||{}).atotalPrice||"--")+" "+t._s((t.form.price||{}).currencyId)+"\n        ")]),r("el-form-item",{attrs:{label:"实际总重量："}},[t._v("\n          "+t._s(t.measure.totalWeight||0)+" kg\n        ")]),r("el-form-item",{attrs:{label:"实际总体积："}},[t._v("\n          "+t._s(t.$volumeConversion(t.measure.totalVolume||0,"CBCM","CBM"))+" m³\n        ")]),r("div",{staticStyle:{padding:"5px 0",background:"#F5F7FA"}},[r("el-form-item",{attrs:{label:"物流总运费："}},[t._v("\n            "+t._s(t.form.xxx)+"\n          ")]),r("el-form-item",{attrs:{label:"附加服务费："}},[t._v("\n            "+t._s(t.form.xxx)+"\n          ")]),r("el-form-item",{attrs:{label:"关税费用："}},[t._v("\n            "+t._s(t.form.xxx)+"\n          ")]),r("el-form-item",{attrs:{label:"附加关税："}},[t._v("\n            "+t._s(t.form.xxx)+"\n          ")])],1)],1),r("div",{staticClass:"form-title"},[t._v("\n        提货方式\n      ")]),r("div",{staticStyle:{padding:"0 20px"}},[r("el-form-item",{attrs:{label:"提货方式："}},[t._v("\n          "+t._s((t.pickList[t.form.pickType]||{}).name)+"\n        ")]),r("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"提货仓库："}},[t._v("\n          "+t._s(t.form.warehouseName)+"\n        ")]),r("el-form-item",{attrs:{label:"计划入库时间："}},[t._v("\n          "+t._s(t.form.planTime)+"\n        ")]),r("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"入仓时间："}},[t._v("\n          "+t._s(t.form.storageTime)+"\n        ")]),"0"===t.form.pickType?r("div",[r("el-form-item",{attrs:{label:"车牌号："}},[t._v("\n            "+t._s(t.form.plateNumber||"--")+"\n          ")]),r("el-form-item",{attrs:{label:"司机姓名："}},[t._v("\n            "+t._s(t.form.driverName||"--")+"\n          ")]),r("el-form-item",{attrs:{label:"电话："}},[t._v("\n            "+t._s(t.form.driverPhone||"--")+"\n          ")]),r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"证件号："}},["0"===t.form.certType?r("span",[t._v("\n              身份证\n            ")]):"1"===t.form.certType?r("span",[t._v("\n              护照\n            ")]):"2"===t.form.certType?r("span",[t._v("\n              港澳通行证\n            ")]):t._e(),t._v("\n            "+t._s(" | "+(t.form.certNo||"--"))+"\n          ")])],1):"1"===t.form.pickType||"3"===t.form.pickType?r("div",[r("el-form-item",{attrs:{label:"联系人："}},[t._v("\n            "+t._s(t.form.pickContact)+"\n          ")]),r("el-form-item",{attrs:{label:"联系电话："}},[t._v("\n            "+t._s(t.form.pickTel)+"\n          ")]),r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"1"===t.form.pickType?"提货地址：":"装柜地址："}},[t._v("\n            "+t._s(t.form.pickAddressName)+"\n          ")]),r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"详细地址："}},[t._v("\n            "+t._s(t.form.pickAddress)+"\n          ")])],1):"2"===t.form.pickType?r("div",[r("el-form-item",{attrs:{label:"快递公司："}},[t._v("\n            "+t._s((t.form.express||{}).expressName)+"\n          ")]),r("el-form-item",{attrs:{label:"快递单号："}},[t._v("\n            "+t._s((t.form.express||{}).no)+"\n          ")])],1):t._e()],1)])],1)])},n=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("7f7f"),r("bd86")),o=(r("28a5"),r("7514"),r("a8db")),s=(r("96cf"),r("3b8d")),l=r("d225"),c=r("b0b4"),u=r("308d"),d=r("6bb5"),m=r("4e2b"),f=r("9ab4"),p=r("60a3"),v=r("9dba"),h=r("2d66");function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(r,!0).forEach(function(e){Object(i["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var y=function(t){function e(){var t;return Object(l["a"])(this,e),t=Object(u["a"])(this,Object(d["a"])(e).apply(this,arguments)),t.detailLoading=!1,t.form={price:{}},t.measure={},t.wordsList=[],t.departureList=[],t.destinationList=[],t.currentId="",t}return Object(m["a"])(e,t),Object(c["a"])(e,[{key:"setData",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.id,this.currentId=r,this.destinationList=[],this.departureList=[],t.next=6,this.getWordsList();case 6:this.getDetail();case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"getWordsList",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.detailLoading=!0,e={type:"server_terms"},t.prev=2,t.next=5,Object(h["fb"])(e);case 5:r=t.sent,a=r.data||[],this.wordsList=a,t.next=14;break;case 10:return t.prev=10,t.t0=t["catch"](2),this.detailLoading=!0,t.abrupt("return",t.t0);case 14:case"end":return t.stop()}},t,this,[[2,10]])}));function e(){return t.apply(this,arguments)}return e}()},{key:"getDetail",value:function(){var t=this;Object(h["O"])({id:this.currentId}).then(function(e){var r=e.data||{},a=(r.boxes,r.batchSummaries,r.batches,r.lsc),n=(r.buyer,r.currency),i=r.country,s=r.container,l=r.delivery,c=r.supplement,u=r.warehouse,d=r.um,m=r.fbastore,f=r.price,p=r.measure,v=r.lscConfig,h=Object(o["a"])(r,["boxes","batchSummaries","batches","lsc","buyer","currency","country","container","delivery","supplement","warehouse","um","fbastore","price","measure","lscConfig"]),g="",y="",w="",_="",k=v||{},O=t.wordsList.find(function(t){return t.value===k.clause})||{};g=O.label;var x=(k.departureName||"").split(",");y=(x[0]||"")+(x.length>1?"...":""),t.departureList=x;var C=(k.destinationName||"").split(",");w=(C[0]||"")+(C.length>1?"...":""),t.destinationList=C,_=k.priceType,t.form=b({price:f||{}},h,{},c,{},d,{fbastoreCode:m.code||"",lscId:a.key,lscName:a.value,currencyId:n.key,countryName:i.value,containerType:s.type,deliveryName:l.value,warehouseName:u.name,clauseName:g,departureName:y,destinationName:w,lscPriceType:_}),t.measure=p||{},t.detailLoading=!1}).catch(function(e){return t.detailLoading=!1,[null,e]})}},{key:"unitFilter",value:function(t){return"CBM"===t?"m³":"CUFT"===t?"ft³":"KGS"===t?"kg":"LBS"===t?"lb":"OZS"===t?"oz":void 0}},{key:"onApplyFrost",value:function(){var t=this,e={code:this.form.code};this.$confirm("此操作将申请解冻订单","温馨提示",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){Object(h["b"])(e).then(function(e){t.$message({type:"success",message:"提交成功"}),t.getDetail()}).catch(function(t){return t})}).catch(function(){return!1})}},{key:"custType",get:function(){var t=v["a"].info||{},e=t.custType;return e}}]),e}(p["e"]);y=f["a"]([Object(p["a"])({name:"detail",components:{},props:{lineList:{type:Array,default:function(){return[]}},pickList:{type:Array,default:function(){return[]}},typeList:{type:Array,default:function(){return[]}},wareList:{type:Array,default:function(){return[]}}}})],y);var w=y,_=w,k=(r("f3fc"),r("2877")),O=Object(k["a"])(_,a,n,!1,null,"4ce4cb5c",null);e["a"]=O.exports},c429:function(t,e,r){},ce73:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.detailLoading,expression:"detailLoading"}]},[r("div",{staticClass:"detail-back"},[r("el-radio-group",{attrs:{size:"small"},on:{change:t.pageChange},model:{value:t.pageName,callback:function(e){t.pageName=e},expression:"pageName"}},[r("el-radio-button",{attrs:{label:"0"}},[t._v("\n        计量详情\n      ")]),r("el-radio-button",{attrs:{label:"1"}},[t._v("\n        验货详情\n      ")])],1),r("span",{staticStyle:{cursor:"pointer"},on:{click:t.goBack}},[r("i",{staticClass:"el-icon-back"}),r("span",[t._v("返回")])])],1),r("ExamineDetail",{directives:[{name:"show",rawName:"v-show",value:"1"===t.pageName,expression:"pageName === '1'"}],ref:"ExamineDetail",on:{setload:t.setLoading}}),r("MeasureDetail",{directives:[{name:"show",rawName:"v-show",value:"0"===t.pageName,expression:"pageName === '0'"}],ref:"MeasureDetail",on:{setload:t.setLoading}})],1)},n=[],i=r("d225"),o=r("b0b4"),s=r("308d"),l=r("6bb5"),c=r("4e2b"),u=r("9ab4"),d=r("60a3"),m=r("2d66"),f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"order-detail"},[r("div",{staticClass:"detail-title"},[t._v("\n    验货申请单详细信息\n  ")]),r("el-form",{ref:"detail",staticClass:"detail-form",attrs:{model:t.form,"label-width":"120px","label-position":"right"}},[r("el-form-item",{attrs:{label:"验货申请单ID："}},[t.isEdit?r("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:t.form.examiningNo,callback:function(e){t.$set(t.form,"examiningNo",e)},expression:"form.examiningNo"}}):r("span",[t._v("\n        "+t._s(t.form.examiningNo)+"\n      ")])],1),r("el-form-item",{attrs:{label:"原单号："}},[t.isEdit?r("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:t.form.originalNo,callback:function(e){t.$set(t.form,"originalNo",e)},expression:"form.originalNo"}}):r("span",[t._v("\n        "+t._s(t.form.originalNo)+"\n      ")])],1),r("el-form-item",{attrs:{label:"仓库名称："}},[t.isEdit?r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small",clearable:"",filterable:""},model:{value:t.form.warehouseId,callback:function(e){t.$set(t.form,"warehouseId",e)},expression:"form.warehouseId"}},t._l(t.storeOptions,function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1):r("span",[t._v("\n        "+t._s(t.form.warehouseName)+"\n      ")])],1),r("el-form-item",{attrs:{label:"入仓时间："}},[t._v("\n      "+t._s(t.row.storageTime)+"\n    ")]),r("el-form-item",{attrs:{label:"状态："}},[t.isEdit?r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small",clearable:""},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.statusList,function(t,e){return r("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1):r("span",[t._v("\n        "+t._s((t.statusList[t.form.status-1]||{}).name)+"\n      ")])],1),t.isEdit?t._e():r("span",[r("el-form-item",{attrs:{label:"申请人："}},[t._v("\n        "+t._s(t.form.applicantName)+"\n      ")]),r("el-form-item",{attrs:{label:"申请时间："}},[t._v("\n        "+t._s(t.form.createTime)+"\n      ")]),r("el-form-item",{attrs:{label:"审核人："}},["0"===t.custType||"1"===t.custType?r("span",[t._v(t._s(t.form.reviewerName))]):"2"===t.custType?r("span",[t._v(t._s(t.form.agencyReviewerName))]):"3"===t.custType?r("span",[t._v(t._s(t.form.warehouseReviewerName))]):t._e()]),r("el-form-item",{attrs:{label:"审核时间："}},["0"===t.custType||"1"===t.custType?r("span",[t._v(t._s(t.form.reviewTime))]):"2"===t.custType?r("span",[t._v(t._s(t.form.agencyReviewTime))]):"3"===t.custType?r("span",[t._v(t._s(t.form.warehouseReviewTime))]):t._e()]),r("el-form-item",{attrs:{label:"审核结果："}},["0"===t.custType||"1"===t.custType?r("span",[t._v(t._s(t.form.auditResults))]):"2"===t.custType?r("span",[t._v(t._s(t.form.agencyReviewResults))]):"3"===t.custType?r("span",[t._v(t._s(t.form.warehouseReviewResults))]):t._e(),t._v("\n        "+t._s(t.form.auditResults)+"\n      ")])],1),r("el-form-item",{attrs:{label:"验货环节："}},[t.isEdit?r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small",clearable:""},model:{value:t.form.section,callback:function(e){t.$set(t.form,"section",e)},expression:"form.section"}},[r("el-option",{attrs:{label:"退货入库",value:2}}),r("el-option",{attrs:{label:"入库检验",value:1}})],1):r("span",[1===t.form.section?r("span",[t._v("\n          入库检验\n        ")]):t._e(),2===t.form.section?r("span",[t._v("\n          退货入库\n        ")]):t._e()])],1),r("div",[r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"验货要求："}},[t.isEdit?r("el-input",{attrs:{size:"small",placeholder:"请输入"},model:{value:t.form.noted,callback:function(e){t.$set(t.form,"noted",e)},expression:"form.noted"}}):r("span",[t._v("\n          "+t._s(t.form.noted)+"\n        ")])],1)],1)],1),r("el-row",[r("el-col",{attrs:{xs:12,sm:10,md:10,lg:8,xl:8}},[r("div",{staticStyle:{"margin-right":"16px"}},[r("div",{staticClass:"detail-title"},[t._v("\n          验货结果\n        ")]),r("div",{staticClass:"row-split"},[r("el-form",{ref:"detail",staticClass:"result-form",attrs:{model:t.resultForm,"label-width":"105px","label-position":"right"}},[r("el-form-item",{attrs:{label:"渠道确认："}},[0===t.resultForm.validated?r("span",[t._v("不通过")]):1===t.resultForm.validated?r("span",[t._v("通过")]):t._e()]),r("el-form-item",{attrs:{label:"商品属性："}},[t._v("\n              "+t._s(t.resultForm.categoriesStr)+"\n            ")]),r("el-form-item",{attrs:{label:"验货描述："}},[t._v("\n              "+t._s(t.resultForm.examiningDesc)+"\n            ")]),r("el-form-item",{attrs:{label:"验货照片："}},t._l(t.examImg,function(e,a){return r("el-card",{key:a,staticStyle:{display:"inline-block",margin:"0 10px 10px 0"},attrs:{"body-style":{padding:"0px"}}},[r("div",{staticClass:"img-show"},[r("img",{staticClass:"avatar-img",attrs:{src:t.filePath+e}}),r("span",{staticClass:"img-action",on:{click:function(t){t.stopPropagation()}}},[r("i",{staticClass:"el-icon-zoom-in img-icon",on:{click:function(r){r.stopPropagation(),t.imgShow=!0,t.imgUrl=t.filePath+e}}})])])])}),1),r("el-form-item",{attrs:{label:"问题件照片："}},t._l(t.issueImg,function(e,a){return r("el-card",{key:a,staticStyle:{display:"inline-block",margin:"0 10px 10px 0"},attrs:{"body-style":{padding:"0px"}}},[r("div",{staticClass:"img-show"},[r("img",{staticClass:"avatar-img",attrs:{src:t.filePath+e}}),r("span",{staticClass:"img-action",on:{click:function(t){t.stopPropagation()}}},[r("i",{staticClass:"el-icon-zoom-in img-icon",on:{click:function(r){r.stopPropagation(),t.imgShow=!0,t.imgUrl=t.filePath+e}}})])])])}),1)],1)],1)])]),r("el-col",{attrs:{xs:12,sm:14,md:14,lg:16,xl:16}},[r("div",{staticClass:"detail-title"},[t._v("\n        商品列表\n      ")]),r("div",{staticClass:"row-split"},t._l(t.goodsData,function(e,a){return r("el-card",{key:a,staticClass:"card-goods",attrs:{"body-style":{padding:"15px"}}},[r("div",{staticClass:"card-item"},[r("div",{staticClass:"img-show"},[r("img",{staticClass:"avatar-img",attrs:{src:t.filePath+e.picture}}),r("span",{staticClass:"img-action",on:{click:function(t){t.stopPropagation()}}},[r("i",{staticClass:"el-icon-zoom-in img-icon",on:{click:function(r){r.stopPropagation(),t.imgShow=!0,t.imgUrl=t.filePath+e.picture}}})])]),r("div",{staticClass:"card-word"},[r("div",{staticStyle:{"font-size":"16px","font-weight":"600"}},[t._v("\n                "+t._s(e.nameCn)+"\n              ")]),r("div",{staticStyle:{"padding-top":"5px","font-size":"14px",color:"#606266"}},[t._v("\n                商品属性："+t._s(e.nature)+"\n              ")])])])])}),1)])],1),r("el-dialog",{attrs:{title:"商品图片",visible:t.imgShow,"close-on-click-modal":!1,"append-to-body":"",width:"540px"},on:{"update:visible":function(e){t.imgShow=e},closed:function(e){t.imgShow=!1}}},[r("img",{staticStyle:{display:"block",height:"100%",width:"100%","object-fit":"contain"},attrs:{src:t.imgUrl}})])],1)},p=[],v=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),h=(r("7f7f"),r("7514"),r("28a5"),r("a8db")),g=r("9dba"),b=r("b941");function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(r,!0).forEach(function(e){Object(v["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var _=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(s["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.isEdit=!1,t.form={actualFinishTime:void 0,agencyReviewResults:void 0,agencyReviewTime:void 0,agencyReviewerId:void 0,agencyReviewerName:void 0,applicantId:void 0,applicantName:void 0,assignorId:void 0,assignorName:void 0,auditResults:void 0,autidStatus:0,createTime:void 0,custId:void 0,custName:void 0,examiningNo:void 0,examiningType:0,executorId:void 0,executorName:void 0,expectedFinishTime:void 0,noted:void 0,originalNo:void 0,reviewTime:void 0,reviewerId:void 0,reviewerName:void 0,scale:0,section:0,status:0,id:void 0,totalNumber:0,totalVolume:0,totalWeight:0,updateTime:void 0,warehouseId:void 0,warehouseName:void 0,warehouseReviewResults:void 0,warehouseReviewTime:void 0,warehouseReviewerId:void 0,warehouseReviewerName:void 0},t.statusList=[{id:"1",name:"待验货"},{id:"2",name:"验货中"},{id:"3",name:"已完成"}],t.resultForm={},t.row={},t.boxData=[],t.goodsData=[],t.issueImg=[],t.examImg=[],t.categories=[{name:"普货",value:"0"},{name:"纯电",value:"2"},{name:"带磁",value:"3"},{name:"带电",value:"1"},{name:"危险",value:"4"}],t.imgShow=!1,t.imgUrl="",t.examineId="",t.tabsIndex="first",t.filePath="https://file.jhtinfo.net/",t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"setData",value:function(t){this.examineId=t.code||"",this.row=t,this.getDetail()}},{key:"getDetail",value:function(){var t=this;this.$emit("setload",!0),Object(b["O"])({id:this.examineId}).then(function(e){var r=e.data||{},a=r.boxes,n=r.goods,i=r.result,o=Object(h["a"])(r,["boxes","goods","result"]);t.form=o||{},t.boxData=a||[],t.goodsData=n||[];var s=i.categories||"",l=s.split(","),c=t.categories.filter(function(t){return l.find(function(e){return e===t.value})}).map(function(t){return t.name}).join("，");t.resultForm=w({},i,{categoriesStr:c}),t.issueImg=t.resultForm.badImageUrls||[],t.examImg=t.resultForm.examineImageUrls||[],t.$emit("setload",!1)}).catch(function(e){return t.$emit("setload",!1),[null,e]})}},{key:"handleClick",value:function(t,e){this.tabsIndex=t.name}},{key:"handleSelection",value:function(){}},{key:"handleDelete",value:function(){}},{key:"handleSave",value:function(){}},{key:"handlePass",value:function(){}},{key:"handleRefuse",value:function(){}},{key:"handleResubmit",value:function(){}},{key:"handleBatchDelete",value:function(){}},{key:"handleAddList",value:function(){}},{key:"handleImg",value:function(){}},{key:"custId",get:function(){var t=g["a"].info||{},e=t.custId;return e}},{key:"custType",get:function(){var t=g["a"].info||{},e=t.custType;return e}}]),e}(d["e"]);_=u["a"]([Object(d["a"])({name:"ExamineDetail",components:{},props:{}})],_);var k=_,O=k,x=(r("437d"),r("2877")),C=Object(x["a"])(O,f,p,!1,null,"0e31cb6a",null),S=C.exports,j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-panel order-detail"},[r("div",{staticClass:"detail-title"},[t._v("\n    计量申请单详细信息\n  ")]),r("el-form",{ref:"detail",staticClass:"detail-form",attrs:{model:t.form,"label-width":"160px","label-position":"right"}},[r("el-form-item",{attrs:{label:"原单号："}},[t._v("\n      "+t._s(t.form.originalNo)+"\n    ")]),r("el-form-item",{attrs:{label:"仓库名称："}},[t._v("\n      "+t._s(t.form.warehouseName)+"\n    ")]),r("el-form-item",{staticStyle:{width:"49%"},attrs:{label:"客户名称："}},[t._v("\n      "+t._s((t.row.buyer||{}).name)+"\n    ")]),r("el-form-item",{attrs:{label:"入仓时间："}},[t._v("\n      "+t._s(t.row.storageTime)+"\n    ")]),r("el-form-item",{attrs:{label:"渠道："}},[t._v("\n      "+t._s((t.row.lsc||{}).value)+"\n    ")]),r("el-form-item",{attrs:{label:"计量方式："}},[t._v("\n      逐箱\n      ")]),r("el-form-item",{attrs:{label:"是否二次计量："}},[0===t.form.secondaryMesaure?r("span",[t._v("\n        否\n      ")]):1===t.form.secondaryMesaure?r("span",[t._v("\n        是\n      ")]):t._e()]),r("el-form-item",{attrs:{label:"计量状态："}},[1===t.form.measureStatus?r("span",[t._v("\n        待计量\n      ")]):2===t.form.measureStatus?r("span",[t._v("\n        计量中\n      ")]):3===t.form.measureStatus?r("span",[t._v("\n        计量已完成\n      ")]):t._e()]),r("el-form-item",{attrs:{label:"申请人："}},[t._v("\n      "+t._s(t.form.applicant)+"\n    ")]),r("el-form-item",{attrs:{label:"申请时间："}},[t._v("\n      "+t._s(t.form.createTime)+"\n    ")]),r("div",[r("el-form-item",{attrs:{label:"计量复核审核结果："}},[t._v("\n        "+t._s(t.form.measureReviewResults)+"\n      ")]),r("el-form-item",{attrs:{label:"计量复核审核人："}},[t._v("\n        "+t._s(t.form.measureReviewAuditor)+"\n      ")]),r("el-form-item",{attrs:{label:"计量复核审核时间："}},[t._v("\n        "+t._s(t.form.measureReviewTime)+"\n      ")]),r("el-form-item",{attrs:{label:"关联计量申请单号："}},[t._v("\n        "+t._s(t.form.relatedMeasuerId)+"\n      ")])],1),r("div",[r("div",{staticStyle:{"line-height":"40px","border-top":"1px solid #e8e8e8",margin:"10px -15px 0"}},[r("el-row",[r("el-col",{attrs:{span:4}},[t._v("\n            计量明细\n          ")]),r("el-col",{staticStyle:{"text-align":"right"},attrs:{span:20}},[r("div",[t.form.measureStatus?r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleExport}},[t._v("\n                导出Excel\n              ")]):t._e()],1)])],1)],1),r("div",[r("el-form-item",{attrs:{label:"理论总件数："}},[t._v("\n          "+t._s(t.form.totalNumber)+"\n        ")]),r("el-form-item",{attrs:{label:"理论总体积（m³）："}},[t._v("\n          "+t._s(t.$volumeConversion(t.form.totalVolume||0,"CBCM","CBM",3))+"\n        ")]),r("el-form-item",{attrs:{label:"理论总重量（kg）："}},[t._v("\n          "+t._s(t.form.totalWeight)+"\n        ")])],1),r("div",[r("el-form-item",{attrs:{label:"实际总件数："}},[t._v("\n          "+t._s(t.form.actualNumber)+"\n        ")]),r("el-form-item",{attrs:{label:"实际总体积（m³）："}},[t._v("\n          "+t._s(t.form.actualVolume)+"\n        ")]),r("el-form-item",{attrs:{label:"实际总重量（kg）："}},[t._v("\n          "+t._s(t.form.actualWeight)+"\n        ")])],1),r("div",["2"===(t.row.lscConfig||{}).priceType?r("el-form-item",{attrs:{label:"收费重量（kg）："}},[t._v("\n          "+t._s((t.row.price||{}).afinalWeightVol)+"\n        ")]):t._e(),"3"===(t.row.lscConfig||{}).priceType?r("el-form-item",{attrs:{label:"收费体积（m³）："}},[t._v("\n          "+t._s((t.row.price||{}).afinalWeightVol)+"\n        ")]):t._e(),r("el-form-item",{attrs:{label:"总货值("+(t.row.lscConfig||{}).declaredCurrency+")："}},[t._v("\n          "+t._s(t.row.value||"--")+"\n        ")]),"0"===((t.row.price||{}).billingConfig||{}).type?r("el-form-item",{attrs:{label:"总体积重："}},[t._v("\n          "+t._s(t.form.totalWeightVolume)+"\n        ")]):t._e(),"1"===((t.row.price||{}).billingConfig||{}).type?r("el-form-item",{attrs:{label:"总重量体积："}},[t._v("\n          "+t._s(t.form.totalWv)+"\n        ")]):t._e()],1)])],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelection}},[r("el-table-column",{attrs:{prop:"measureType",label:"类型"}},[t._v("\n      逐箱\n      ")]),r("el-table-column",{attrs:{prop:"boxCode",label:"箱号/托盘ID","min-width":"120px"}}),r("el-table-column",{attrs:{label:"重量（kg）"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isEdit?r("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:999999,precision:2},model:{value:e.row.weight,callback:function(r){t.$set(e.row,"weight",r)},expression:"scope.row.weight"}}):r("span",[t._v("\n          "+t._s(e.row.weight)+"\n        ")])]}}])}),r("el-table-column",{attrs:{label:"长（cm）"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isEdit?r("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:999999,precision:2},model:{value:e.row.length,callback:function(r){t.$set(e.row,"length",r)},expression:"scope.row.length"}}):r("span",{class:t.formatExceed(e.row,"length")?"word-color":""},[t._v("\n          "+t._s(e.row.length)+"\n        ")])]}}])}),r("el-table-column",{attrs:{label:"宽（cm）"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isEdit?r("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:999999,precision:2},model:{value:e.row.width,callback:function(r){t.$set(e.row,"width",r)},expression:"scope.row.width"}}):r("span",{class:t.formatExceed(e.row,"width")?"word-color":""},[t._v("\n          "+t._s(e.row.width)+"\n        ")])]}}])}),r("el-table-column",{attrs:{label:"高（cm）"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isEdit?r("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:999999,precision:2},model:{value:e.row.height,callback:function(r){t.$set(e.row,"height",r)},expression:"scope.row.height"}}):r("span",{class:t.formatExceed(e.row,"height")?"word-color":""},[t._v("\n          "+t._s(e.row.height)+"\n        ")])]}}])}),r("el-table-column",{attrs:{prop:"girth",label:"围长"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{class:"US"===t.row.country.key&&e.row.girth>=260||"CA"===t.row.country.key&&e.row.girth>=320?"word-color":""},[t._v("\n          "+t._s(e.row.girth)+"\n        ")])]}}])}),"0"===((t.row.price||{}).billingConfig||{}).type?r("el-table-column",{attrs:{prop:"weightVolume",label:"体积重"}}):t._e(),"1"===((t.row.price||{}).billingConfig||{}).type?r("el-table-column",{attrs:{prop:"wv",label:"重量体积"}}):t._e(),r("el-table-column",{attrs:{prop:"empName",label:"计量人"}}),r("el-table-column",{attrs:{prop:"createTime",label:"计量时间",width:"160px"}})],1),r("el-pagination",{staticStyle:{"text-align":"right",margin:"5px 0 15px"},attrs:{"current-page":t.page,"page-size":t.size,layout:"total, prev, pager, next",total:t.total},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),r("el-dialog",{attrs:{width:"500px",title:t.title,visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e},closed:t.handleFormCancel}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.formLoading,expression:"formLoading"}],ref:"editForm",staticStyle:{"padding-right":"20px"},attrs:{model:t.dialogForm,rules:t.formRules,"label-width":"90px","label-position":"right",size:"small"}},[r("el-form-item",{attrs:{label:"箱号",prop:"boxCode"}},[r("el-input",{attrs:{size:"small",placeholder:"请输入",maxlength:25},model:{value:t.dialogForm.boxCode,callback:function(e){t.$set(t.dialogForm,"boxCode",e)},expression:"dialogForm.boxCode"}})],1),r("el-form-item",{attrs:{label:"重量(kg)",prop:"weight"}},[r("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:999999,precision:2},model:{value:t.dialogForm.weight,callback:function(e){t.$set(t.dialogForm,"weight",e)},expression:"dialogForm.weight"}})],1),r("el-form-item",{attrs:{label:"长度(cm)",prop:"length"}},[r("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:999999,precision:2},model:{value:t.dialogForm.length,callback:function(e){t.$set(t.dialogForm,"length",e)},expression:"dialogForm.length"}})],1),r("el-form-item",{attrs:{label:"宽度(cm)",prop:"width"}},[r("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:999999,precision:2},model:{value:t.dialogForm.width,callback:function(e){t.$set(t.dialogForm,"width",e)},expression:"dialogForm.width"}})],1),r("el-form-item",{attrs:{label:"高度(cm)",prop:"height"}},[r("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:999999,precision:2},model:{value:t.dialogForm.height,callback:function(e){t.$set(t.dialogForm,"height",e)},expression:"dialogForm.height"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.handleFormCancel}},[t._v("\n        取消\n      ")]),r("el-button",{attrs:{type:"primary"},on:{click:t.handleFormSave}},[t._v("\n        保存\n      ")])],1)],1)],1)},L=[],I=(r("55dd"),r("5a0c")),N=r.n(I);function P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?P(r,!0).forEach(function(e){Object(v["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var F=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(s["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.row={},t.form={actualMeasureTime:void 0,applicant:void 0,applicantId:void 0,createTime:void 0,custId:void 0,custName:void 0,expectedMeasureTime:void 0,measureId:void 0,measureMethod:void 0,measureReviewAuditor:void 0,measureReviewResults:void 0,measureReviewTime:void 0,measureStatus:void 0,originalNo:void 0,relatedMeasuerId:void 0,secondaryMesaure:void 0,totalNumber:void 0,totalVolume:void 0,totalWeight:void 0,updateTime:void 0,warehouseId:void 0,warehouseName:void 0},t.fileList=[],t.loading=!1,t.formLoading=!1,t.tableData=[],t.title="",t.isEdit=!1,t.dialogVisible=!1,t.dialogForm={boxCode:void 0,height:void 0,length:void 0,width:void 0,weight:void 0},t.formRules={boxCode:[{required:!0,message:"箱号不能为空",trigger:"blur"},{validator:function(t,e,r){var a=/^[a-zA-Z0-9 .·_-]+$/;e?a.test(e)?r():r(new Error("箱号不能有中文及特殊字符")):r(new Error("箱号不能为空"))},trigger:"blur"}],height:[{required:!0,message:"高度不能为空",trigger:"blur"}],length:[{required:!0,message:"长度不能为空",trigger:"blur"}],width:[{required:!0,message:"宽度不能为空",trigger:"blur"}],weight:[{required:!0,message:"重量不能为空",trigger:"blur"}]},t.orderId="",t.page=1,t.size=10,t.total=10,t.selectArr=[],t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"formatExceed",value:function(t,e){var r=[t.length||0,t.width||0,t.height||0].sort(function(t,e){return e-t});return t[e]>=120||(t[e]===r[1]&&t[e]>=75||void 0)}},{key:"setData",value:function(t){this.row=t,this.orderId=(t||{}).id||"",this.getForm(),this.getDetail()}},{key:"removeFileList",value:function(){this.fileList=[]}},{key:"uploadFile",value:function(t){var e=this,r=t.file,a=new FormData;a.append("file",r),a.append("lineMeasureInfoId",this.form.id),Object(m["mb"])(a).then(function(t){e.getForm(),e.getDetail(),e.$message.success("导入成功")}).catch(function(t){return t})}},{key:"getForm",value:function(){var t=this;this.$emit("setload",!0);var e=(this.row.price||{}).billingConfig||{};Object(m["K"])({fullorderId:this.orderId,type:e.type,density:e.density,vw:e.vw}).then(function(e){var r=e.data||{};t.form=r,t.$emit("setload",!1)}).catch(function(e){return t.$emit("setload",!1),[null,e]})}},{key:"getDetail",value:function(){var t=this;this.loading=!0;var e=(this.row.price||{}).billingConfig||{};Object(m["L"])({model:{fullorderId:this.orderId,billingConfig:e},page:this.page,size:this.size}).then(function(e){var r=e.data||{};t.tableData=r.result||[],t.total=r.total,t.loading=!1}).catch(function(e){return t.loading=!1,e})}},{key:"handleSizeChange",value:function(t){this.size=t,this.getDetail()}},{key:"handleCurrentChange",value:function(t){this.page=t,this.getDetail()}},{key:"handleSelection",value:function(t){this.selectArr=(t||[]).map(function(t){return t.id})}},{key:"handleBatchDelete",value:function(){Array.isArray(this.selectArr)&&this.selectArr.length>0?this.handleRowDelete(this.selectArr):this.$message.error("请勾选需要删除的列表项")}},{key:"handleRowDelete",value:function(t){var e=this,r=t||[];this.$confirm("请确认是否删除该条数据?","温馨提示",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){Object(m["h"])(r).then(function(t){e.$message({type:"success",message:"删除成功"}),e.getForm(),e.getDetail(),e.selectArr=[]}).catch(function(t){return t})}).catch(function(){return!1})}},{key:"handleRowEdit",value:function(t,e){this.$set(t,"isEdit",!0)}},{key:"handleRowSave",value:function(t){var e=this;this.loading=!0;var r=t;Object(m["rb"])(r).then(function(t){e.$message({type:"success",message:"保存成功"}),e.getForm(),e.getDetail()}).catch(function(){return e.loading=!1,!1})}},{key:"handleRowAdd",value:function(){this.dialogVisible=!0,this.title="新增计量(逐箱)"}},{key:"handleFormSave",value:function(){var t=this,e=this.$refs.editForm;e.validate(function(e){if(!e)return!1;t.formLoading=!0;var r=T({},t.dialogForm,{lineMeasureInfoId:t.form.id,orderId:t.orderId,originalNo:t.form.originalNo,custId:t.form.custId,custName:t.form.custName,warehouseId:t.form.warehouseId,warehouseName:t.form.warehouseName});Object(m["rb"])(r).then(function(e){t.formLoading=!1,t.$message({type:"success",message:"操作成功"}),t.formLoading=!1,t.handleFormCancel(),t.getForm(),t.getDetail()}).catch(function(e){return t.formLoading=!1,e})})}},{key:"handleFormCancel",value:function(){this.dialogVisible=!1,this.dialogForm={boxCode:void 0,height:void 0,length:void 0,width:void 0,weight:void 0};var t=this.$refs.editForm;this.$nextTick(function(){t.clearValidate()})}},{key:"handleExport",value:function(){var t=this,e=(this.row.price||{}).billingConfig||{};Object(m["x"])({billingConfig:e,custId:this.form.custId,endTime:this.form.endTime,fullorderId:this.orderId,originalNo:this.form.originalNo,startTime:this.form.startTime,warehouseId:this.form.warehouseId}).then(function(t){var e=document.createElement("a");document.body.appendChild(e);var r=new Blob([t],{type:"application/vnd.ms-excel"}),a=URL.createObjectURL(r);e.href=a,e.download="计量数据列表"+N()().format("YYYY-MM-DD_HH-mm-ss")+".xls",e.click(),document.body.removeChild(e),URL.revokeObjectURL(a)}).catch(function(e){e.data.text().then(function(e){try{var r=JSON.parse(e);200!==r.code&&t.$message.error(r.msg||"文件下载失败")}catch(a){return a}})})}},{key:"handleComplate",value:function(){var t=this;this.$emit("setload",!0);var e={auditStatus:2,id:this.form.id,originalNo:this.form.originalNo};Object(m["sb"])(e).then(function(e){t.$message({type:"success",message:"保存成功"}),t.getForm(),t.getDetail()}).catch(function(){return t.$emit("setload",!1),!1})}},{key:"table",get:function(){var t=this.tableData;return t}},{key:"custType",get:function(){var t=g["a"].info||{},e=t.custType;return e}}]),e}(d["e"]);F=u["a"]([Object(d["a"])({name:"measure",components:{},props:{}})],F);var R=F,z=R,D=(r("ce75"),Object(x["a"])(z,j,L,!1,null,"d2c85d62",null)),$=D.exports,M=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(s["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.row={},t.pageName="0",t.detailLoading=!1,t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"setLoading",value:function(t){this.detailLoading=t}},{key:"setData",value:function(t,e){var r=this;"EXAMINE"===e&&(this.pageName="1"),this.detailLoading=!0,Object(m["O"])({id:(t||{}).id||""}).then(function(t){r.row=t.data||{},r.pageChange(),r.detailLoading=!1}).catch(function(){r.detailLoading=!1,r.goBack()})}},{key:"pageChange",value:function(){if("1"===this.pageName){var t=this.$refs.ExamineDetail;t.setData(this.row)}else{var e=this.$refs.MeasureDetail;e.setData(this.row)}}},{key:"goBack",value:function(){this.pageName="0",this.row={},this.$emit("back")}}]),e}(d["e"]);M=u["a"]([Object(d["a"])({name:"measure",components:{ExamineDetail:S,MeasureDetail:$},props:{}})],M);var E=M,A=E,W=(r("b3ca"),Object(x["a"])(A,a,n,!1,null,"53548fee",null));e["a"]=W.exports},ce75:function(t,e,r){"use strict";var a=r("2959"),n=r.n(a);n.a},f3fc:function(t,e,r){"use strict";var a=r("a7af"),n=r.n(a);n.a}}]);