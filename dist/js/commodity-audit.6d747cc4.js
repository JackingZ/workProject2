(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["commodity-audit"],{"0f11":function(e,t,a){"use strict";var r=a("9574"),i=a.n(r);i.a},7518:function(e,t,a){"use strict";var r=a("7793"),i=a.n(r);i.a},7793:function(e,t,a){},8461:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"c",function(){return n}),a.d(t,"h",function(){return l}),a.d(t,"k",function(){return o}),a.d(t,"l",function(){return s}),a.d(t,"e",function(){return c}),a.d(t,"g",function(){return u}),a.d(t,"d",function(){return p}),a.d(t,"f",function(){return d}),a.d(t,"j",function(){return m}),a.d(t,"a",function(){return f}),a.d(t,"m",function(){return h}),a.d(t,"i",function(){return v});var r=a("b32d");function i(){var e={url:"/setting/area/getCountryList",method:"get"};return Object(r["a"])(e)}function n(e){var t={url:"/setting/currency/getCurrencyList",method:"get",params:e};return Object(r["a"])(t)}function l(e){var t={url:"/setting/library/get_declare_examine",method:"post",data:e};return Object(r["a"])(t)}function o(e){var t={url:"/setting/library/approved",method:"post",data:e};return Object(r["a"])(t)}function s(e){var t={url:"/setting/library/save_declare",method:"post",data:e};return Object(r["a"])(t)}function c(e){var t={url:"/setting/library/get_file",method:"post",params:e};return Object(r["a"])(t)}function u(e){var t={url:"/setting/product/get_tree",method:"post",data:e};return Object(r["a"])(t)}function p(e){var t={url:"/setting/essential/page_library",method:"post",data:e};return Object(r["a"])(t)}function d(e){var t={url:"/setting/library/get_file_list",method:"post",params:e};return Object(r["a"])(t)}function m(e){var t={url:"/price/customs_price/get_rates",method:"get",params:e};return Object(r["a"])(t)}function f(e){var t={url:"/setting/library/audit_file",method:"post",data:e};return Object(r["a"])(t)}function h(e){var t={url:"/setting/library/save_file",method:"post",data:e};return Object(r["a"])(t)}function v(e){var t={url:"/orders/fullorder/commodityDeclarationPage",method:"post",data:e};return Object(r["a"])(t)}},8752:function(e,t,a){},9574:function(e,t,a){},"9f5c":function(e,t,a){"use strict";var r=a("e46e"),i=a.n(r);i.a},c97a:function(e,t,a){"use strict";var r=a("8752"),i=a.n(r);i.a},e46e:function(e,t,a){},ffe0:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","min-height":"inherit"}},[a("div",{staticClass:"dashboard-container",staticStyle:{flex:"1",overflow:"auto"}},[a("div",{staticClass:"app-container"},[a("head-info",{attrs:{info:"",title:"商品审核"}}),a("div",{staticClass:"app-panel"},[a("el-row",[a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[a("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{loading:e.selectLoading,placeholder:"目的国",size:"small",filterable:"",clearable:""},on:{focus:e.getCountryList},model:{value:e.selectValue.countryId,callback:function(t){e.$set(e.selectValue,"countryId",t)},expression:"selectValue.countryId"}},e._l(e.countryList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1),a("el-select",{staticStyle:{width:"120px","margin-right":"5px"},attrs:{size:"small",placeholder:"审核状态",clearable:""},model:{value:e.selectValue.status,callback:function(t){e.$set(e.selectValue,"status",t)},expression:"selectValue.status"}},[a("el-option",{attrs:{label:"待审核",value:0}}),a("el-option",{attrs:{label:"审核通过",value:1}}),a("el-option",{attrs:{label:"审核拒绝",value:2}})],1),a("el-select",{staticStyle:{width:"120px","margin-right":"5px"},attrs:{size:"small",placeholder:"价格定义",clearable:""},model:{value:e.selectValue.ifPrice,callback:function(t){e.$set(e.selectValue,"ifPrice",t)},expression:"selectValue.ifPrice"}},[a("el-option",{attrs:{label:"未配置",value:0}}),a("el-option",{attrs:{label:"已配置",value:1}})],1),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"300px","margin-right":"5px"},attrs:{placeholder:"请输入内容",size:"small",clearable:""},model:{value:e.selectValue.keyword,callback:function(t){e.$set(e.selectValue,"keyword",t)},expression:"selectValue.keyword"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{slot:"prepend",size:"small",placeholder:"请选择"},slot:"prepend",model:{value:e.selectType,callback:function(t){e.selectType=t},expression:"selectType"}},[a("el-option",{attrs:{label:"海关编码",value:"1"}}),a("el-option",{attrs:{label:"中文名称",value:"2"}}),a("el-option",{attrs:{label:"英文名称",value:"3"}})],1)],1),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["queryCheck"],expression:"['queryCheck']"}],attrs:{type:"primary",size:"small"},on:{click:function(t){return e.queryAll(1)}}},[e._v("\n              查询\n            ")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.tableData,height:"calc(100vh - 300px)",border:""}},[a("el-table-column",{attrs:{prop:"startCountryName",label:"起运国","min-width":"120"}}),a("el-table-column",{attrs:{prop:"countryName",label:"目的国","min-width":"120"}}),a("el-table-column",{attrs:{width:"120",label:"审核状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("span",[e._v("待审核")]):1===t.row.status?a("span",[e._v("审核通过")]):2===t.row.status?a("span",[e._v("审核拒绝")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"code","min-width":"150",label:"海关编码","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{"min-width":"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"word-limit"},[a("span",[e._v(e._s(t.row.cnName?t.row.cnName:"--"))]),a("br"),a("span",[e._v(e._s(t.row.enName?t.row.enName:"--"))])])]}}])},[a("template",{slot:"header"},[a("span",[e._v("商品名称(中文)")]),a("br"),a("span",[e._v("商品名称(英文)")])])],2),a("el-table-column",{attrs:{prop:"brand","min-width":"120",label:"品牌","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"size","min-width":"120",label:"规格","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{"min-width":"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"word-limit"},[a("span",[e._v(e._s(t.row.cnMaterial?t.row.cnMaterial:"--"))]),a("br"),a("span",[e._v(e._s(t.row.enMaterial?t.row.enMaterial:"--"))])])]}}])},[a("template",{slot:"header"},[a("span",[e._v("材质(中文)")]),a("br"),a("span",[e._v("材质(英文)")])])],2),a("el-table-column",{attrs:{"min-width":"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"word-limit"},[a("span",[e._v(e._s(t.row.cnPurpose?t.row.cnPurpose:"--"))]),a("br"),a("span",[e._v(e._s(t.row.enPurpose?t.row.enPurpose:"--"))])])]}}])},[a("template",{slot:"header"},[a("span",[e._v("用途(中文)")]),a("br"),a("span",[e._v("用途(英文)")])])],2),a("el-table-column",{attrs:{prop:"unitName",width:"120",label:"计量单位"}}),a("el-table-column",{attrs:{prop:"title","min-width":"150",label:"商品类别","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"createTime",label:"添加时间",width:"170"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("span",{staticStyle:{"font-size":"30px"}},[a("strong",[t.row.ifPrice?a("span",{staticStyle:{color:"#4cd964"}},[e._v("\n                    ·\n                  ")]):a("span",{staticStyle:{color:"#ff3b30"}},[e._v("\n                    ·\n                  ")])])]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["priceCheck"],expression:"['priceCheck']"}],attrs:{type:"text"},on:{click:function(a){return e.goPrice(t.row)}}},[e._v("\n                定义价格\n              ")]),1!==t.row.status&&e.$checkPermission(["execCheck"])?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.goAudit(t.row)}}},[e._v("\n                审核\n              ")]):e._e(),1===t.row.status?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.goView(t.row)}}},[e._v("\n                查看\n              ")]):e._e(),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.goFiles(t.row)}}},[e._v("\n                认证文件\n              ")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.goCustomers(t.row)}}},[e._v("\n                查看客户\n              ")])],1)}}])})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.page,"page-size":e.size,layout:"total, prev, pager, next",total:e.total},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"定义报价",width:"600px",visible:e.isPriceVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isPriceVisible=t},closed:e.priceCancel}},[a("priceForm",{ref:"priceForm",on:{priceCancel:e.priceCancel,queryAll:e.queryAll}})],1),a("el-dialog",{attrs:{title:"认证文件",width:"800px",visible:e.isFilesVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isFilesVisible=t},closed:e.filesCancel}},[a("filesForm",{ref:"filesForm",on:{filesCancel:e.filesCancel,queryAll:e.queryAll}})],1),a("el-dialog",{attrs:{title:"商品审核",width:"1000px",top:"10vh",visible:e.isAuditVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isAuditVisible=t},closed:e.auditCancel}},[a("auditForm",{ref:"auditForm",on:{auditCancel:e.auditCancel,queryAll:e.queryAll}})],1),a("el-dialog",{attrs:{title:"查看客户",width:"1200px",top:"10vh",visible:e.isCustomerVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isCustomerVisible=t},closed:e.customersCancel}},[a("customers",{ref:"customers"})],1)],1)],1)])])},i=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),l=a("a8db"),o=a("d225"),s=a("b0b4"),c=a("308d"),u=a("6bb5"),p=a("4e2b"),d=a("9ab4"),m=a("60a3"),f=a("9dba"),h=a("ac1a"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}]},[a("el-form",{ref:"auditForm",attrs:{model:e.selectForm,rules:e.formRules,"label-width":"100px","label-position":"right",size:"mini"}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"商品图片："}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.imgUrl,expression:"imgUrl"}],staticClass:"img-show"},[a("img",{staticClass:"avatar-img",attrs:{src:e.imgUrl}}),a("span",{staticClass:"img-action",on:{click:function(e){e.stopPropagation()}}},[a("i",{staticClass:"el-icon-zoom-in img-icon",on:{click:function(t){return t.stopPropagation(),e.onImgShow(t)}}})])])]),a("el-form-item",{attrs:{label:"中文名称："}},[e._v("\n      "+e._s(e.selectForm.cnName)+"\n    ")]),a("el-form-item",{attrs:{label:"英文名称："}},[e._v("\n      "+e._s(e.selectForm.enName)+"\n    ")]),a("el-form-item",{attrs:{label:"品牌名称："}},[e._v("\n      "+e._s(e.selectForm.brand)+"\n    ")]),a("el-form-item",{attrs:{label:"规格："}},[e._v("\n      "+e._s(e.selectForm.size)+"\n    ")]),a("el-form-item",{attrs:{label:"中文材质："}},[e._v("\n      "+e._s(e.selectForm.cnMaterial)+"\n    ")]),a("el-form-item",{attrs:{label:"英文材质："}},[e._v("\n      "+e._s(e.selectForm.enMaterial)+"\n    ")]),a("el-form-item",{attrs:{label:"中文用途："}},[e._v("\n      "+e._s(e.selectForm.cnPurpose)+"\n    ")]),a("el-form-item",{attrs:{label:"英文用途："}},[e._v("\n      "+e._s(e.selectForm.enPurpose)+"\n    ")]),a("el-form-item",{attrs:{label:"商品规格："}},[e._v("\n      "+e._s(e.selectForm.size)+"\n    ")]),a("el-form-item",{attrs:{label:"计量单位："}},[e._v("\n      "+e._s(e.selectForm.unitName)+"\n    ")]),a("div",{staticStyle:{"border-top":"1px solid #f2f2f2","padding-top":"10px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticStyle:{width:"100%","margin-bottom":"5px"},attrs:{label:"目的国："}},[e._v("\n            "+e._s(e.selectForm.countryName)+"\n          ")]),a("el-form-item",{staticStyle:{width:"100%","margin-bottom":"18px"},attrs:{label:"商品分类：",prop:"categoryId"}},[a("el-input",{attrs:{size:"small",disabled:"",placeholder:"请选择商品分类"},model:{value:e.selectForm.categoryName,callback:function(t){e.$set(e.selectForm,"categoryName",t)},expression:"selectForm.categoryName"}},[a("el-button",{attrs:{slot:"append",disabled:"view"===e.isType,type:"primary",icon:"el-icon-search"},on:{click:e.showCategoryDialog},slot:"append"})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"备注："}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:3},type:"textarea",maxlength:200,placeholder:"请输入"},model:{value:e.selectForm.remarks,callback:function(t){e.$set(e.selectForm,"remarks",t)},expression:"selectForm.remarks"}})],1)],1),a("el-col",{staticStyle:{"text-align":"right","padding-top":"20px"},attrs:{span:4}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"view"!==e.isType,expression:"isType !== 'view'"}],attrs:{type:"primary",size:"small"},on:{click:e.comfirm}},[e._v("\n            保存\n          ")])],1)],1)],1),a("div",{staticStyle:{height:"6px",margin:"5px 0 10px 0","background-color":"#f2f2f2"}}),a("div",{staticStyle:{"text-align":"right"}},[a("span",[e._v("海关编码 ")]),a("el-input",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{placeholder:"请输入",size:"small"},model:{value:e.selectValue.customCode,callback:function(t){e.$set(e.selectValue,"customCode",t)},expression:"selectValue.customCode"}}),a("span",[e._v("商品中文名称 ")]),a("el-input",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{placeholder:"请输入",size:"small"},model:{value:e.selectValue.cnName,callback:function(t){e.$set(e.selectValue,"cnName",t)},expression:"selectValue.cnName"}}),a("span",[e._v("商品英文名称 ")]),a("el-input",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{placeholder:"请输入",size:"small"},model:{value:e.selectValue.enName,callback:function(t){e.$set(e.selectValue,"enName",t)},expression:"selectValue.enName"}}),a("el-button",{attrs:{type:"primary",disabled:"view"===e.isType,size:"small"},on:{click:e.onSearch}},[e._v("\n        查询\n      ")])],1),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.rowId&&e.rowData.length>0,expression:"rowId && rowData.length > 0"}],staticClass:"row-select",staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.rowData,height:"35px",border:""}},[a("el-table-column",{attrs:{width:"55",label:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-close",staticStyle:{color:"#FF7D19",cursor:"pointer"},on:{click:function(a){return e.onRowClear(t.row)}}})]}}])}),a("el-table-column",{attrs:{prop:"cnName",label:"商品名称(中文)","min-width":"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"enName",label:"商品名称(英文)","min-width":"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"customCode",label:"海关编码","min-width":"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"essentialFactor",label:"申报要素","min-width":"150","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"category",label:"商品类别",width:"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"remarks",label:"备注","min-width":"120","show-overflow-tooltip":""}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.taxList,expression:"taxList"}],staticClass:"tax-list"},e._l(e.taxList,function(t){return a("div",{key:t.value,staticStyle:{display:"inline-block",padding:"0 10px"}},[e._v("\n        "+e._s(t.name)+"："+e._s(t.value)+"\n      ")])}),0),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.tableData,height:"300px",border:"","highlight-current-row":""},on:{"row-click":e.onRowSelect}},[a("el-table-column",{attrs:{width:"55",label:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.row.id},model:{value:e.rowId,callback:function(t){e.rowId=t},expression:"rowId"}},[e._v("\n             \n          ")])]}}])}),a("el-table-column",{attrs:{prop:"cnName",label:"商品名称(中文)","min-width":"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"enName",label:"商品名称(英文)","min-width":"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"customCode",label:"海关编码","min-width":"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"essentialFactor",label:"申报要素","min-width":"150","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"category",label:"商品类别",width:"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"remarks",label:"备注","min-width":"120","show-overflow-tooltip":""}})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.page,"page-size":e.size,layout:"total, prev, pager, next",total:e.total},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"商品类别",visible:e.categoryVisible,"close-on-click-modal":!1,width:"1000px","append-to-body":""},on:{"update:visible":function(t){e.categoryVisible=t}}},[a("div",{staticClass:"search-input"},[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.keyWord,callback:function(t){e.keyWord=t},expression:"keyWord"}}),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:e.clearSelect}},[e._v("\n        清除选择\n      ")])],1),a("div",{staticClass:"modal-content"},[a("div",{staticClass:"left-box"},[a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("\n            已选择\n          ")]),a("div",{staticClass:"country"},[e._v("\n            "+e._s(e.selectForm.categoryName)+"\n          ")])]),e.productClassList.length?a("div",{staticClass:"left-content"},e._l(e.productClassList,function(t){return a("div",{key:t.value,staticClass:"item",class:{active:e.selectCategory.value===t.value},on:{click:function(a){return e.selectCategoryClick(t)}}},[e._v("\n            "+e._s(t.label)+"\n          ")])}),0):a("el-empty",{attrs:{description:"暂无数据"}})],1),a("div",{staticClass:"right-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.subProductClassList,height:"500px",border:""}},[a("el-table-column",{attrs:{width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{"text-align":"center"}},[a("el-radio",{attrs:{label:t.row.value},on:{change:e.selectCategoryChange},model:{value:e.selectForm.categoryId,callback:function(t){e.$set(e.selectForm,"categoryId",t)},expression:"selectForm.categoryId"}},[e._v("\n                   \n                ")])],1)]}}])}),a("el-table-column",{attrs:{label:"所属大类",prop:"pCategory"}}),a("el-table-column",{attrs:{label:"类别名称",prop:"label","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"备注",prop:"remarks","show-overflow-tooltip":""}})],1)],1)])]),a("el-dialog",{attrs:{title:"商品图片",visible:e.imgShow,"close-on-click-modal":!1,"append-to-body":"",width:"500px"},on:{"update:visible":function(t){e.imgShow=t},closed:function(t){e.imgShow=!1}}},[a("img",{staticStyle:{display:"block",height:"100%",width:"100%","object-fit":"contain"},attrs:{src:e.imgUrl}})])],1)},b=[],g=(a("a481"),a("96cf"),a("3b8d")),y=(a("7514"),a("8461"));function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach(function(t){Object(n["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var x=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.selectForm={remarks:void 0,categoryId:"",categoryName:void 0},e.formRules={categoryId:{required:!0,message:"请选择商品分类",trigger:"change"}},e.selectValue={customCode:void 0,enName:void 0,cnName:void 0},e.selectCategory={},e.formLoading=!1,e.selectLoading=!1,e.loading=!1,e.categoryVisible=!1,e.tableData=[],e.goodsList=[],e.subGoodsList=[],e.taxList=[],e.keyWord="",e.imgUrl="",e.imgShow=!1,e.rowId="",e.isType="",e.rowObj={},e.rowData=[],e.page=1,e.size=10,e.total=0,e}return Object(p["a"])(t,e),Object(s["a"])(t,[{key:"onSearch",value:function(){this.getFactorData(1)}},{key:"onGoods",value:function(e){var t=this;this.goodsList.map(function(a){e===a.value&&(t.selectForm.categoryId="",t.$message.error("请选择下级类别"))})}},{key:"showCategoryDialog",value:function(){var e=this;this.categoryVisible=!0,this.selectCategory=this.goodsList.find(function(t){var a=t.children.find(function(t){return t.value===e.selectForm.categoryId});return!!a})||{}}},{key:"clearSelect",value:function(){this.selectForm.categoryId="",this.selectForm.categoryName=""}},{key:"selectCategoryClick",value:function(e){this.selectCategory=e}},{key:"selectCategoryChange",value:function(){var e=this,t=this.subProductClassList.find(function(t){return t.value===e.selectForm.categoryId})||{};this.selectForm.categoryName=t.label,this.categoryVisible=!1}},{key:"getGoodsList",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(){var t,a,r,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(y["g"])({type:2,parentId:0});case 3:t=e.sent,a=t.data||[],r=JSON.parse(JSON.stringify(a).replace(/title/g,"label").replace(/id/g,"value")),this.$nextTick(function(){i.goodsList=r}),e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](0),this.formLoading=!1,e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"getFactorData",value:function(e){var t=this;if(this.selectForm.countryId){this.loading=!0,e&&(this.page=e);var a={page:this.page,size:this.size,model:k({},this.selectValue,{countryId:this.selectForm.countryId,id:"view"===this.isType?this.rowObj.id:void 0})};Object(y["d"])(a).then(function(e){var a=e.data||{};t.tableData=a.result||[],"view"===t.isType&&(t.rowData=t.tableData.filter(function(e){return"".concat(e.id)===t.rowObj.id}).map(function(e){return e.id=e.id+"",e})),t.total=a.total,t.loading=!1}).catch(function(e){return t.loading=!1,e})}}},{key:"handleSizeChange",value:function(e){this.size=e,this.getFactorData()}},{key:"handleCurrentChange",value:function(e){this.page=e,this.getFactorData()}},{key:"onRowSelect",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.rowId=t.id,this.rowObj=t,this.rowData=[t],e.next=5,this.getCodeTax();case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCodeTax",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.rowObj.customCode){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Object(y["j"])({hsCode:this.rowObj.customCode,ic:this.selectForm.countryId,type:"1",state:""});case 5:t=e.sent,this.taxList=Array.isArray(t.data)?t.data:[],e.next=12;break;case 9:return e.prev=9,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"onRowClear",value:function(e){this.rowId="",this.rowObj={},this.taxList=[],this.rowData=[]}},{key:"setData",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(t,a){var r,i,n,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.formLoading=!0,this.isType=a,e.next=4,this.getGoodsList();case 4:if(r=t.categoryId,i=t.declareEssentialId,n=t.code,l="",this.goodsList.map(function(e){var t=!1;!t&&(e.children||[]).map(function(e){e.value===r&&(l=e.label,t=!0)})}),this.selectForm=k({},t,{categoryId:r||"",categoryName:l}),this.selectValue={customCode:t.code,enName:t.enName,cnName:t.cnName},"view"!==a){e.next=15;break}return this.rowId=i,this.rowObj.id=i,this.rowObj.customCode=n,e.next=15,this.getCodeTax();case 15:this.imgUrl="https://file.jhtinfo.net/"+t.url,this.getFactorData(),this.formLoading=!1;case 18:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){var e=this;this.resetForm(),this.$nextTick(function(){var t=e.$refs.auditForm;t.clearValidate()})}},{key:"comfirm",value:function(){var e=this,t=this.$refs.auditForm;t.validate(function(t){if(!t)return!1;if(e.rowObj.id){e.formLoading=!0;var a={code:e.rowObj.customCode,declareEssentialId:e.rowObj.id,id:e.selectForm.id,libraryId:e.selectForm.libraryId,categoryId:e.selectForm.categoryId,number:e.selectForm.number||void 0,remarks:e.selectForm.remarks,status:e.rowObj.customCode?1:0};Object(y["k"])(a).then(function(t){e.$message({type:"success",message:"提交成功"}),e.formLoading=!1,e.cancel(),e.$emit("auditCancel"),e.$emit("queryAll")}).catch(function(t){return e.formLoading=!1,t})}else e.$message.error("请选择列表中的报关要素")})}},{key:"resetForm",value:function(){this.selectForm={remark:void 0,categoryId:""},this.selectValue={customCode:void 0,enName:void 0,cnName:void 0},this.rowId="",this.rowObj={},this.taxList=[]}},{key:"onImgShow",value:function(){this.imgShow=!0}},{key:"custType",get:function(){var e=f["a"].info||{},t=e.custType;return t}},{key:"productClassList",get:function(){var e=this;return this.goodsList.filter(function(t){var a=t.children.filter(function(t){return-1!==t.label.indexOf(e.keyWord)});return a.length?t:-1!==t.label.indexOf(e.keyWord)})}},{key:"subProductClassList",get:function(){var e=this,t=this.selectCategory.children||[];return t.map(function(t){return k({},t,{pCategory:e.selectCategory.label})}).filter(function(t){return-1!==t.label.indexOf(e.keyWord)})}}]),t}(m["e"]);x=d["a"]([Object(m["a"])({name:"",components:{},props:{}})],x);var O=x,_=O,C=(a("9f5c"),a("2877")),j=Object(C["a"])(_,v,b,!1,null,"12974776",null),S=j.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}]},[a("el-form",{ref:"priceForm",staticStyle:{"padding-right":"20px"},attrs:{model:e.selectForm,rules:e.formRules,"label-width":"100px","label-position":"right",size:"small"}},[a("el-form-item",{attrs:{label:"报价单价",prop:"declarePrice"}},[a("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:99999,precision:2},model:{value:e.selectForm.declarePrice,callback:function(t){e.$set(e.selectForm,"declarePrice",t)},expression:"selectForm.declarePrice"}})],1),a("el-form-item",{attrs:{label:"申报单价",prop:"offerPrice"}},[a("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:0,max:99999,precision:2},model:{value:e.selectForm.offerPrice,callback:function(t){e.$set(e.selectForm,"offerPrice",t)},expression:"selectForm.offerPrice"}})],1),a("el-form-item",{attrs:{label:"币种",prop:"currency"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small",clearable:""},model:{value:e.selectForm.currency,callback:function(t){e.$set(e.selectForm,"currency",t)},expression:"selectForm.currency"}},e._l(e.currencyList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-"+e.sign,value:e.id}})}),1)],1)],1),a("div",{staticStyle:{"text-align":"right","padding-top":"10px"}},[a("el-button",{on:{click:e.cancel}},[e._v("\n      取 消\n    ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.comfirm}},[e._v("\n      确 定\n    ")])],1)],1)},F=[];function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach(function(t){Object(n["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var N=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.selectForm={declarePrice:void 0,offerPrice:void 0,currency:void 0},e.formRules={declarePrice:{required:!0,message:"报价单价不能为空",trigger:"blur"},offerPrice:{required:!0,message:"申报单价不能为空",trigger:"blur"},currency:{required:!0,message:"请选择币种",trigger:"change"}},e.currencyList=[],e.formLoading=!1,e}return Object(p["a"])(t,e),Object(s["a"])(t,[{key:"setData",value:function(e){this.getCurrencyList(),this.selectForm=I({},e)}},{key:"getCurrencyList",value:function(){var e=this;Object(y["c"])({page:1,size:9999}).then(function(t){var a=t.data||{};e.currencyList=a.result||[]}).catch(function(e){return[e,null]})}},{key:"cancel",value:function(){var e=this;this.$emit("priceCancel"),this.$nextTick(function(){var t=e.$refs.priceForm;t.clearValidate()})}},{key:"comfirm",value:function(){var e=this,t=this.$refs.priceForm;t.validate(function(t){if(!t)return!1;e.formLoading=!0;var a=I({},e.selectForm);Object(y["l"])(a).then(function(t){e.$message({type:"success",message:"保存成功"}),e.resetForm(),e.cancel(),e.formLoading=!1,e.$emit("queryAll")}).catch(function(t){return e.formLoading=!1,t})})}},{key:"resetForm",value:function(){this.selectForm={declarePrice:void 0,offerPrice:void 0,currency:void 0}}}]),t}(m["e"]);N=d["a"]([Object(m["a"])({name:"",components:{},props:{}})],N);var z=N,V=z,$=(a("7518"),Object(C["a"])(V,L,F,!1,null,"a986636a",null)),D=$.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticClass:"form",staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[a("div",{staticClass:"form-item"},[a("el-checkbox",{attrs:{size:"mini",disabled:(e.fileList||[]).some(function(e){return 2===e.type&&0!==e.status&&1!==e.status})},on:{change:function(t){return e.checkChange("c")}},model:{value:e.clearanceChecked,callback:function(t){e.clearanceChecked=t},expression:"clearanceChecked"}},[e._v("\n        通关认证\n      ")]),a("el-select",{staticStyle:{width:"250px","margin-right":"5px"},attrs:{placeholder:"请选择",size:"mini",disabled:!e.clearanceChecked,clearable:"",filterable:"","collapse-tags":"",multiple:""},on:{change:e.handlerChange},model:{value:e.clearanceSelectList,callback:function(t){e.clearanceSelectList=t},expression:"clearanceSelectList"}},e._l(e.clearanceList,function(e){return a("el-option",{key:e.fileId,attrs:{disabled:e.disabled,label:e.fileName,value:e.fileId}})}),1)],1),a("div",{staticClass:"form-item"},[a("el-checkbox",{attrs:{size:"mini",disabled:(e.fileList||[]).some(function(e){return 1===e.type&&0!==e.status&&1!==e.status})},on:{change:function(t){return e.checkChange("t")}},model:{value:e.transportChecked,callback:function(t){e.transportChecked=t},expression:"transportChecked"}},[e._v("\n        运输认证\n      ")]),a("el-select",{staticStyle:{width:"250px","margin-right":"5px"},attrs:{placeholder:"请选择",size:"mini",disabled:!e.transportChecked,clearable:"",filterable:"","collapse-tags":"",multiple:""},on:{change:e.handlerChange},model:{value:e.transportSelectList,callback:function(t){e.transportSelectList=t},expression:"transportSelectList"}},e._l(e.transportList,function(e){return a("el-option",{key:e.fileId,attrs:{label:e.fileName,disabled:e.disabled,value:e.fileId}})}),1)],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fileList,height:"400px",border:""}},[a("el-table-column",{attrs:{width:"100",property:"status",label:"文件状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.url?"已上传":"待上传")+"\n      ")]}}])}),a("el-table-column",{attrs:{width:"100",property:"status",label:"审核状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s((e.fileStatus.find(function(e){return e.id===t.row.status})||{}).name)+"\n      ")]}}])}),a("el-table-column",{attrs:{"min-width":"100",property:"fileName",label:"文件名"}}),a("el-table-column",{attrs:{"min-width":"100",label:"拒绝原因","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(4===t.row.status?t.row.reason:"")+"\n      ")]}}])}),a("el-table-column",{attrs:{fixed:"right",width:"200",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[2!==t.row.status&&3!==t.row.status?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.delFileItem(t.$index,t.row)}}},[e._v("\n          删除\n        ")]):e._e(),t.row.url?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.downloadFileItem(t.row.url)}}},[e._v("\n          下载\n        ")]):e._e(),t.row.url?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.viewFileItem(t.row.url)}}},[e._v("\n          查看\n        ")]):e._e(),t.row.url&&1===t.row.status?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return e.auditFileItem(2,t.row)}}},[e._v("\n          审核\n        ")]):e._e(),t.row.url&&2===t.row.status?a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"text",size:"mini"},on:{click:function(a){return a.stopPropagation(),e.auditFileItem(3,t.row)}}},[e._v("\n          审核通过\n        ")]):e._e(),a("el-popover",{attrs:{placement:"bottom",width:"300",title:"",trigger:"manual"},on:{click:function(e){e.stopPropagation()}},model:{value:t.row.isShowPopover,callback:function(a){e.$set(t.row,"isShowPopover",a)},expression:"inScope.row.isShowPopover"}},[a("div",{staticClass:"form",staticStyle:{display:"flex"}},[a("div",{staticStyle:{"white-space":"nowrap","margin-right":"5px"}},[e._v("\n              拒绝原因\n            ")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:6},placeholder:"请输入内容"},model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}})],1),a("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.popoverHide}},[e._v("\n              取消\n            ")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.auditFileItem(4,t.row)}}},[e._v("\n              保存\n            ")])],1),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.row.url&&2===t.row.status,expression:"inScope.row.url && inScope.row.status === 2"}],attrs:{slot:"reference",type:"text",size:"mini"},on:{click:function(a){return a.stopPropagation(),e.popoverShow(t.row)}},slot:"reference"},[e._v("\n            审核拒绝\n          ")])],1)]}}])})],1),a("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[a("el-button",{attrs:{slot:"footer",type:"primary",size:"small"},on:{click:e.saveFiles},slot:"footer"},[e._v("\n      保存\n    ")])],1)],1)},R=[],A=a("75fc");function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach(function(t){Object(n["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var M=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.loading=!1,e.clearanceChecked=!1,e.transportChecked=!1,e.clearanceSelectList=[],e.clearanceList=[],e.transportSelectList=[],e.transportList=[],e.fileList=[],e.fileListCopy=[],e.fileStatus=[{id:1,name:"待审核"},{id:2,name:"审核中"},{id:3,name:"审核通过"},{id:4,name:"审核拒绝"}],e.orderInfo={},e.reason="",e}return Object(p["a"])(t,e),Object(s["a"])(t,[{key:"getClearanceList",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(y["e"])({type:2}).then(function(e){t.clearanceList=(e.data||[]).map(function(e){return{fileName:e.fileName,fileId:e.id,type:2}})}).catch(function(){t.clearanceList=[],t.loading=!1});case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getTransportList",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(y["e"])({type:1}).then(function(e){t.transportList=(e.data||[]).map(function(e){return{fileName:e.fileName,fileId:e.id,type:1}})}).catch(function(){t.transportList=[],t.loading=!1});case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"handlerChange",value:function(){var e=this,t=[].concat(Object(A["a"])(this.clearanceSelectList),Object(A["a"])(this.transportSelectList)),a=[].concat(Object(A["a"])(this.clearanceList),Object(A["a"])(this.transportList)),r=[];t.map(function(t){var i=a.find(function(e){return e.fileId===t});if(i){var n=e.fileListCopy.find(function(e){return e.fileId===t});r.push({declareId:e.orderInfo.id,id:n?n.id:i.id,fileId:n?n.fileId:i.fileId,fileName:n?n.fileName:i.fileName,status:n?n.status:0,type:n?n.type:i.type,url:n?n.url:""})}}),this.fileList=r,this.disList()}},{key:"checkChange",value:function(e){"c"===e&&(this.clearanceSelectList=[],this.fileList=this.fileList.filter(function(e){return 2!==e.type})),"t"===e&&(this.transportSelectList=[],this.fileList=this.fileList.filter(function(e){return 1!==e.type})),this.disList()}},{key:"downloadFileItem",value:function(e){e&&window.open("https://file.jhtinfo.net/"+e)}},{key:"viewFileItem",value:function(e){e&&window.open("https://file.jhtinfo.net/"+e)}},{key:"delFileItem",value:function(e,t){this.fileList.splice(e,1),this.clearanceSelectList=this.fileList.filter(function(e){return 2===e.type}).map(function(e){return e.fileId}),this.transportSelectList=this.fileList.filter(function(e){return 1===e.type}).map(function(e){return e.fileId}),this.clearanceChecked=this.clearanceSelectList.length>0,this.transportChecked=this.transportSelectList.length>0,this.disList()}},{key:"popoverHide",value:function(){this.fileList=this.fileList.map(function(e){return e.isShowPopover=!1,e})}},{key:"popoverShow",value:function(e){this.reason=e.reason||"",this.fileList=this.fileList.map(function(t){return t.isShowPopover=!1,t.id===e.id&&(t.isShowPopover=!0),t})}},{key:"auditFileItem",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(4!==t||this.reason){e.next=3;break}return this.$message.error("请填写拒绝原因"),e.abrupt("return");case 3:return a.isShowPopover,r=Object(l["a"])(a,["isShowPopover"]),e.prev=4,this.loading=!0,e.next=8,Object(y["a"])(E({},r,{status:t,reason:4===t?this.reason:void 0}));case 8:return e.sent,this.loading=!1,this.$message.success("保存成功"),e.next=13,this.getFileData();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](4),this.loading=!1;case 18:case"end":return e.stop()}},e,this,[[4,15]])}));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"saveFiles",value:function(){var e=this,t={list:this.fileList,id:this.orderInfo.id};this.loading=!0,Object(y["m"])(t).then(function(t){e.loading=!1,e.$message.success("保存成功"),e.$emit("filesCancel")}).catch(function(t){e.loading=!1})}},{key:"cancel",value:function(){this.fileListCopy=[],this.fileList=[],this.clearanceSelectList=[],this.transportSelectList=[]}},{key:"setData",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.orderInfo=t||{},e.next=3,this.getFileData();case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getFileData",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,Object(y["f"])({declareId:this.orderInfo.id});case 4:t=e.sent,a=t.data||[],this.fileList=a,this.fileListCopy=JSON.parse(JSON.stringify(a)),this.loading=!1,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.loading=!1;case 14:return e.next=16,this.getClearanceList();case 16:return e.next=18,this.getTransportList();case 18:this.clearanceSelectList=this.fileList.filter(function(e){return 2===e.type}).map(function(e){return e.fileId}),this.transportSelectList=this.fileList.filter(function(e){return 1===e.type}).map(function(e){return e.fileId}),this.clearanceChecked=this.clearanceSelectList.length>0,this.transportChecked=this.transportSelectList.length>0,this.disList();case 23:case"end":return e.stop()}},e,this,[[0,11]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"disList",value:function(){var e=this;this.clearanceList=this.clearanceList.map(function(t){t.disabled=!1;var a=e.fileList.find(function(e){return e.fileId===t.fileId})||{};return-1===e.clearanceSelectList.indexOf(t.fileId)||2!==a.status&&3!==a.status||(t.disabled=!0),t}),this.transportList=this.transportList.map(function(t){t.disabled=!1;var a=e.fileList.find(function(e){return e.fileId===t.fileId})||{};return-1===e.transportSelectList.indexOf(t.fileId)||2!==a.status&&3!==a.status||(t.disabled=!0),t})}}]),t}(m["e"]);M=d["a"]([Object(m["a"])({name:""})],M);var W=M,J=W,U=Object(C["a"])(J,T,R,!1,null,"25a5df1e",null),G=U.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-row",[a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[a("el-date-picker",{staticStyle:{width:"240px","margin-right":"10px"},attrs:{"unlink-panels":"",type:"daterange",align:"right",size:"small",clearable:"","value-format":"yyyy-MM-dd","range-separator":"~","start-placeholder":"起始时间","end-placeholder":"截止时间"},model:{value:e.searchForm.applyTime,callback:function(t){e.$set(e.searchForm,"applyTime",t)},expression:"searchForm.applyTime"}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.getTableData}},[e._v("\n        查询\n      ")])],1)],1),a("div",{staticStyle:{"overflow-y":"auto",height:"500px",margin:"10px 0"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:""}},[a("el-table-column",{attrs:{prop:"code",label:"原单号","min-width":"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"updateBy",label:"客户名称","min-width":"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{"min-width":"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"word-limit"},[a("span",[e._v(e._s(t.row.cnName?t.row.cnName:"--"))]),a("br"),a("span",[e._v(e._s(t.row.enName?t.row.enName:"--"))])])]}}])},[a("template",{slot:"header"},[a("span",[e._v("商品名称(中文)")]),a("br"),a("span",[e._v("商品名称(英文)")])])],2),a("el-table-column",{attrs:{prop:"brand","min-width":"120",label:"品牌","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"size","min-width":"120",label:"规格","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{"min-width":"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"word-limit"},[a("span",[e._v(e._s(t.row.cnMaterial?t.row.cnMaterial:"--"))]),a("br"),a("span",[e._v(e._s(t.row.enMaterial?t.row.enMaterial:"--"))])])]}}])},[a("template",{slot:"header"},[a("span",[e._v("材质(中文)")]),a("br"),a("span",[e._v("材质(英文)")])])],2),a("el-table-column",{attrs:{"min-width":"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"word-limit"},[a("span",[e._v(e._s(t.row.cnPurpose?t.row.cnPurpose:"--"))]),a("br"),a("span",[e._v(e._s(t.row.enPurpose?t.row.enPurpose:"--"))])])]}}])},[a("template",{slot:"header"},[a("span",[e._v("用途(中文)")]),a("br"),a("span",[e._v("用途(英文)")])])],2),a("el-table-column",{attrs:{prop:"createTime",label:"审单时间",width:"170"}})],1)],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.page,"page-size":e.size,layout:"total, prev, pager, next",total:e.total},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},B=[],K=(a("c5f6"),function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.loading=!1,e.list=[],e.page=1,e.size=10,e.total=0,e.searchForm={applyTime:[]},e}return Object(p["a"])(t,e),Object(s["a"])(t,[{key:"getTableData",value:function(){var e=this;this.loading=!0;var t=this.searchForm,a=t.applyTime,r=t.libraryId,i={model:{libraryId:r},page:this.page,size:this.size};Array.isArray(a)&&a.length>0&&(i.model.startTime=a[0]+" 00:00:00",i.model.endTime=a[1]+" 23:59:59"),Object(y["i"])(i).then(function(t){var a=t.data||{};e.list=a.result||[],e.total=a.total,e.loading=!1}).catch(function(t){return e.loading=!1,t})}},{key:"handleSizeChange",value:function(e){this.size=Number(e),this.getTableData()}},{key:"handleCurrentChange",value:function(e){this.page=Number(e),this.getTableData()}},{key:"cancel",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.list=[],this.searchForm={applyTime:[]};case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setData",value:function(e){this.searchForm.libraryId=e.libraryId,this.getTableData()}}]),t}(m["e"]));K=d["a"]([Object(m["a"])({name:"",components:{},props:{}})],K);var Q=K,X=Q,Y=(a("c97a"),Object(C["a"])(X,H,B,!1,null,"206148a2",null)),Z=Y.exports;function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach(function(t){Object(n["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ae=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.loading=!1,e.selectLoading=!1,e.isAuditVisible=!1,e.isCustomerVisible=!1,e.isFilesVisible=!1,e.isPriceVisible=!1,e.tableData=[],e.selectType="1",e.selectValue={ifPrice:void 0,customerId:void 0,countryId:void 0,countryName:void 0,status:void 0,keyword:void 0},e.countryList=[],e.customerList=[],e.props={label:"name",value:"id"},e.page=1,e.size=10,e.total=0,e}return Object(p["a"])(t,e),Object(s["a"])(t,[{key:"getCountryList",value:function(){var e=this;this.selectLoading=!0,Object(y["b"])().then(function(t){var a=t.data||{};e.countryList=a.result||[],e.selectLoading=!1}).catch(function(t){return e.selectLoading=!1,[t,null]})}},{key:"queryAll",value:function(e){var t=this;this.loading=!0;var a=this.selectValue,r=a.keyword,i=Object(l["a"])(a,["keyword"]);e&&(this.page=e);var n={page:this.page,size:this.size,model:te({},i)};switch(this.selectType){case"1":n.model.code=r;break;case"2":n.model.cnName=r;break;case"3":n.model.enName=r;break}Object(y["h"])(n).then(function(e){t.loading=!1;var a=e.data||{};t.tableData=a.result||[],t.total=a.total}).catch(function(e){return t.loading=!1,e})}},{key:"priceCancel",value:function(){this.isPriceVisible=!1}},{key:"customersCancel",value:function(){var e=this;this.isCustomerVisible=!1,this.$nextTick(function(){var t=e.$refs.customers;t.cancel()})}},{key:"filesCancel",value:function(){var e=this;this.isFilesVisible=!1,this.$nextTick(function(){var t=e.$refs.filesForm;t.cancel()})}},{key:"auditCancel",value:function(){var e=this;this.isAuditVisible=!1,this.$nextTick(function(){var t=e.$refs.auditForm;t.cancel()})}},{key:"goPrice",value:function(e){var t=this;this.isPriceVisible=!0,this.$nextTick(function(){var a=t.$refs.priceForm;a.setData(e)})}},{key:"goAudit",value:function(e){var t=this;this.isAuditVisible=!0,this.$nextTick(function(){var a=t.$refs.auditForm;a.setData(e,"audit")})}},{key:"goView",value:function(e){var t=this;this.isAuditVisible=!0,this.$nextTick(function(){var a=t.$refs.auditForm;a.setData(e,"view")})}},{key:"goCustomers",value:function(e){var t=this;this.isCustomerVisible=!0,this.$nextTick(function(){var a=t.$refs.customers;a.setData(e)})}},{key:"goFiles",value:function(e,t){var a=this;this.isFilesVisible=!0,this.$nextTick(function(){var r=a.$refs.filesForm;r.setData(e,t)})}},{key:"handleSizeChange",value:function(e){this.size=e,this.queryAll()}},{key:"handleCurrentChange",value:function(e){this.page=e,this.queryAll()}},{key:"created",value:function(){this.queryAll()}},{key:"labelPosition",get:function(){var e=h["a"].language;return e&&"en"===e?"top":"left"}},{key:"lang",get:function(){var e=h["a"].language;return e||"en"}},{key:"custId",get:function(){var e=f["a"].info||{},t=e.custId;return t}},{key:"custName",get:function(){var e=f["a"].info||{},t=e.custName;return t}}]),t}(m["e"]);ae=d["a"]([Object(m["a"])({name:"Commodty",components:{auditForm:S,priceForm:D,filesForm:G,customers:Z},props:{}})],ae);var re=ae,ie=re,ne=(a("0f11"),Object(C["a"])(ie,r,i,!1,null,"77a6e104",null));t["default"]=ne.exports}}]);