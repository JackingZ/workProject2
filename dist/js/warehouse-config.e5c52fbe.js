(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["warehouse-config"],{"16d8":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:e.id}})},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),s=a("d225"),o=a("b0b4"),l=a("308d"),c=a("6bb5"),u=a("4e2b"),d=a("9ab4"),m=(a("a7be"),a("44f8"),a("a6e0"),a("60a3")),p={previewStyle:"vertical",usageStatistics:!1,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","table","image","link","divider","code","codeblock"]},h=a("547e"),f=a.n(h);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach(function(t){Object(r["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var b=function(){return"markdown-editor-"+ +new Date+(1e3*Math.random()).toFixed(0)},y=function(e){function t(){return Object(s["a"])(this,t),Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"onValueChange",value:function(e,t){this.markdownEditor&&e!==t&&e!==this.markdownEditor.getValue()&&this.markdownEditor.setValue(e)}},{key:"onLanguageChange",value:function(){this.destroyEditor(),this.initEditor()}},{key:"onHeightChange",value:function(e){this.markdownEditor&&this.markdownEditor.height(e)}},{key:"onModeChange",value:function(e){this.markdownEditor&&this.markdownEditor.changeMode(e)}},{key:"mounted",value:function(){this.initEditor()}},{key:"destroyed",value:function(){this.destroyEditor()}},{key:"initEditor",value:function(){var e=this,t=document.getElementById(this.id);t&&(this.markdownEditor=new f.a(g({el:t},this.editorOptions)),this.value&&this.markdownEditor.setValue(this.value),this.markdownEditor.on("change",function(){e.$emit("input",e.markdownEditor.getValue())}))}},{key:"destroyEditor",value:function(){this.markdownEditor&&(this.markdownEditor.off("change"),this.markdownEditor.remove(),this.markdownEditor=void 0)}},{key:"focus",value:function(){this.markdownEditor&&this.markdownEditor.focus()}},{key:"setValue",value:function(e){this.markdownEditor&&this.markdownEditor.setValue(e)}},{key:"getValue",value:function(){return this.markdownEditor?this.markdownEditor.getValue():""}},{key:"setHtml",value:function(e){this.markdownEditor&&this.markdownEditor.setHtml(e)}},{key:"getHtml",value:function(){return this.markdownEditor?this.markdownEditor.getHtml():""}},{key:"editorOptions",get:function(){var e=Object.assign({},p,this.options);return e.initialEditType=this.mode,e.height=this.height,e.language=this.language,e}}]),t}(m["e"]);d["a"]([Object(m["c"])({required:!0})],y.prototype,"value",void 0),d["a"]([Object(m["c"])({default:b})],y.prototype,"id",void 0),d["a"]([Object(m["c"])({default:function(){return p}})],y.prototype,"options",void 0),d["a"]([Object(m["c"])({default:"markdown"})],y.prototype,"mode",void 0),d["a"]([Object(m["c"])({default:"300px"})],y.prototype,"height",void 0),d["a"]([Object(m["c"])({default:"en_US"})],y.prototype,"language",void 0),d["a"]([Object(m["f"])("value")],y.prototype,"onValueChange",null),d["a"]([Object(m["f"])("language")],y.prototype,"onLanguageChange",null),d["a"]([Object(m["f"])("height")],y.prototype,"onHeightChange",null),d["a"]([Object(m["f"])("mode")],y.prototype,"onModeChange",null),y=d["a"]([Object(m["a"])({name:"MarkdownEditor"})],y);var w=y,k=w,O=a("2877"),x=Object(O["a"])(k,n,i,!1,null,null,null);t["a"]=x.exports},"2f66":function(e,t,a){},"30bb":function(e,t,a){"use strict";var n=a("d0d2"),i=a.n(n);i.a},3978:function(e,t,a){},"3ab9":function(e,t,a){},4:function(e,t){},4259:function(e,t,a){"use strict";var n=a("ec51"),i=a.n(n);i.a},4856:function(e,t,a){"use strict";var n=a("e793"),i=a.n(n);i.a},5:function(e,t){},"6c2f":function(e,t,a){"use strict";var n=a("2f66"),i=a.n(n);i.a},"7b3f":function(e,t,a){"use strict";var n=a("aee9"),i=a.n(n);i.a},"7b92":function(e,t,a){"use strict";var n=a("9628"),i=a.n(n);i.a},"93ea":function(e,t,a){"use strict";var n=a("3ab9"),i=a.n(n);i.a},9628:function(e,t,a){},"9e34":function(e,t,a){"use strict";var n=a("ea5d"),i=a.n(n);i.a},aee9:function(e,t,a){},b941:function(e,t,a){"use strict";a.d(t,"I",function(){return i}),a.d(t,"F",function(){return r}),a.d(t,"tb",function(){return s}),a.d(t,"G",function(){return o}),a.d(t,"J",function(){return l}),a.d(t,"ub",function(){return c}),a.d(t,"z",function(){return u}),a.d(t,"K",function(){return d}),a.d(t,"L",function(){return m}),a.d(t,"E",function(){return p}),a.d(t,"nb",function(){return h}),a.d(t,"x",function(){return f}),a.d(t,"Gb",function(){return v}),a.d(t,"Bb",function(){return g}),a.d(t,"Ab",function(){return b}),a.d(t,"Y",function(){return y}),a.d(t,"X",function(){return w}),a.d(t,"e",function(){return k}),a.d(t,"W",function(){return O}),a.d(t,"a",function(){return x}),a.d(t,"Ub",function(){return L}),a.d(t,"ec",function(){return S}),a.d(t,"n",function(){return j}),a.d(t,"Q",function(){return I}),a.d(t,"w",function(){return F}),a.d(t,"Qb",function(){return T}),a.d(t,"yb",function(){return _}),a.d(t,"xb",function(){return C}),a.d(t,"ab",function(){return $}),a.d(t,"bb",function(){return D}),a.d(t,"d",function(){return N}),a.d(t,"g",function(){return E}),a.d(t,"o",function(){return z}),a.d(t,"Rb",function(){return P}),a.d(t,"fb",function(){return V}),a.d(t,"cb",function(){return M}),a.d(t,"eb",function(){return A}),a.d(t,"db",function(){return W}),a.d(t,"bc",function(){return q}),a.d(t,"j",function(){return U}),a.d(t,"cc",function(){return R}),a.d(t,"T",function(){return H}),a.d(t,"Pb",function(){return Y}),a.d(t,"R",function(){return B}),a.d(t,"S",function(){return J}),a.d(t,"y",function(){return G}),a.d(t,"Kb",function(){return Q}),a.d(t,"dc",function(){return Z}),a.d(t,"v",function(){return K}),a.d(t,"Cb",function(){return X}),a.d(t,"wb",function(){return ee}),a.d(t,"h",function(){return te}),a.d(t,"f",function(){return ae}),a.d(t,"fc",function(){return ne}),a.d(t,"Lb",function(){return ie}),a.d(t,"i",function(){return re}),a.d(t,"vb",function(){return se}),a.d(t,"P",function(){return oe}),a.d(t,"N",function(){return le}),a.d(t,"O",function(){return ce}),a.d(t,"A",function(){return ue}),a.d(t,"Db",function(){return de}),a.d(t,"Eb",function(){return me}),a.d(t,"Wb",function(){return pe}),a.d(t,"s",function(){return he}),a.d(t,"k",function(){return fe}),a.d(t,"hb",function(){return ve}),a.d(t,"Ib",function(){return ge}),a.d(t,"Hb",function(){return be}),a.d(t,"ob",function(){return ye}),a.d(t,"Yb",function(){return we}),a.d(t,"t",function(){return ke}),a.d(t,"zb",function(){return Oe}),a.d(t,"jb",function(){return xe}),a.d(t,"Vb",function(){return Le}),a.d(t,"r",function(){return Se}),a.d(t,"qb",function(){return je}),a.d(t,"sb",function(){return Ie}),a.d(t,"kb",function(){return Fe}),a.d(t,"Mb",function(){return Te}),a.d(t,"l",function(){return _e}),a.d(t,"H",function(){return Ce}),a.d(t,"Jb",function(){return $e}),a.d(t,"rb",function(){return De}),a.d(t,"Zb",function(){return Ne}),a.d(t,"u",function(){return Ee}),a.d(t,"ib",function(){return ze}),a.d(t,"pb",function(){return Pe}),a.d(t,"Sb",function(){return Ve}),a.d(t,"p",function(){return Me}),a.d(t,"gb",function(){return Ae}),a.d(t,"ac",function(){return We}),a.d(t,"Z",function(){return qe}),a.d(t,"Nb",function(){return Ue}),a.d(t,"mb",function(){return Re}),a.d(t,"lb",function(){return He}),a.d(t,"Tb",function(){return Ye}),a.d(t,"q",function(){return Be}),a.d(t,"M",function(){return Je}),a.d(t,"Ob",function(){return Ge}),a.d(t,"m",function(){return Qe}),a.d(t,"Fb",function(){return Ze}),a.d(t,"Xb",function(){return Ke}),a.d(t,"b",function(){return Xe}),a.d(t,"c",function(){return et}),a.d(t,"B",function(){return tt}),a.d(t,"D",function(){return at}),a.d(t,"C",function(){return nt}),a.d(t,"V",function(){return it}),a.d(t,"U",function(){return rt});var n=a("b32d");function i(){var e={url:"/setting/area/getCountryList",method:"get"};return Object(n["a"])(e)}function r(e){var t={url:"/setting/area/getCityByStates",method:"post",data:e};return Object(n["a"])(t)}function s(e){var t={url:"/setting/area/getStateByCountry",method:"get",params:{countryId:e}};return Object(n["a"])(t)}function o(e){var t={url:"/setting/area/getCityByState",method:"get",params:{stateId:e}};return Object(n["a"])(t)}function l(e){var t={url:"/setting/area/getCountyByCity",method:"get",params:{cityId:e}};return Object(n["a"])(t)}function c(e){var t={url:"/auth/supplier/getSupplierList",method:"get",params:e};return Object(n["a"])(t)}function u(e){var t={url:"/auth/agent/getAgentList",method:"get",params:e};return Object(n["a"])(t)}function d(e){var t={url:"/auth/customer/customer",method:"post",data:e};return Object(n["a"])(t)}function m(e){var t={url:"/auth/dept/getDeptList",method:"get",params:e};return Object(n["a"])(t)}function p(e){var t={url:"wms/warehouse/contain",method:"get",params:e};return Object(n["a"])(t)}function h(e){var t={url:"/cfg/type/getServiceTypeList",method:"get",params:e};return Object(n["a"])(t)}function f(e){var t={url:"/setting/currency/getCurrencyList",method:"get",params:e};return Object(n["a"])(t)}function v(e){var t={url:"/setting/dict/item/type",method:"get",params:e};return Object(n["a"])(t)}function g(e){var t={url:"/wms/unload/page",method:"post",data:e};return Object(n["a"])(t)}function b(e){var t={url:"/wms/unload/get",method:"get",params:e};return Object(n["a"])(t)}function y(e){var t={url:"/wms/measure/page",method:"post",data:e};return Object(n["a"])(t)}function w(e){var t={url:"/wms/measure/pageDetail",method:"post",data:e};return Object(n["a"])(t)}function k(e){var t={url:"/wms/measure/e",method:"post",data:e};return Object(n["a"])(t)}function O(e){var t={url:"/wms/measure/get",method:"get",params:e};return Object(n["a"])(t)}function x(e){var t={url:"/wms/measure/detail/save",method:"post",data:e};return Object(n["a"])(t)}function L(e){var t={url:"/wms/measure/detail/update",method:"post",data:e};return Object(n["a"])(t)}function S(e){var t={url:"/wms/measure/c",method:"get",params:e};return Object(n["a"])(t)}function j(e){var t={url:"/wms/measure/delList",method:"post",data:e};return Object(n["a"])(t)}function I(e){var t={url:"/wms/measure/export",method:"post",responseType:"blob",params:e};return Object(n["a"])(t)}function F(e){var t={url:"/wms/measure/export1",method:"post",responseType:"blob",data:e};return Object(n["a"])(t)}function T(e){var t={url:"wms/measure/recopy",method:"get",params:e};return Object(n["a"])(t)}function _(e){var t={url:"/wms/towage/page",method:"post",data:e};return Object(n["a"])(t)}function C(e){var t={url:"/wms/towage/get",method:"get",params:e};return Object(n["a"])(t)}function $(e){var t={url:"/orders/allocation/task_page",method:"post",data:e};return Object(n["a"])(t)}function D(e){var t={url:"/orders/allocation/get_details",method:"get",params:e};return Object(n["a"])(t)}function N(e){var t={url:"/orders/allocation/audit",method:"post",data:e};return Object(n["a"])(t)}function E(e){var t={url:"/orders/allocation/cancel",method:"get",params:e};return Object(n["a"])(t)}function z(e){var t={url:"/orders/allocation/delete",method:"get",params:e};return Object(n["a"])(t)}function P(e){var t={url:"/orders/allocation/save",method:"post",data:e};return Object(n["a"])(t)}function V(e){var t={url:"/orders/pallet/getPallet",method:"post",data:e};return Object(n["a"])(t)}function M(e){var t={url:"/orders/worder/getOrderList",method:"post",data:e};return Object(n["a"])(t)}function A(e){var t={url:"/orders/outorder/getOrderList",method:"post",data:e};return Object(n["a"])(t)}function W(e){var t={url:"/orders/outorder/getOutOrder",method:"get",params:e};return Object(n["a"])(t)}function q(e){var t={url:"/orders/outorder/audit",method:"post",data:e};return Object(n["a"])(t)}function U(e){var t={url:"/orders/outorder/complete",method:"post",data:e};return Object(n["a"])(t)}function R(e){var t={url:"/orders/outorder/generateOrder",method:"post",data:e};return Object(n["a"])(t)}function H(e){var t={url:"/wms/inventory/getOrderList",method:"post",data:e};return Object(n["a"])(t)}function Y(e){var t={url:"/wms/inventory/save",method:"post",data:e};return Object(n["a"])(t)}function B(e){var t={url:"/wms/inventory/findById",method:"post",data:e};return Object(n["a"])(t)}function J(e){var t={url:"/wms/inventory/getInventoryById",method:"get",params:e};return Object(n["a"])(t)}function G(e){var t={url:"/wms/inventory/query",method:"post",data:e};return Object(n["a"])(t)}function Q(e){var t={url:"/wms/inventory/queryUnloadOrder",method:"post",data:e};return Object(n["a"])(t)}function Z(e){var t={url:"/wms/inventory/update",method:"post",data:e};return Object(n["a"])(t)}function K(e){var t={url:"/wms/inventory/doInventoryTask",method:"post",data:e};return Object(n["a"])(t)}function X(e){var t={url:"/wms/warehouse/getUserByWarehouseId",method:"get",params:e};return Object(n["a"])(t)}function ee(e){var t={url:"/wms/inventory/getTasks",method:"get",params:e};return Object(n["a"])(t)}function te(e){var t={url:"/wms/inventory/cancelTask",method:"get",params:e};return Object(n["a"])(t)}function ae(e){var t={url:"/wms/inventory/cancelInventory",method:"post",params:e};return Object(n["a"])(t)}function ne(e){var t={url:"/wms/inventory/workInventory",method:"post",params:e};return Object(n["a"])(t)}function ie(e){var t={url:"/wms/inventory/release",method:"get",params:e};return Object(n["a"])(t)}function re(e){var t={url:"/wms/inventory/cancelTaskInfo",method:"get",params:e};return Object(n["a"])(t)}function se(e){var t={url:"/wms/inventory/getTaskInfoById",method:"get",params:e};return Object(n["a"])(t)}function oe(e){var t={url:"/wms/examining/page",method:"post",data:e};return Object(n["a"])(t)}function le(e){var t={url:"/wms/examining/get",method:"get",params:e};return Object(n["a"])(t)}function ce(e){var t={url:"/wms/examining",method:"get",params:e};return Object(n["a"])(t)}function ue(e){var t={url:"",method:"post",data:e};return Object(n["a"])(t)}function de(e){var t={url:"/wms/warehouse/getWarehouse",method:"get",params:e};return Object(n["a"])(t)}function me(e){var t={url:"/wms/warehouse/getWarehouseList",method:"post",data:e};return Object(n["a"])(t)}function pe(e){var t={url:"/wms/warehouse/saveWarehouse",method:"post",data:e};return Object(n["a"])(t)}function he(e){var t={url:"/wms/warehouse/deleteWarehouse",method:"delete",params:e};return Object(n["a"])(t)}function fe(e){var t={url:"/wms/warehouse/changeStatus",method:"post",params:e};return Object(n["a"])(t)}function ve(e){var t={url:"/auth/post/getPostList",method:"get",params:e};return Object(n["a"])(t)}function ge(e){var t={url:"/wms/workCenter/getWorkCenterList",method:"post",data:e};return Object(n["a"])(t)}function be(e){var t={url:"/wms/workCenter/getList",method:"get",params:e};return Object(n["a"])(t)}function ye(e){var t={url:"/wms/workCenter/get",method:"get",params:e};return Object(n["a"])(t)}function we(e){var t={url:"/wms/workCenter/saveWorkCenter",method:"post",data:e};return Object(n["a"])(t)}function ke(e){var t={url:"/wms/workCenter/deleteWorkCenter",method:"delete",params:e};return Object(n["a"])(t)}function Oe(e){var t={url:"/wms/transit/getTransitPage",method:"post",data:e};return Object(n["a"])(t)}function xe(e){var t={url:"wms/warehouse/list",method:"get",params:e};return Object(n["a"])(t)}function Le(e){var t={url:"/wms/transit/saveTransit",method:"post",data:e};return Object(n["a"])(t)}function Se(e){var t={url:"/wms/transit/deleteTransit",method:"delete",params:e};return Object(n["a"])(t)}function je(e){var t={url:"/wms/transit/get",method:"get",params:e};return Object(n["a"])(t)}function Ie(e){var t={url:"/cfg/ssc/getSscList",method:"get",params:e};return Object(n["a"])(t)}function Fe(e){var t={url:"/wms/bin/getTree",method:"get",params:e};return Object(n["a"])(t)}function Te(e){var t={url:"/wms/bin/saveBin",method:"post",data:e};return Object(n["a"])(t)}function _e(e){var t={url:"/wms/bin/del",method:"delete",params:e};return Object(n["a"])(t)}function Ce(e){var t={url:"/wms/shift/list",method:"get",params:e};return Object(n["a"])(t)}function $e(e){var t={url:"/wms/wss/page",method:"post",data:e};return Object(n["a"])(t)}function De(e){var t={url:"/wms/wss/get",method:"get",params:e};return Object(n["a"])(t)}function Ne(e){var t={url:"/wms/wss/addWorkShifts",method:"post",data:e};return Object(n["a"])(t)}function Ee(e){var t={url:"/wms/wss/del",method:"delete",params:e};return Object(n["a"])(t)}function ze(e){var t={url:"/wms/rot/findByPage",method:"post",data:e};return Object(n["a"])(t)}function Pe(e){var t={url:"/wms/rot/get",method:"get",params:e};return Object(n["a"])(t)}function Ve(e){var t={url:"/wms/rot/addRotation",method:"post",data:e};return Object(n["a"])(t)}function Me(e){var t={url:"/wms/rot/del",method:"delete",params:e};return Object(n["a"])(t)}function Ae(e){var t={url:"/auth/user/user4position",method:"post",data:e};return Object(n["a"])(t)}function We(e){var t={url:"/wms/shift/create",method:"post",data:e};return Object(n["a"])(t)}function qe(e){var t={url:"/wms/shift/view",method:"post",data:e};return Object(n["a"])(t)}function Ue(e){var t={url:"/wms/shift/update",method:"post",data:e};return Object(n["a"])(t)}function Re(e){var t={url:"/wms/shift/page",method:"post",data:e};return Object(n["a"])(t)}function He(e){var t={url:"/wms/shift/list",method:"get",params:e};return Object(n["a"])(t)}function Ye(e){var t={url:"/wms/shift/addShift",method:"post",data:e};return Object(n["a"])(t)}function Be(e){var t={url:"/wms/shift/del",method:"delete",params:e};return Object(n["a"])(t)}function Je(e){var t={url:"/wms/discharge/list",method:"get",params:e};return Object(n["a"])(t)}function Ge(e){var t={url:"wms/discharge/save",method:"post",data:e};return Object(n["a"])(t)}function Qe(e){var t={url:"/wms/discharge/del",method:"delete",params:e};return Object(n["a"])(t)}function Ze(e){var t={url:"/wms/warehouse/terms",method:"get",params:e};return Object(n["a"])(t)}function Ke(e){var t={url:"/wms/warehouse/terms/save",method:"post",data:e};return Object(n["a"])(t)}function Xe(e){var t={url:"orders/allocation/exportAllocation2",responseType:"blob",method:"get",params:e};return Object(n["a"])(t)}function et(e){var t={url:"/orders/outorder/exportWsOut",responseType:"blob",method:"get",params:e};return Object(n["a"])(t)}function tt(e){var t={url:"/express/web/expressorder/s",responseType:"blob",method:"get",params:e};return Object(n["a"])(t)}function at(e){var t={url:"/express/b/page",method:"post",data:e};return Object(n["a"])(t)}function nt(e){var t={url:"/express/b/get",method:"get",params:e};return Object(n["a"])(t)}function it(e){var t={url:"/cfg/lsc/getLscGroupList",method:"post",data:e};return Object(n["a"])(t)}function rt(e){var t={url:"/cfg/lsc/getLscGroupItems",method:"get",params:e};return Object(n["a"])(t)}},c15d:function(e,t,a){},c3f6:function(e,t,a){"use strict";a.d(t,"n",function(){return i}),a.d(t,"t",function(){return r}),a.d(t,"p",function(){return s}),a.d(t,"a",function(){return o}),a.d(t,"b",function(){return l}),a.d(t,"q",function(){return c}),a.d(t,"g",function(){return u}),a.d(t,"k",function(){return d}),a.d(t,"h",function(){return m}),a.d(t,"i",function(){return p}),a.d(t,"j",function(){return h}),a.d(t,"s",function(){return f}),a.d(t,"f",function(){return v}),a.d(t,"l",function(){return g}),a.d(t,"o",function(){return b}),a.d(t,"u",function(){return y}),a.d(t,"e",function(){return w}),a.d(t,"d",function(){return k}),a.d(t,"r",function(){return O}),a.d(t,"c",function(){return x}),a.d(t,"m",function(){return L});var n=a("b32d");function i(e){var t={url:"/cfg/ssc/getSscList",method:"get",params:e};return Object(n["a"])(t)}function r(e){var t={url:"/cfg/ssc/saveSsc",method:"post",data:e};return Object(n["a"])(t)}function s(e){var t={url:"/cfg/ssc/changeStatus",method:"post",params:e};return Object(n["a"])(t)}function o(e){var t={url:"/cfg/ssc/deleteSsc",method:"delete",params:e};return Object(n["a"])(t)}function l(e){var t={url:"/cfg/ssc/getAgentList",method:"get",params:e};return Object(n["a"])(t)}function c(e){var t={url:"/cfg/ssc/saveAgent",method:"post",data:e};return Object(n["a"])(t)}function u(e){var t={url:"/auth/custtype/getCustTypeList",method:"get",params:e};return Object(n["a"])(t)}function d(e){var t={url:"/cfg/ss/getSsList",method:"get",params:e};return Object(n["a"])(t)}function m(e){var t={url:"/cfg/examine/getExamineList",method:"get",params:e};return Object(n["a"])(t)}function p(e){var t={url:"/cfg/type/getServiceSubtypeList",method:"get",params:e};return Object(n["a"])(t)}function h(e){var t={url:"/cfg/ssc/getSsCostitemType",method:"get",params:e};return Object(n["a"])(t)}function f(e){var t={url:"/cfg/ssc/saveSsCostitemType",method:"post",data:e};return Object(n["a"])(t)}function v(e){var t={url:"/finance/costitem/getCostitemTypeList",method:"get",params:e};return Object(n["a"])(t)}function g(e){var t={url:"/auth/custtype/getSubtypeByCustAndType",method:"get",params:e};return Object(n["a"])(t)}function b(e){var t={url:"/wms/warehouse/server/cat",method:"get",params:e};return Object(n["a"])(t)}function y(e){var t={url:"/wms/warehouse/server/save",method:"post",data:e};return Object(n["a"])(t)}function w(e){var t={url:"/finance/costitem/ws",method:"post",data:e};return Object(n["a"])(t)}function k(e){var t={url:"/finance/r/get",method:"post",params:e};return Object(n["a"])(t)}function O(e){var t={url:"/finance/r/save",method:"post",data:e};return Object(n["a"])(t)}function x(e){var t={url:"/setting/container/getContainerList",method:"get",params:e};return Object(n["a"])(t)}function L(e){var t={url:"/setting/vehicletype/getVehicleTypeList",method:"get",params:e};return Object(n["a"])(t)}},c602:function(e,t,a){"use strict";var n=a("c15d"),i=a.n(n);i.a},d0d2:function(e,t,a){},dfae:function(e,t,a){},e2b7:function(e,t,a){"use strict";var n=a("dfae"),i=a.n(n);i.a},e793:function(e,t,a){},ea5d:function(e,t,a){},ec51:function(e,t,a){},efee:function(e,t,a){"use strict";var n=a("3978"),i=a.n(n);i.a},f565:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","min-height":"inherit"}},[a("div",{staticClass:"dashboard-container",staticStyle:{flex:"1",overflow:"auto"}},[a("div",{staticClass:"app-container"},[a("div",{staticClass:"panel-info"},[a("h3",[e._v("仓库配置")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isMoreShow,expression:"!isMoreShow"}],attrs:{type:"text",icon:"el-icon-back"},on:{click:e.handleBack}},[e._v("\n          返回\n        ")])],1),e.isMoreShow?a("div",{staticClass:"app-panel"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseOutStockAdd"],expression:"['warehouseOutStockAdd']"}],staticStyle:{"margin-left":"10px"},attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAdd}},[e._v("\n              新增仓库\n            ")])],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:20}},["0"===e.custId?a("el-select",{staticStyle:{width:"130px","margin-right":"10px"},attrs:{filterable:"",size:"small",placeholder:"供应商"},on:{change:e.onSupplier},model:{value:e.selectValue.custId,callback:function(t){e.$set(e.selectValue,"custId",t)},expression:"selectValue.custId"}},e._l(e.supplierList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1):e._e(),a("el-select",{staticStyle:{width:"130px","margin-right":"10px"},attrs:{loading:e.selectLoading,size:"small",clearable:"",placeholder:"国家/地区",filterable:""},on:{focus:e.getCountryList,change:e.onCountryChange},model:{value:e.selectValue.countryId,callback:function(t){e.$set(e.selectValue,"countryId",t)},expression:"selectValue.countryId"}},e._l(e.countryList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1),a("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{loading:e.selectLoading,disabled:!e.selectValue.countryId,placeholder:"州/省",clearable:"",filterable:"",size:"small"},on:{focus:e.getStateList,change:e.onStateChange},model:{value:e.selectValue.stateId,callback:function(t){e.$set(e.selectValue,"stateId",t)},expression:"selectValue.stateId"}},e._l(e.stateList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1),a("el-select",{staticStyle:{width:"130px","margin-right":"5px"},attrs:{loading:e.selectLoading,disabled:!e.selectValue.stateId,placeholder:"城市",clearable:"",size:"small",filterable:""},on:{focus:e.getCityList},model:{value:e.selectValue.cityId,callback:function(t){e.$set(e.selectValue,"cityId",t)},expression:"selectValue.cityId"}},e._l(e.cityList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1),a("el-select",{staticStyle:{width:"130px","margin-right":"10px"},attrs:{placeholder:"启用状态",size:"small",clearable:""},model:{value:e.selectValue.status,callback:function(t){e.$set(e.selectValue,"status",t)},expression:"selectValue.status"}},e._l(e.statusList,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}),1),a("el-select",{staticStyle:{width:"130px","margin-right":"10px"},attrs:{placeholder:"仓库配置",size:"small",clearable:""},on:{change:e.selectwareConfig},model:{value:e.selectValue.wareConfig,callback:function(t){e.$set(e.selectValue,"wareConfig",t)},expression:"selectValue.wareConfig"}},e._l(e.configuration,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}),1),a("el-select",{staticStyle:{width:"130px","margin-right":"10px"},attrs:{placeholder:"仓库属性",size:"small",clearable:""},on:{change:e.selectwareAttr},model:{value:e.selectValue.wareAttr,callback:function(t){e.$set(e.selectValue,"wareAttr",t)},expression:"selectValue.wareAttr"}},e._l(e.properties,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}),1),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"280px","margin-right":"10px"},attrs:{placeholder:"请输入内容",size:"small"},model:{value:e.selectValue.name,callback:function(t){e.$set(e.selectValue,"name",t)},expression:"selectValue.name"}},[a("template",{slot:"prepend"},[e._v("\n                仓库名称\n              ")])],2),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseOutStockQuery"],expression:"['warehouseOutStockQuery']"}],attrs:{type:"primary",size:"small"},on:{click:function(t){return e.getTableList(1)}}},[e._v("\n              查询\n            ")])],1)],1),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.tableData,border:"",height:"calc(100vh - 313px)"}},[a("el-table-column",{attrs:{prop:"name",label:"仓库名称","min-width":"180"}}),a("el-table-column",{attrs:{prop:"countryName",label:"国家/地区","min-width":"150"}}),a("el-table-column",{attrs:{label:"州省市区","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:!!t.row.stateName,expression:"!!scope.row.stateName"}]},[e._v("\n                  "+e._s(t.row.stateName)+"\n                ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!!t.row.cityName,expression:"!!scope.row.cityName"}]},[e._v("\n                  > "+e._s(t.row.cityName)+"\n                ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!!t.row.countyName,expression:"!!scope.row.countyName"}]},[e._v("\n                  > "+e._s(t.row.countyName)+"\n                ")])]}}],null,!1,2797432372)}),a("el-table-column",{attrs:{prop:"postal",label:"仓库邮编",width:"120"}}),a("el-table-column",{attrs:{prop:"address",label:"仓库地址","min-width":"180"}}),a("el-table-column",{attrs:{prop:"weight",label:"入库限重",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.weight))]),a("span",[e._v(e._s(e.filterUnit(t.row.unitOfWeight)))])]}}],null,!1,24449116)}),a("el-table-column",{attrs:{prop:"unloading",label:"卸货平台",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.unloading?a("span",[e._v("√")]):a("span",[e._v("--")])]}}],null,!1,750543387)}),a("el-table-column",{attrs:{prop:"forklift",label:"叉车",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.forklift?a("span",[e._v("√")]):a("span",[e._v("--")])]}}],null,!1,2346221793)}),a("el-table-column",{attrs:{prop:"supervise",label:"监管仓",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.supervise?a("span",[e._v("√")]):a("span",[e._v("--")])]}}],null,!1,1498153966)}),a("el-table-column",{attrs:{prop:"transfer",label:"中转仓",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.transfer?a("span",[e._v("√")]):a("span",[e._v("--")])]}}],null,!1,3227709837)}),a("el-table-column",{attrs:{prop:"createTime",label:"添加时间",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.formatTime(t.row.createTime))+"\n              ")]}}],null,!1,1259448891)}),a("el-table-column",{attrs:{prop:"createTime",label:"状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{staticClass:"switchStyle",attrs:{value:t.row.status,"active-text":"启用","inactive-text":"禁用","active-value":"1","inactive-value":"0"},on:{input:function(a){return e.onStatus(t.row,a)}}})]}}],null,!1,2101330179)}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseSetService"],expression:"['warehouseSetService']"}],attrs:{type:"text",size:"medium"},on:{click:function(a){return e.settingService(t.row)}}},[e._v("\n                  设置服务\n                ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseOutStockUpdate"],expression:"['warehouseOutStockUpdate']"}],attrs:{type:"text",size:"medium"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("\n                  编辑\n                ")]),e._v("\n                 \n                "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseOutStockDel"],expression:"['warehouseOutStockDel']"}],attrs:{type:"text",size:"medium"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("\n                  删除\n                ")]),e._v("\n                 \n                "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseScheduling","warehouseShiftPost","warehouseDischargingHatch","warehouseOperatingCenter","warehouseLocationManagement","warehouseTransferInfmt","warehouseClause","warehouseCustItemConfig"],expression:"[\n                    'warehouseScheduling',\n                    'warehouseShiftPost',\n                    'warehouseDischargingHatch',\n                    'warehouseOperatingCenter',\n                    'warehouseLocationManagement',\n                    'warehouseTransferInfmt',\n                    'warehouseClause',\n                    'warehouseCustItemConfig'\n                  ]"}],attrs:{type:"text",size:"medium"},on:{click:function(a){return e.handleMore(t.row)}}},[e._v("\n                  更多\n                ")])]}}],null,!1,971280111)})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.pageNumber,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("editForm",{ref:"editForm",attrs:{"is-edit":e.isEdit,"country-list":e.countryList,attributes:e.attributes,"service-type-list":e.serviceTypes,deliveries:e.deliveries,"cust-id":e.selectValue.custId,"cust-name":e.selectValue.custName},on:{getTableList:e.getTableList,getCountryList:e.getCountryList,getServiceTypeList:e.getServiceTypeList}})],1):a("div",[a("tabsData",{attrs:{"ws-id":e.wsID,"ws-nm":e.wsNm,"ct-id":e.ctID}})],1)])]),a("transfer-modal",{ref:"transferModal"})],1)},i=[],r=(a("8e6e"),a("456d"),a("bd86")),s=a("768b"),o=(a("ac6a"),a("7f7f"),a("96cf"),a("3b8d")),l=a("d225"),c=a("b0b4"),u=a("308d"),d=a("6bb5"),m=a("4e2b"),p=a("9ab4"),h=a("60a3"),f=a("9dba"),v=a("5a0c"),g=a.n(v),b=a("b941"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"flex","flex-flow":"row nowrap","min-height":"inherit"}},[a("div",{staticClass:"dashboard-container",staticStyle:{flex:"1",overflow:"auto"}},[a("el-dialog",{attrs:{title:e.isEdit?"编辑仓库":"新增仓库",visible:e.isShowUpdate,"close-on-click-modal":!1,"modal-append-to-body":!1,width:"1000px"},on:{"update:visible":function(t){e.isShowUpdate=t},closed:e.cancel}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],staticClass:"add-edit-truck"},[a("el-form",{ref:"theForm",staticClass:"warehouse-edit-form",attrs:{model:e.selectForm,rules:e.formRules,"label-width":"150px","label-position":"right",size:"small"}},[a("el-form-item",{attrs:{label:"仓库名称",prop:"name"}},[a("el-input",{ref:"firstInput",attrs:{type:"text",maxlength:50,placeholder:"请输入"},model:{value:e.selectForm.name,callback:function(t){e.$set(e.selectForm,"name",t)},expression:"selectForm.name"}})],1),a("el-form-item",{attrs:{label:"仓库地址",prop:"address"}},[a("el-input",{attrs:{type:"text",maxlength:100,placeholder:"请输入"},model:{value:e.selectForm.address,callback:function(t){e.$set(e.selectForm,"address",t)},expression:"selectForm.address"}})],1),a("el-form-item",{attrs:{label:"仓库邮编",prop:"postal"}},[a("el-input",{attrs:{type:"text",maxlength:10,placeholder:"请输入","show-word-limit":""},model:{value:e.selectForm.postal,callback:function(t){e.$set(e.selectForm,"postal",t)},expression:"selectForm.postal"}})],1),a("el-form-item",{attrs:{label:"部门",prop:"deptId"}},[a("el-tree-select",{staticStyle:{width:"100%"},attrs:{data:e.depts,"default-expand-all":!1,clearable:"",filterable:"",size:"small",placeholder:"请选择"},on:{change:e.onDept},model:{value:e.selectForm.deptId,callback:function(t){e.$set(e.selectForm,"deptId",t)},expression:"selectForm.deptId"}})],1),a("el-form-item",{attrs:{label:"仓库对接人",prop:"principalId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.selectLoading,placeholder:"请选择",filterable:"",clearable:""},on:{focus:e.getPrincipalList},model:{value:e.selectForm.principalId,callback:function(t){e.$set(e.selectForm,"principalId",t)},expression:"selectForm.principalId"}},e._l(e.principalList,function(e){return a("el-option",{key:e.id,attrs:{label:e.realName,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"紧急电话",prop:"emergencyPhone"}},[a("el-input",{attrs:{type:"text",maxlength:11,placeholder:"请输入","show-word-limit":""},model:{value:e.selectForm.emergencyPhone,callback:function(t){e.$set(e.selectForm,"emergencyPhone",t)},expression:"selectForm.emergencyPhone"}})],1),a("el-form-item",{attrs:{label:"国家/地区",prop:"countryId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.isEdit,placeholder:"请选择",filterable:"",clearable:""},on:{change:e.onCountryChange},model:{value:e.selectForm.countryId,callback:function(t){e.$set(e.selectForm,"countryId",t)},expression:"selectForm.countryId"}},e._l(e.countryList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"州/省",prop:"stateId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:"",disabled:!e.selectForm.countryId,filterable:""},on:{focus:e.getStateList,change:e.onStateChange},model:{value:e.selectForm.stateId,callback:function(t){e.$set(e.selectForm,"stateId",t)},expression:"selectForm.stateId"}},e._l(e.state1List,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"城市",prop:"cityId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.selectLoading,placeholder:"请选择",clearable:"",disabled:!e.selectForm.stateId,filterable:""},on:{focus:e.getCity1List,change:e.onCityChange},model:{value:e.selectForm.cityId,callback:function(t){e.$set(e.selectForm,"cityId",t)},expression:"selectForm.cityId"}},e._l(e.city1List,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"区/县",prop:"countyId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.selectLoading,placeholder:"区/县",clearable:"",disabled:!e.selectForm.cityId,filterable:""},on:{focus:e.getCounty1List},model:{value:e.selectForm.countyId,callback:function(t){e.$set(e.selectForm,"countyId",t)},expression:"selectForm.countyId"}},e._l(e.county1List,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-"+e.alias,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"商品属性",prop:"goodsAttr"}},[a("el-checkbox-group",{staticClass:"check-box-update",model:{value:e.selectForm.goodsAttr,callback:function(t){e.$set(e.selectForm,"goodsAttr",t)},expression:"selectForm.goodsAttr"}},e._l(e.attributes,function(e,t){return a("el-checkbox",{key:t,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"托盘最大容积",prop:"palletCapacity"}},[a("div",{staticClass:"input-capacity"},[a("div",{staticStyle:{flex:"1"}},[a("el-input-number",{staticClass:"input-number-valiate input-border",attrs:{controls:!1,placeholder:"请输入",min:0,max:999999,precision:2},model:{value:e.selectForm.palletCapacity,callback:function(t){e.$set(e.selectForm,"palletCapacity",t)},expression:"selectForm.palletCapacity"}})],1),a("div",{staticClass:"input-unit"},[e._v("\n                CBM(立方米)\n              ")])])]),a("el-form-item",{attrs:{label:"长度单位",prop:"unitOfLength"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:""},on:{change:function(t){e.selectForm.maximum=void 0},focus:function(t){return e.getWordsList("measurement_type")}},model:{value:e.selectForm.unitOfLength,callback:function(t){e.$set(e.selectForm,"unitOfLength",t)},expression:"selectForm.unitOfLength"}},e._l(e.lengthList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"箱子最大尺寸",prop:"maximum"}},[a("div",{staticClass:"input-capacity"},[a("div",{staticStyle:{flex:"1"}},[a("el-input-number",{staticClass:"input-number-valiate input-border",attrs:{controls:!1,placeholder:"请输入",min:0,max:999999,precision:2},model:{value:e.selectForm.maximum,callback:function(t){e.$set(e.selectForm,"maximum",t)},expression:"selectForm.maximum"}})],1),a("div",{staticClass:"input-unit"},[a("span",[e._v(e._s(e.filterUnit(e.selectForm.unitOfLength,"len")))])])])]),a("el-form-item",{attrs:{label:"重量单位",prop:"unitOfWeight"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:""},on:{change:function(t){e.selectForm.weight=void 0},focus:function(t){return e.getWordsList("weight_type")}},model:{value:e.selectForm.unitOfWeight,callback:function(t){e.$set(e.selectForm,"unitOfWeight",t)},expression:"selectForm.unitOfWeight"}},e._l(e.weightList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"入库限重",prop:"weight"}},[a("div",{staticClass:"input-capacity"},[a("div",{staticStyle:{flex:"1"}},[a("el-input-number",{staticClass:"input-number-valiate input-border",attrs:{controls:!1,placeholder:"请输入",min:0,max:999999,precision:2},model:{value:e.selectForm.weight,callback:function(t){e.$set(e.selectForm,"weight",t)},expression:"selectForm.weight"}})],1),a("div",{staticClass:"input-unit"},[a("span",[e._v(e._s(e.filterUnit(e.selectForm.unitOfWeight,"wei")))])])])]),a("el-form-item",{attrs:{label:"货币单位",prop:"currencyId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.selectLoading,clearable:"",filterable:"",placeholder:"请选择"},on:{focus:e.geCurrencyList},model:{value:e.selectForm.currencyId,callback:function(t){e.$set(e.selectForm,"currencyId",t)},expression:"selectForm.currencyId"}},e._l(e.currencyList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"-"+e.sign,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"卸货平台",prop:"unloading"}},[a("el-radio-group",{model:{value:e.selectForm.unloading,callback:function(t){e.$set(e.selectForm,"unloading",t)},expression:"selectForm.unloading"}},[a("el-radio",{attrs:{label:!0}},[e._v("\n                有\n              ")]),a("el-radio",{attrs:{label:!1}},[e._v("\n                无\n              ")])],1)],1),a("el-form-item",{attrs:{label:"叉车",prop:"forklift"}},[a("el-radio-group",{model:{value:e.selectForm.forklift,callback:function(t){e.$set(e.selectForm,"forklift",t)},expression:"selectForm.forklift"}},[a("el-radio",{attrs:{label:!0}},[e._v("\n                有\n              ")]),a("el-radio",{attrs:{label:!1}},[e._v("\n                无\n              ")])],1)],1),a("el-form-item",{attrs:{label:"是否中转仓",prop:"transfer"}},[a("el-radio-group",{model:{value:e.selectForm.transfer,callback:function(t){e.$set(e.selectForm,"transfer",t)},expression:"selectForm.transfer"}},[a("el-radio",{attrs:{label:!0}},[e._v("\n                是\n              ")]),a("el-radio",{attrs:{label:!1}},[e._v("\n                否\n              ")])],1)],1),a("el-form-item",{attrs:{label:"是否监管仓",prop:"supervise"}},[a("el-radio-group",{model:{value:e.selectForm.supervise,callback:function(t){e.$set(e.selectForm,"supervise",t)},expression:"selectForm.supervise"}},[a("el-radio",{attrs:{label:!0}},[e._v("\n                是\n              ")]),a("el-radio",{attrs:{label:!1}},[e._v("\n                否\n              ")])],1)],1),a("el-form-item",{attrs:{label:"是否提供司机ID",prop:"driver"}},[a("el-radio-group",{model:{value:e.selectForm.driver,callback:function(t){e.$set(e.selectForm,"driver",t)},expression:"selectForm.driver"}},[a("el-radio",{attrs:{label:!0}},[e._v("\n                是\n              ")]),a("el-radio",{attrs:{label:!1}},[e._v("\n                否\n              ")])],1)],1),a("el-form-item",{attrs:{label:"是否提供车牌",prop:"plateNumber"}},[a("el-radio-group",{model:{value:e.selectForm.plateNumber,callback:function(t){e.$set(e.selectForm,"plateNumber",t)},expression:"selectForm.plateNumber"}},[a("el-radio",{attrs:{label:!0}},[e._v("\n                是\n              ")]),a("el-radio",{attrs:{label:!1}},[e._v("\n                否\n              ")])],1)],1),a("el-form-item",{attrs:{label:"是否有卸货排队流程",prop:"queue"}},[a("el-radio-group",{model:{value:e.selectForm.queue,callback:function(t){e.$set(e.selectForm,"queue",t)},expression:"selectForm.queue"}},[a("el-radio",{attrs:{label:!0}},[e._v("\n                是\n              ")]),a("el-radio",{attrs:{label:!1}},[e._v("\n                否\n              ")])],1)],1),a("el-form-item",{attrs:{label:"覆盖省份",prop:"stateIds"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"覆盖省份",clearable:"",multiple:"",filterable:""},on:{focus:e.getStateList,change:e.onState},model:{value:e.selectForm.stateIds,callback:function(t){e.$set(e.selectForm,"stateIds",t)},expression:"selectForm.stateIds"}},e._l(e.stateList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"覆盖城市"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{loading:e.selectLoading,placeholder:"覆盖城市",filterable:"",clearable:"",multiple:""},on:{focus:e.getCityList},model:{value:e.selectForm.cities,callback:function(t){e.$set(e.selectForm,"cities",t)},expression:"selectForm.cities"}},e._l(e.cityList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"业务类型",prop:"businessType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small",clearable:"",multiple:"","collapse-tagsist":""},model:{value:e.selectForm.businessType,callback:function(t){e.$set(e.selectForm,"businessType",t)},expression:"selectForm.businessType"}},e._l(e.businessTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"派送方式",prop:"deliveryList"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"派送方式",size:"small",clearable:"",multiple:""},model:{value:e.selectForm.deliveryList,callback:function(t){e.$set(e.selectForm,"deliveryList",t)},expression:"selectForm.deliveryList"}},e._l(e.deliveries,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"上下班时间",prop:"workTime"}},[a("el-time-picker",{staticStyle:{width:"100%"},attrs:{clearable:!1,"value-format":"HH:mm",format:"HH:mm","is-range":"","arrow-control":"","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:e.selectForm.workTime,callback:function(t){e.$set(e.selectForm,"workTime",t)},expression:"selectForm.workTime"}})],1),a("el-form-item",{attrs:{label:"收货开始时间",prop:"receiveStartTime"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择",clearable:"",filterable:""},model:{value:e.selectForm.receiveStartTime,callback:function(t){e.$set(e.selectForm,"receiveStartTime",t)},expression:"selectForm.receiveStartTime"}},e._l(e.weekdays,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"收货截止时间",prop:"receiveEndTime"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择",clearable:"",filterable:""},model:{value:e.selectForm.receiveEndTime,callback:function(t){e.$set(e.selectForm,"receiveEndTime",t)},expression:"selectForm.receiveEndTime"}},e._l(e.weekdays,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("\n          取 消\n        ")]),a("el-button",{attrs:{type:"primary",loading:e.formLoading},on:{click:e.saveConfirm}},[e._v("\n          确 定\n        ")])],1)])],1)])},w=[],k=(a("c5f6"),a("a481"),a("28a5"),a("7514"),a("a8db"));function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach(function(t){Object(r["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function L(){return{principalId:void 0,principal:void 0,address:void 0,categories:[{id:void 0,name:void 0}],name:void 0,cityId:void 0,cityName:void 0,countryId:void 0,countryName:void 0,countyId:void 0,countyName:void 0,createTime:void 0,deptId:"",custId:void 0,custName:void 0,forklift:!0,id:void 0,postal:void 0,stateId:void 0,stateName:void 0,status:void 0,supervise:!0,transfer:!0,unloading:!0,palletCapacity:void 0,currencyId:void 0,maximum:void 0,weight:void 0,unitOfWeight:void 0,unitOfLength:void 0,goodsAttr:[],driver:!0,plateNumber:!0,emergencyPhone:void 0,queue:!0,countries:[],stateIds:[],cities:[],businessType:[],serviceTypes:[],deliveryList:[],workTime:["00:00","23:59"],receiveTime:void 0}}var S=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.isShowUpdate=!1,e.formLoading=!1,e.selectForm=L(),e.props={value:"id",label:"name"},e.formRules={name:[{required:!0,message:"仓库名称不能为空",trigger:"blur"}],deptId:[{required:!0,message:"请选择部门",trigger:"change"},{validator:e.validateDept,trigger:"change"}],principalId:[{required:!0,message:"请选择仓库对接人",trigger:"change"}],emergencyPhone:[{required:!0,message:"紧急电话不能为空",trigger:"blur"},{validator:function(e,t,a){var n=/[\u4e00-\u9fa5]/;t&&n.test(t)?a(new Error("紧急电话不能有中文")):a()},trigger:"blur"}],postal:[{required:!0,message:"仓库邮编不能为空",trigger:"blur"},{validator:function(e,t,a){var n=/^[a-zA-Z0-9 .·-]+$/;t?n.test(t)?a():a(new Error("仓库邮编不能有中文及特殊字符")):a(new Error("仓库邮编不能为空"))},trigger:"blur"}],address:[{required:!0,message:"仓库地址不能为空",trigger:"blur"}],unloading:[{required:!0,message:"请选择卸货平台",trigger:"change"}],forklift:[{required:!0,message:"请选择叉车",trigger:"change"}],supervise:[{required:!0,message:"请选择是否监管仓",trigger:"change"}],palletCapacity:[{required:!0,message:"托盘最大容积不能为空",trigger:"blur"}],maximum:[{required:!0,message:"最大尺寸不能为空",trigger:"blur"}],weight:[{required:!0,message:"入库限重不能为空",trigger:"blur"}],currencyId:[{required:!0,message:"请选择货币单位",trigger:"change"}],unitOfWeight:[{required:!0,message:"请选择重量单位",trigger:"change"}],unitOfLength:[{required:!0,message:"请选择长度单位",trigger:"change"}],transfer:[{required:!0,message:"请选择是否中转仓",trigger:"change"}],goodsAttr:[{required:!0,message:"请选择商品属性",trigger:"change"}],countryId:[{required:!0,message:"请选择国家/地区",trigger:"change"}],stateId:[{required:!0,message:"请选择州/省",trigger:"change"}],cityId:[{required:!0,message:"请选择城市",trigger:"change"}],countyId:[{required:!1,message:"请选择区/县",trigger:"change"}],driver:[{required:!0,message:"请选择是否提供司机ID",trigger:"change"}],plateNumber:[{required:!0,message:"请选择是否提供车牌",trigger:"change"}],queue:[{required:!0,message:"请选择是否有卸货排队流程",trigger:"change"}],stateIds:[{required:!0,message:"请选择覆盖省份",trigger:"change"}],businessType:[{required:!0,message:"请选择业务类型",trigger:"change"}],serviceTypes:[{required:!0,message:"请选择服务类型",trigger:"change"}],deliveryList:[{required:!0,message:"请选择派送方式",trigger:"change"}],workTime:[{required:!0,message:"请选择上下班时间",trigger:"change"}],receiveStartTime:[{required:!0,message:"请选择收货时间",trigger:"change"}],receiveEndTime:[{required:!0,message:"请选择收货时间",trigger:"change"}]},e.weekdays=[{label:"星期一",value:2},{label:"星期二",value:3},{label:"星期三",value:4},{label:"星期四",value:5},{label:"星期五",value:6},{label:"星期六",value:7},{label:"星期日",value:1}],e.businessTypeList=[{label:"空运",value:"1"},{label:"海运",value:"2"},{label:"铁路",value:"3"},{label:"卡航",value:"4"},{label:"快递",value:"5"},{label:"小包",value:"6"},{label:"集货",value:"7"},{label:"行李及搬家",value:"8"}],e.weightList=[],e.lengthList=[],e.principalList=[],e.state1List=[],e.city1List=[],e.county1List=[],e.stateList=[],e.cityList=[],e.deptList=[],e.currencyList=[],e.selectLoading=!1,e.wsId="",e.dtId="",e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"filterUnit",value:function(e,t){var a;return e&&"len"===t&&this.lengthList.map(function(t){t.value===e&&(a="".concat(t.value,"(").concat(t.label,")"))}),e&&"wei"===t&&this.weightList.map(function(t){t.value===e&&(a="".concat(t.value,"(").concat(t.label,")"))}),a||""}},{key:"validateDept",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,a,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.dtId!==a){e.next=2;break}return e.abrupt("return",n());case 2:return e.next=4,Object(b["E"])({custId:this.custId,deptId:a,warehouseId:this.wsId});case 4:if(i=e.sent,!i.data){e.next=9;break}return e.abrupt("return",n(new Error("该部门及其下属已存在")));case 9:return e.abrupt("return",n());case 10:case"end":return e.stop()}},e,this)}));function t(t,a,n){return e.apply(this,arguments)}return t}()},{key:"getDeptList",value:function(){var e=this;Object(b["L"])({custId:this.custId}).then(function(t){var a=t.data||{};e.deptList=a.result||[]}).catch(function(e){return e})}},{key:"onDept",value:function(){this.selectForm.principalId=void 0,this.principalList=[]}},{key:"getPrincipalList",value:function(){var e=this;this.selectLoading=!0;var t={custId:this.custId,deptId:this.selectForm.deptId,page:1,size:9999};Object(b["gb"])(t).then(function(t){e.principalList=t.data||[],e.selectLoading=!1}).catch(function(t){return e.selectLoading=!1,t})}},{key:"getCountryList",value:function(){this.$emit("getCountryList")}},{key:"getServiceTypeList",value:function(){this.$emit("getServiceTypeList")}},{key:"getStateList",value:function(){var e=this;this.selectForm.countryId&&(this.selectLoading=!0,Object(b["tb"])(this.selectForm.countryId).then(function(t){e.selectLoading=!1;var a=t.data||{},n=a.result||[];e.state1List=n,e.stateList=n}).catch(function(){e.state1List=[],e.selectLoading=!1}))}},{key:"getCity1List",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.selectForm.stateId){e.next=2;break}return e.abrupt("return");case 2:return this.selectLoading=!0,e.next=5,Object(b["G"])(this.selectForm.stateId).then(function(e){t.selectLoading=!1;var a=e.data||{},n=a.result||[];t.city1List=n}).catch(function(){t.city1List=[],t.selectLoading=!1});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getCounty1List",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.selectForm.cityId){e.next=2;break}return e.abrupt("return");case 2:return this.selectLoading=!0,e.next=5,Object(b["J"])(this.selectForm.cityId).then(function(e){var a=e.data||{},n=a.result||[];t.county1List=n,t.selectLoading=!1}).catch(function(){t.county1List=[],t.selectLoading=!1});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onCountryChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.selectForm.stateId=void 0,this.selectForm.stateIds=[],this.stateList=[],this.selectForm.cities=[],this.cityList=[],this.onStateChange(),this.getStateList();case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onStateChange",value:function(){this.selectForm.cityId=void 0,this.onCityChange()}},{key:"onCityChange",value:function(){this.selectForm.countyId=void 0}},{key:"geCurrencyList",value:function(){var e=this;this.selectLoading=!0;var t={page:1,size:999};Object(b["x"])(t).then(function(t){var a=t.data||{};e.currencyList=a.result||[],e.selectLoading=!1}).catch(function(t){return e.selectLoading=!1,t})}},{key:"getWordsList",value:function(e){var t=this;this.selectLoading=!0;var a={type:e};Object(b["Gb"])(a).then(function(a){t.selectLoading=!1;var n=a.data||[];switch(e){case"weight_type":t.weightList=n;break;case"measurement_type":t.lengthList=n;break;default:break}}).catch(function(e){return t.selectLoading=!1,e})}},{key:"onState",value:function(){this.selectForm.cities=[],this.cityList=[]}},{key:"getCityList",value:function(){var e=this;this.selectForm.stateIds.length<=0||(this.selectLoading=!0,Object(b["F"])(this.selectForm.stateIds).then(function(t){var a=t.data||{};e.cityList=a.result||[],e.selectLoading=!1}).catch(function(t){return e.selectLoading=!1,t}))}},{key:"clearValidate",value:function(){var e=this.$refs.theForm;this.$nextTick(function(){e.clearValidate()})}},{key:"resetForm",value:function(){this.state1List=[],this.city1List=[],this.county1List=[],this.stateList=[],this.cityList=[],this.selectForm=L(),this.clearValidate()}},{key:"cancel",value:function(){this.isShowUpdate=!1,this.resetForm()}},{key:"saveConfirm",value:function(){var e=this,t=this.$refs.theForm;t.validate(function(t){if(!t)return!1;e.formLoading=!0;var a=e.selectForm,n=a.workTime,i=a.goodsAttr,r=a.businessType,s=a.countryId,o=a.stateId,l=a.cityId,c=a.countyId,u=Object(k["a"])(a,["workTime","goodsAttr","businessType","countryId","stateId","cityId","countyId"]),d=e.countryList,m=(d.find(function(e){return e.id===s})||{}).name,p=(e.state1List.find(function(e){return e.id===o})||{}).name,h=(e.city1List.find(function(e){return e.id===l})||{}).name,f=(e.county1List.find(function(e){return e.id===c})||{}).name,v=x({},u,{countryId:s,countryName:m,stateName:p,stateId:o,cityName:h,cityId:l,countyId:c,countyName:f});v.workTime=n.join(","),v.businessType=r.join(",");var g=[];i.map(function(t){var a=e.attributes.find(function(e){return e.name===t});g.push(a)}),v.categories=g,v.countries=[{countryName:v.countryName,countryId:v.countryId,states:[]}];var y=v.stateIds.map(function(t){var a=(e.stateList||[]).find(function(e){return e.id===t}),n=a.id,i=a.name;return{stateId:n,stateName:i}});y=y.filter(function(e){return e.stateId&&e.stateName});var w=v.cities.map(function(t){var a=(e.cityList||[]).find(function(e){return e.id===t});return a});w=w.filter(function(e){return e});var O=y.map(function(e){var t=e.stateId,a=e.stateName,n={stateId:t,stateName:a,cities:[]},i=(w||[]).find(function(t){return t.stateId===e.stateId})||{};return i.id&&i.name&&n.cities.push({cityId:(i||{}).id,cityName:(i||{}).name}),n});v.countries[0].states=O,v.custId=e.custId,v.custName=e.custName,e.principalList.map(function(e){e.id===v.principalId&&(v.principal=e.realName,v.phoneNo=e.phone)}),e.currencyList.map(function(e){e.id===v.currencyId&&(v.currencyName=e.name)}),Object(b["Wb"])(v).then(function(t){e.$message({type:"success",message:"保存成功"}),e.resetForm(),e.formLoading=!1,e.isShowUpdate=!1,e.$emit("getTableList")}).catch(function(t){return e.formLoading=!1,t})})}},{key:"getWareHouseEdit",value:function(){var e=this;this.formLoading=!0,Object(b["Db"])({id:this.wsId}).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(a){var n,i,r,s,o,l,c,u,d,m,p;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=a.data||{},i=n.workTime,r=n.categories,s=n.businessType,o=Object(k["a"])(n,["workTime","categories","businessType"]),e.selectForm=x({},o,{businessType:s.split(",")||[]}),i?(c=i.split(","),e.$set(e.selectForm,"workTime",c)):(l=["00:00","23:59"],e.$set(e.selectForm,"workTime",l)),u=[],Array.isArray(r)&&(u=r.map(function(e){return e.name})),e.$set(e.selectForm,"goodsAttr",u),t.prev=7,t.next=10,e.getCity1List();case 10:return t.next=12,e.getCounty1List();case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](7),e.formLoading=!1;case 17:d=e.selectForm.countries||[],m=(d[0]||{}).states||[],e.selectForm.stateIds=[],m.map(function(t){e.selectForm.stateIds.push(t.stateId)}),p=m.map(function(e){return(e.cities||[]).find(function(e){return e})}),p=p.filter(function(e){return e&&e.cityId}),e.selectForm.cities=[],p.map(function(t){e.selectForm.cities.push(t.cityId)}),e.getCityList(),e.formLoading=!1;case 27:case"end":return t.stop()}},t,null,[[7,14]])}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){return e.formLoading=!1,[t,null]})}},{key:"init",value:function(e){var t=this;this.isShowUpdate=!0,this.getCountryList(),this.getWordsList("weight_type"),this.getWordsList("measurement_type"),this.getServiceTypeList(),this.getDeptList();var a=this.isEdit;a?(this.dtId=JSON.parse(JSON.stringify(e.deptId)),this.wsId=e.id,this.selectForm.countryId=e.countryId,this.getPrincipalList(),this.getStateList(),this.geCurrencyList(),this.getWareHouseEdit()):(this.wsId="",this.$nextTick(function(){var e=t.$refs.firstInput;e.focus()}))}},{key:"depts",get:function(){var e=this.deptList,t=JSON.parse(JSON.stringify(e).replace(/name/g,"label").replace(/id/g,"value"));return t}}]),t}(h["e"]);S=p["a"]([Object(h["a"])({name:"AddData",components:{},props:{countryList:{type:Array,default:function(){return[]}},custId:{type:[String,Number]},custName:{type:[String,Number]},attributes:{type:Array,default:function(){return[]}},serviceTypeList:{type:Array,default:function(){return[]}},deliveries:{type:Array,default:function(){return[]}},isEdit:{type:Boolean,default:!1}}})],S);var j=S,I=j,F=(a("4856"),a("2877")),T=Object(F["a"])(I,y,w,!1,null,"b123a184",null),_=T.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"5px 20px 20px","background-color":"#fff"}},[a("el-tabs",{attrs:{"tab-position":"top"},on:{"tab-click":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e.$checkPermission(["warehouseScheduling"])?a("el-tab-pane",{attrs:{label:"班次信息",name:"schedulingInformation"}},[0===e.currentTabIndex?a("scheduling-information",{attrs:{"ws-id":e.wsId,"ct-id":e.ctId,"company-id":e.currentCompanyId}}):e._e()],1):e._e(),e.$checkPermission(["warehouseShiftPost"])?a("el-tab-pane",{attrs:{label:"班次岗位分配",name:"shiftPostAllocation"}},[6===e.currentTabIndex?a("shift-post-allocation",{attrs:{"ws-id":e.wsId,"ct-id":e.ctId,"company-id":e.currentCompanyId}}):e._e()],1):e._e(),e.$checkPermission(["warehouseDischargingHatch"])?a("el-tab-pane",{attrs:{label:"分拣口",name:"dischargingHatch"}},[7===e.currentTabIndex?a("discharging-hatch",{attrs:{"ws-id":e.wsId,"ct-id":e.ctId,"company-id":e.currentCompanyId}}):e._e()],1):e._e(),e.$checkPermission(["warehouseOperatingCenter"])?a("el-tab-pane",{attrs:{label:"操作中心",name:"operatingCenter"}},[2===e.currentTabIndex?a("operating-center",{attrs:{"ws-id":e.wsId,"ct-id":e.ctId,"company-id":e.currentCompanyId}}):e._e()],1):e._e(),e.$checkPermission(["warehouseLocationManagement"])?a("el-tab-pane",{attrs:{label:"库位信息",name:"locationManagement"}},[1===e.currentTabIndex?a("location-management",{attrs:{"ws-id":e.wsId,"ws-nm":e.wsNm,"ct-id":e.ctId,"company-id":e.currentCompanyId}}):e._e()],1):e._e(),e.$checkPermission(["warehouseTransferInfmt"])?a("el-tab-pane",{attrs:{label:"转仓信息",name:"transferInformation"}},[3===e.currentTabIndex?a("transfer-information",{attrs:{"ws-id":e.wsId,"ct-id":e.ctId,"company-id":e.currentCompanyId}}):e._e()],1):e._e(),e.$checkPermission(["warehouseClause"])?a("el-tab-pane",{attrs:{label:"入库条款",name:"warehouseClause"}},[8===e.currentTabIndex?a("warehouse-clause",{attrs:{"ws-id":e.wsId,"company-id":e.currentCompanyId}}):e._e()],1):e._e(),e.$checkPermission(["warehouseCustItemConfig"])?a("el-tab-pane",{attrs:{label:"成本项目配置",name:"custItemConfig"}},[9===e.currentTabIndex?a("cust-item-config",{attrs:{"ws-id":e.wsId,"company-id":e.currentCompanyId}}):e._e()],1):e._e()],1)],1)},$=[],D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseSchedulingAdd"],expression:"['warehouseSchedulingAdd']"}],attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAdd}},[e._v("\n    新增班次信息\n  ")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.tableData,border:"",height:"calc(100vh - 340px)"}},[a("el-table-column",{attrs:{prop:"name",label:"班次名称"}}),a("el-table-column",{attrs:{prop:"transitTime",formatter:e.formatTime,label:"班次时间"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseSchedulingEdit"],expression:"['warehouseSchedulingEdit']"}],attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("\n          编辑\n        ")]),e._v("\n         \n        "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseSchedulingDel"],expression:"['warehouseSchedulingDel']"}],attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("\n          删除\n        ")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.pageNumber,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("schedulingForm",{ref:"schedulingForm",attrs:{"is-edit":e.isEdit,"ws-id":e.wsId},on:{getTableList:e.getTableList}})],1)},N=[],E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.isEdit?"编辑班次信息":"新增班次信息",visible:e.isShowUpdate,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.isShowUpdate=t},closed:e.cancel}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],staticClass:"add-edit-truck"},[a("el-form",{ref:"theForm",staticStyle:{"padding-right":"20px"},attrs:{model:e.selectForm,rules:e.formRules,"label-width":"120px","label-position":"right",size:"small"}},[a("el-form-item",{attrs:{label:"班次名称",prop:"name"}},[a("el-input",{attrs:{type:"text",maxlength:20,placeholder:"请输入"},model:{value:e.selectForm.name,callback:function(t){e.$set(e.selectForm,"name",t)},expression:"selectForm.name"}})],1),a("el-form-item",{attrs:{label:"班次开始时间",prop:"startTime"}},[a("el-time-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"选择时间",format:"HH:mm","value-format":"HH:mm","arrow-control":""},model:{value:e.selectForm.startTime,callback:function(t){e.$set(e.selectForm,"startTime",t)},expression:"selectForm.startTime"}})],1),a("el-form-item",{attrs:{label:"班次结束时间",prop:"endTime"}},[a("el-time-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"选择时间",format:"HH:mm","value-format":"HH:mm","arrow-control":""},model:{value:e.selectForm.endTime,callback:function(t){e.$set(e.selectForm,"endTime",t)},expression:"selectForm.endTime"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("\n        取 消\n      ")]),a("el-button",{attrs:{type:"primary",loading:e.formLoading},on:{click:e.saveConfirm}},[e._v("\n        确 定\n      ")])],1)])],1)},z=[];function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach(function(t){Object(r["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function M(){return{name:void 0,startTime:void 0,endTime:void 0,warehouseId:void 0}}var A=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.isShowUpdate=!1,e.formLoading=!1,e.selectForm=M(),e.formRules={name:[{required:!0,message:"班次名称不能为空",trigger:"change"}],startTime:[{required:!0,message:"请选择开始时间",trigger:"change"}],endTime:[{required:!0,message:"请选择结束时间",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"clearValidate",value:function(){var e=this.$refs.theForm;this.$nextTick(function(){e.clearValidate()})}},{key:"resetForm",value:function(){this.selectForm=M(),this.clearValidate()}},{key:"cancel",value:function(){this.isShowUpdate=!1,this.resetForm()}},{key:"saveConfirm",value:function(){var e=this,t=this.$refs.theForm;t.validate(function(t){if(!t)return!1;e.formLoading=!0;var a=V({},e.selectForm);a.startTime=a.startTime+":00",a.endTime=a.endTime+":00",Object(b["Tb"])(a).then(function(t){e.$message({type:"success",message:"保存成功"}),e.resetForm(),e.formLoading=!1,e.isShowUpdate=!1,e.$emit("getTableList")}).catch(function(t){return e.formLoading=!1,t})})}},{key:"init",value:function(e){this.isShowUpdate=!0,this.selectForm.warehouseId=this.wsId;var t=this.isEdit;t&&(this.selectForm.id=e.id,this.selectForm.name=e.name,this.selectForm.startTime=g()(e.startTime).format("HH:mm"),this.selectForm.endTime=g()(e.endTime).format("HH:mm"))}}]),t}(h["e"]);A=p["a"]([Object(h["a"])({name:"ScheldulingForm",components:{},props:{isEdit:{type:Boolean,default:!1},wsId:{type:String,default:""}}})],A);var W=A,q=W,U=Object(F["a"])(q,E,z,!1,null,"45968063",null),R=U.exports,H=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.loading=!1,e.isEdit=!1,e.tableData=[],e.pageNumber=1,e.pageSize=10,e.totalCount=0,e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"formatTime",value:function(e){if(e.startTime&&e.endTime){var t=g()(e.startTime).format("HH:mm"),a=g()(e.endTime).format("HH:mm");return t+"~"+a}}},{key:"handleAdd",value:function(){this.isEdit=!1;var e=this.$refs.schedulingForm;this.$nextTick(function(){e.init()})}},{key:"handleEdit",value:function(e){this.isEdit=!0;var t=this.$refs.schedulingForm;this.$nextTick(function(){t.init(e)})}},{key:"handleDelete",value:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){var a={id:e,warehouseId:t.wsId};Object(b["q"])(a).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.getTableList()}).catch(function(e){return[e,null]})}).catch(function(e){return[e,null]})}},{key:"getTableList",value:function(){var e=this,t={model:this.wsId,page:this.pageNumber,size:this.pageSize};this.loading=!0,Object(b["mb"])(t).then(function(t){e.loading=!1;var a=t.data;e.totalCount=a.total,e.tableData=a.result||[]}).catch(function(){e.loading=!1})}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.getTableList()}},{key:"handleCurrentChange",value:function(e){this.pageNumber=e,this.getTableList()}},{key:"created",value:function(){this.getTableList()}}]),t}(h["e"]);H=p["a"]([Object(h["a"])({name:"SchedulingInformation",components:{schedulingForm:R},props:{wsId:{type:String,default:""}}})],H);var Y=H,B=Y,J=Object(F["a"])(B,D,N,!1,null,"35b50bce",null),G=J.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseLocationManagementAdd"],expression:"['warehouseLocationManagementAdd']"}],attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAddLevel}},[e._v("\n    新增库区\n  ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseLocationManagementE"],expression:"['warehouseLocationManagementE']"}],staticStyle:{"margin-left":"10px"},attrs:{type:"text",icon:"el-icon-download"},on:{click:e.handleload}},[e._v("\n    导出库位码\n  ")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.tableData,"tree-props":{children:"children"},"row-key":"id","tooltip-effect":"light",border:"",height:"calc(100vh - 305px)"}},[a("el-table-column",{attrs:{prop:"code",label:"库位编号","min-width":"100"}}),a("el-table-column",{attrs:{prop:"type",label:"类型",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("\n          "+e._s(e.filterType(t.row.type))+"\n        ")]),1===t.row.level?a("span",[e._v("\n          ("+e._s(e.filterBin(t.row.binType))+")\n        ")]):e._e()]}}])}),a("el-table-column",{attrs:{formatter:e.formatLimit,prop:"limitType",label:"限制货物类型",width:"150"}}),a("el-table-column",{attrs:{formatter:e.formatService,prop:"serviceName",label:"服务类型","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"custName",label:"分配客户","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{formatter:e.formatRule,prop:"rule",label:"商品规则",width:"120"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return["5"!==t.row.type&&20===t.row.binType&&e.$checkPermission(["warehouseLocationMtSubAdd"])?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("\n          "+e._s("新增"+e.filterAdd(t.row.type))+"\n        ")]):e._e(),e._v("\n         \n        "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseLocationMtEdit"],expression:"['warehouseLocationMtEdit']"}],attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("\n          编辑\n        ")]),e._v("\n         \n        "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseLocationMtDel"],expression:"['warehouseLocationMtDel']"}],attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("\n          删除\n        ")])]}}])})],1),a("el-dialog",{attrs:{title:e.title,visible:e.isShowUpdate,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.isShowUpdate=t},closed:e.cancel}},[a("locationForm",{ref:"locationForm",attrs:{"is-edit":e.isEdit,type:e.floorType},on:{getTableList:e.getTableList,cancel:e.cancel}})],1),a("el-dialog",{attrs:{title:"导出库位码",visible:e.isCodeShow,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.isCodeShow=t},closed:function(t){e.isCodeShow=!1,e.codeForm.measure=1}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.codeLoading,expression:"codeLoading"}]},[a("el-form",{staticStyle:{"padding-right":"20px"},attrs:{model:e.codeForm,"label-width":"120px","label-position":"right",size:"small"}},[a("el-form-item",{staticClass:"is-required",attrs:{label:"导出方式："}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"small",filterable:""},model:{value:e.codeForm.measure,callback:function(t){e.$set(e.codeForm,"measure",t)},expression:"codeForm.measure"}},e._l(e.measureList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("div",{staticStyle:{"text-align":"right","padding-top":"10px"}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.isCodeShow=!1,e.codeForm.measure=1}}},[e._v("\n          取 消\n        ")]),a("el-button",{attrs:{type:"primary",size:"small",disabled:e.codeLoading},on:{click:e.onCodeLoad}},[e._v("\n          确 定\n        ")])],1)],1)])],1)},Z=[],K=a("7c39"),X=a.n(K),ee=a("62c5"),te=a.n(ee),ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],staticClass:"add-edit-truck"},[a("el-form",{ref:"theForm",staticStyle:{"padding-right":"20px"},attrs:{model:e.selectForm,rules:e.formRules,"label-width":"120px","label-position":"right",size:"small"}},[a("el-form-item",{attrs:{label:"库位编号",prop:"code"}},[a("el-input",{attrs:{type:"text",maxlength:50,placeholder:"请输入"},model:{value:e.selectForm.code,callback:function(t){e.$set(e.selectForm,"code",t)},expression:"selectForm.code"}})],1),"1"===e.type?a("el-form-item",{attrs:{label:"库区类型",prop:"binType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.isEdit,placeholder:"请选择",clearable:"",filterable:""},model:{value:e.selectForm.binType,callback:function(t){e.$set(e.selectForm,"binType",t)},expression:"selectForm.binType"}},e._l(e.binTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1)],1):e._e(),a("el-form-item",{attrs:{label:"限制货物类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:"",filterable:""},model:{value:e.selectForm.limitType,callback:function(t){e.$set(e.selectForm,"limitType",t)},expression:"selectForm.limitType"}},[a("el-option",{attrs:{label:"带电",value:1}}),a("el-option",{attrs:{label:"带磁",value:2}}),a("el-option",{attrs:{label:"液体",value:3}})],1)],1),"5"!==e.type?a("el-form-item",{attrs:{label:"服务类型"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"已选择("+e.selectForm.services.length+")",disabled:""},model:{value:e.ss,callback:function(t){e.ss=t},expression:"ss"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleService},slot:"append"})],1)],1):e._e(),"0"===e.custId?a("el-form-item",{attrs:{label:"分配客户"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:"",filterable:""},model:{value:e.selectForm.custId,callback:function(t){e.$set(e.selectForm,"custId",t)},expression:"selectForm.custId"}},e._l(e.customerList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1)],1):e._e(),"3"===e.type?a("el-form-item",{attrs:{label:"货架位置",prop:"position"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:"",filterable:""},model:{value:e.selectForm.position,callback:function(t){e.$set(e.selectForm,"position",t)},expression:"selectForm.position"}},[a("el-option",{attrs:{label:"巷道左边",value:1}}),a("el-option",{attrs:{label:"巷道右边",value:2}})],1)],1):e._e(),"5"===e.type?a("el-form-item",{attrs:{label:"商品规则"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:"",filterable:""},model:{value:e.selectForm.rule,callback:function(t){e.$set(e.selectForm,"rule",t)},expression:"selectForm.rule"}},[a("el-option",{attrs:{label:"一位一品",value:"1"}}),a("el-option",{attrs:{label:"一位多品",value:"2"}})],1)],1):e._e()],1),a("div",{staticStyle:{"text-align":"right","padding-top":"10px"}},[a("el-button",{attrs:{size:"small"},on:{click:e.cancel}},[e._v("\n        取 消\n      ")]),a("el-button",{attrs:{type:"primary",size:"small",loading:e.formLoading},on:{click:e.saveConfirm}},[e._v("\n        确 定\n      ")])],1)],1),a("el-dialog",{attrs:{title:"服务类型",visible:e.isServiceShow,"close-on-click-modal":!1,"append-to-body":"",width:"960px"},on:{"update:visible":function(t){e.isServiceShow=t},close:e.itemClose}},[a("el-transfer",{directives:[{name:"loading",rawName:"v-loading",value:e.isServiceLoading,expression:"isServiceLoading"}],ref:"transferItem",staticStyle:{height:"500px"},attrs:{filterable:"","filter-method":e.filterMethod,titles:["服务类型","已选择"],props:{key:"id",label:"name"},"filter-placeholder":"输入搜索",data:e.serviceList},model:{value:e.services,callback:function(t){e.services=t},expression:"services"}}),a("div",{staticStyle:{"text-align":"right",margin:"20px 40px 0"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.itemClose}},[e._v("\n        取 消\n      ")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.itemClose}},[e._v("\n        确 定\n      ")])],1)],1)],1)},ne=[];a("5df3");function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(a,!0).forEach(function(t){Object(r["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function se(){return{limitType:void 0,code:void 0,binType:void 0,services:[],custId:void 0,custName:void 0,level:void 0,parentId:void 0,type:void 0,warehouseId:void 0,rule:void 0,position:void 0}}var oe=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formLoading=!1,e.isServiceShow=!1,e.isCustomerShow=!1,e.isServiceLoading=!1,e.isCustomerLoading=!1,e.selectForm=se(),e.customerList=[],e.serviceList=[],e.services=[],e.ss="",e.cc="",e.binTypeList=[{name:"计量区",id:1},{name:"问题件区",id:2},{name:"验货区",id:3},{name:"待出库区",id:4},{name:"补货区",id:5},{name:"存储区",id:20}],e.formRules={code:[{required:!0,message:"库位编号不能为空",trigger:"change"}],binType:[{required:!0,message:"请选择库区类型",trigger:"change"}],position:[{required:!0,message:"请选择货架位置",trigger:"change"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"handleService",value:function(){this.isServiceShow=!0,this.services=JSON.parse(JSON.stringify(this.selectForm.services)),this.getServiceList()}},{key:"handleCustomer",value:function(){this.isCustomerShow=!0,this.getAgentList()}},{key:"filterMethod",value:function(e,t){var a=t.name||"";return a.indexOf(e)>-1}},{key:"filterMethodOne",value:function(e,t){var a=t.name||"";return a.indexOf(e)>-1}},{key:"itemClose",value:function(){var e=this;this.isServiceShow=!1,this.selectForm.services=this.services,this.$nextTick(function(){var t=e.$refs.transferItem;t.clearQuery("left"),t.clearQuery("right")})}},{key:"itemCloseOne",value:function(){var e=this;this.isCustomerShow=!1,this.$nextTick(function(){var t=e.$refs.transferItem1;t.clearQuery("left"),t.clearQuery("right")})}},{key:"getServiceList",value:function(){var e=this;this.isServiceLoading=!0;var t={page:1,size:99999,status:"1"};Promise.all([Object(b["sb"])(t).then(function(e){return(e.data||{}).result||[]})]).then(function(t){var a=t.reduce(function(e,t){return e.concat(t)},[]);e.serviceList=a.map(function(e){return{name:e.name,id:e.id}}),e.isServiceLoading=!1}).catch(function(t){return e.isServiceLoading=!1,[t,null]})}},{key:"clearValidate",value:function(){var e=this.$refs.theForm;this.$nextTick(function(){e.clearValidate()})}},{key:"resetForm",value:function(){this.selectForm=se(),this.services=[],this.clearValidate()}},{key:"cancel",value:function(){this.$emit("cancel"),this.resetForm()}},{key:"saveConfirm",value:function(){var e=this,t=this.$refs.theForm;t.validate(function(t){if(!t)return!1;e.formLoading=!0;var a=re({},e.selectForm);a.binServers=e.selectForm.services.map(function(t){var a=e.serviceList.find(function(e){return e.id===t})||{};return{serviceCode:a.id,serviceName:a.name}}),a.binServers=a.binServers.filter(function(e){return e.serviceCode&&e.serviceName}),e.customerList.map(function(t){t.id===e.selectForm.custId&&(a.custName=t.name)}),Object(b["Mb"])(a).then(function(t){if(200!==t.code)return e.$message.error(t.msg),void(e.formLoading=!1);e.$message({type:"success",message:"保存成功"}),e.resetForm(),e.$emit("cancel"),e.formLoading=!1,e.$emit("getTableList")}).catch(function(t){return e.formLoading=!1,t})})}},{key:"getAgentList",value:function(){var e=this;this.isCustomerLoading=!0,Object(b["z"])({page:1,size:9999,subtype:"1",parentId:this.custId}).then(function(t){var a=t.data||{};e.customerList=a.result||[],e.isCustomerLoading=!1}).catch(function(t){return e.isCustomerLoading=!1,[t,null]})}},{key:"init",value:function(e){this.selectForm=re({},e),this.selectForm.services=(e.binServers||[]).map(function(e){return e.serviceCode}),this.getAgentList(),this.getServiceList()}},{key:"custId",get:function(){var e=f["a"].info||{},t=e.custId;return t}}]),t}(h["e"]);oe=p["a"]([Object(h["a"])({name:"LocationForm",components:{},props:{isEdit:{type:Boolean,default:!1},type:{type:String,default:""}}})],oe);var le=oe,ce=le,ue=(a("93ea"),Object(F["a"])(ce,ae,ne,!1,null,"336b7352",null)),de=ue.exports,me=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.loading=!1,e.title="",e.isShowUpdate=!1,e.isEdit=!1,e.floorType="",e.tableData=[],e.binTypeList=[{name:"计量区",id:1},{name:"问题件区",id:2},{name:"验货区",id:3},{name:"待出库区",id:4},{name:"补货区",id:5},{name:"存储区",id:20}],e.isCodeShow=!1,e.codeLoading=!1,e.codeForm={measure:1},e.measureList=[{name:"下载库位条码压缩包",id:1},{name:"导出库位条码PDF",id:2}],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"handleAddLevel",value:function(){var e=this;this.isEdit=!1;var t={};this.title="新增库区",this.floorType="1",t={level:1,type:"1",parentId:0,warehouseId:this.wsId},this.isShowUpdate=!0,this.$nextTick(function(){var a=e.$refs.locationForm;a.init(t)})}},{key:"handleAdd",value:function(e){var t=this;this.isEdit=!1;var a=e.type?e.type-0+1+"":"";this.title="新增"+this.filterType(a),this.floorType=a;var n=e.id,i=e.warehouseId,r=(e.code,e.level),s=e.limitType,o=e.binServers,l={parentId:n,warehouseId:i,level:r+1,type:a,limitType:s,binServers:o};this.isShowUpdate=!0,this.$nextTick(function(){var e=t.$refs.locationForm;e.init(l)})}},{key:"handleEdit",value:function(e){var t=this;this.isEdit=!0,this.title="编辑"+this.filterType(e.type),this.floorType=e.type;var a=e.id,n=e.parentId,i=e.warehouseId,r=e.cid,s=e.code,o=e.level,l=e.type,c=e.limitType,u=e.binType,d=e.custId,m=e.rule,p=e.binServers,h=e.position,f={id:a,parentId:n,cid:r,warehouseId:i,code:s,level:o,type:l,limitType:c,binType:u,custId:d,rule:m,binServers:p,position:h};this.isShowUpdate=!0,this.$nextTick(function(){var e=t.$refs.locationForm;e.init(f)})}},{key:"cancel",value:function(){this.isShowUpdate=!1}},{key:"handleDelete",value:function(e){var t=this;this.$confirm("此操作将删除当前库位及所有子库位, 是否继续?",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){var a={id:e};Object(b["l"])(a).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.getTableList()}).catch(function(e){return[e,null]})}).catch(function(e){return[e,null]})}},{key:"handleload",value:function(){this.tableData.length<=0?this.$message.error("暂无库位数据，无法导出"):this.isCodeShow=!0}},{key:"onCodeLoad",value:function(){var e=this;this.$message.info("库位文件生成中，请稍后..."),this.codeLoading=!0,this.$nextTick(function(){setTimeout(function(){for(var t=e.flatDeep(e.tableData),a=window.pdfMake,n=425,i=284,r=e.wsNm,s=[],o=0;o<t.length;o++){var l=document.createElement("div"),c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.innerHTML='<g>\n            <line\n              x1="2"\n              y1="60"\n              x2="423"\n              y2="60"\n              stroke="#000"\n              stroke-width="1"\n            />\n            <rect\n              x="2"\n              y="2"\n              width="421"\n              height="280"\n              stroke="#000"\n              stroke-width="1"\n              fill="rgb(0, 0, 0)"\n              fill-opacity="0"\n            />\n            <text\n              x="212"\n              y="25"\n              text-anchor="middle"\n              dominant-baseline="middle"\n            >\n              '.concat(r,'\n            </text>\n            <text\n              x="212"\n              y="45"\n              text-anchor="middle"\n              dominant-baseline="middle"\n            >\n              ').concat(t[o].name,"\n            </text>\n          </g>");var u=document.createElementNS("http://www.w3.org/2000/svg","svg"),d=t[o].id;te()(u,d,{width:2.5,height:150,margin:1}),u.setAttribute("x",(n-u.width.animVal.value)/2),u.setAttribute("y",(i-u.height.animVal.value)/2+40),c.appendChild(u),l.appendChild(c);var m=[{svg:l.innerHTML,width:n,height:i,x:0,y:0,margin:0}];0!==o&&o!==t.length-1&&(m[m.length-1].pageBreak="after"),s=s.concat(m)}var p=a.createPdf({pageSize:{width:n,height:i},pageMargins:{top:0,left:0,bottom:0,right:0},content:s,defaultStyle:{font:"SourceHanSansCN"}});if(1===e.codeForm.measure){var h=new X.a;p.getBlob(function(t){t?(h.file("库位.pdf",t),h.generateAsync({type:"blob"}).then(function(t){e.codeLoading=!1;var a=window.URL,n=a.createObjectURL(t),i=document.createElement("a");document.body.appendChild(i),i.href=n,i.download="库位条形码.zip",i.click(),a.revokeObjectURL(n),document.body.removeChild(i)}).catch(function(t){return e.codeLoading=!1,e.$message.error("文件导出失败，请稍后再试..."),t})):(e.codeLoading=!1,e.$message.error("文件导出失败，请稍后再试..."))})}else e.codeLoading=!1,p.open();e.isCodeShow=!1},500)})}},{key:"flatDeep",value:function(e){var t=[],a=function e(a){a.forEach(function(a){t.push({id:a.cid,name:a.code}),a.children&&Array.isArray(a.children)&&a.children.length&&e(a.children)})};return a(e),t}},{key:"filterAdd",value:function(e){var t=e?e-0+1+"":"";return this.filterType(t)}},{key:"filterType",value:function(e){var t;switch(e){case"1":t="库区";break;case"2":t="巷道";break;case"3":t="货架";break;case"4":t="层";break;case"5":t="格子";break;default:break}return t}},{key:"filterBin",value:function(e){return(this.binTypeList.find(function(t){return t.id===e})||{}).name}},{key:"formatLimit",value:function(e){var t,a=e.limitType;switch(a){case 1:t="带电";break;case 2:t="带磁";break;case 3:t="液体";break;default:break}return t}},{key:"formatRule",value:function(e){var t,a=e.rule;switch(a){case"1":t="一位一品";break;case"2":t="一位多品";break;default:break}return t}},{key:"formatService",value:function(e){return(e.binServers||[]).map(function(e){return e.serviceName}).join(",")}},{key:"getTableList",value:function(){var e=this;this.loading=!0;var t={warehouseId:this.wsId,id:"0"};Object(b["kb"])(t).then(function(t){var a=t.data;e.tableData=a||[],e.loading=!1}).catch(function(t){return e.loading=!1,[t,null]})}},{key:"created",value:function(){this.getTableList()}}]),t}(h["e"]);me=p["a"]([Object(h["a"])({name:"LocationManagement",components:{locationForm:de},props:{wsId:{type:String,default:""},wsNm:{type:String,default:""}}})],me);var pe=me,he=pe,fe=Object(F["a"])(he,Q,Z,!1,null,"c3ade8e4",null),ve=fe.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseOperatingCenterAdd"],expression:"['warehouseOperatingCenterAdd']"}],attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAdd}},[e._v("\n    新增操作中心\n  ")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.tableData,border:"",height:"calc(100vh - 340px)"}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{prop:"sorted",label:"排序"}}),a("el-table-column",{attrs:{prop:"jobName",label:"岗位"}}),a("el-table-column",{attrs:{formatter:e.formatUm,label:"效率数值"}}),a("el-table-column",{attrs:{formatter:e.formatPer,label:"效率单位"}}),a("el-table-column",{attrs:{label:"是否参与排程",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.schedule?"是":"否")+"\n      ")]}}])}),a("el-table-column",{attrs:{prop:"updateTime",label:"最后更新时间",width:"180"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseOperatingCenterEdit"],expression:"['warehouseOperatingCenterEdit']"}],attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("\n          编辑\n        ")]),e._v("\n         \n        "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseOperatingCenterDel"],expression:"['warehouseOperatingCenterDel']"}],attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDelete(t.row.wcId)}}},[e._v("\n          删除\n        ")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.pageNumber,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("opeartingForm",{ref:"opeartingForm",attrs:{"is-edit":e.isEdit,"ws-id":e.wsId},on:{getTableList:e.getTableList}})],1)},be=[],ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.isEdit?"编辑操作中心":"新增操作中心",visible:e.isShowUpdate,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.isShowUpdate=t},closed:e.cancel}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],staticClass:"add-edit-truck"},[a("el-form",{ref:"theForm",staticStyle:{"padding-right":"20px"},attrs:{model:e.selectForm,rules:e.formRules,"label-width":"120px","label-position":"right",size:"small"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{type:"text",maxlength:50,placeholder:"请输入"},model:{value:e.selectForm.name,callback:function(t){e.$set(e.selectForm,"name",t)},expression:"selectForm.name"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"sorted"}},[a("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入",min:1,max:99999,step:1,"step-strictly":""},model:{value:e.selectForm.sorted,callback:function(t){e.$set(e.selectForm,"sorted",t)},expression:"selectForm.sorted"}})],1),a("el-form-item",{attrs:{label:"岗位",prop:"job"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:"",multiple:"",filterable:""},on:{change:e.onJob},model:{value:e.selectForm.job,callback:function(t){e.$set(e.selectForm,"job",t)},expression:"selectForm.job"}},e._l(e.jobList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"工序",prop:"taskType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"",clearable:""},on:{change:e.onTask},model:{value:e.selectForm.taskType,callback:function(t){e.$set(e.selectForm,"taskType",t)},expression:"selectForm.taskType"}},[a("el-option",{attrs:{label:"卸货",value:1}}),a("el-option",{attrs:{label:"装载",value:2}}),a("el-option",{attrs:{label:"上架",value:3}}),a("el-option",{attrs:{label:"分拣",value:4}})],1)],1),a("el-form-item",{attrs:{label:"效率数值",prop:"efficiency"}},[a("el-input",{attrs:{maxlength:100,placeholder:"请输入"},model:{value:e.selectForm.efficiency,callback:function(t){e.$set(e.selectForm,"efficiency",t)},expression:"selectForm.efficiency"}},[a("el-select",{staticStyle:{width:"70px"},attrs:{slot:"append"},slot:"append",model:{value:e.selectForm.um,callback:function(t){e.$set(e.selectForm,"um",t)},expression:"selectForm.um"}},e._l(e.umList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("el-form-item",{attrs:{label:"效率单位",prop:"per"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:e.selectForm.per,callback:function(t){e.$set(e.selectForm,"per",t)},expression:"selectForm.per"}},[a("el-option",{attrs:{label:"小时",value:"2"}}),a("el-option",{attrs:{label:"分钟",value:"3"}})],1)],1),a("el-form-item",{attrs:{label:"是否参与排程",prop:"schedule"}},[a("el-radio-group",{model:{value:e.selectForm.schedule,callback:function(t){e.$set(e.selectForm,"schedule",t)},expression:"selectForm.schedule"}},[a("el-radio",{attrs:{label:!0}},[e._v("\n              是\n            ")]),a("el-radio",{attrs:{label:!1}},[e._v("\n              否\n            ")])],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("\n        取 消\n      ")]),a("el-button",{attrs:{type:"primary",loading:e.formLoading},on:{click:e.saveConfirm}},[e._v("\n        确 定\n      ")])],1)])],1)},we=[];function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(a,!0).forEach(function(t){Object(r["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function xe(){return{name:void 0,sorted:void 0,efficiency:void 0,taskType:void 0,job:[],um:"1",warehouseId:void 0,per:void 0,schedule:!0,jobIds:void 0,jobName:void 0,wcPosts:[]}}function Le(e,t,a){var n=/^[1-9]+[0-9]*$/;n.test(t)?a():a(new Error("效率数值为正整数"))}var Se=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.isShowUpdate=!1,e.formLoading=!1,e.selectForm=xe(),e.formRules={name:[{required:!0,message:"名称不能为空",trigger:"blur"}],job:[{required:!0,message:"请选择岗位",trigger:"change"}],sorted:[{required:!0,message:"排序不能为空",trigger:"blur"}],efficiency:[{required:!0,message:"效率数值不能为空",trigger:"blur"},{validator:Le,trigger:"blur"}],taskType:[{required:!0,message:"请选择工序",trigger:"change"}],per:[{required:!0,message:"请选择效率单位",trigger:"change"}],schedule:[{required:!0,message:"请选择是否参与排程",trigger:"change"}]},e.jobList=[],e.umList=[{name:"kg",id:"1"},{name:"m³",id:"2"},{name:"件",id:"3"},{name:"箱",id:"4"}],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"clearValidate",value:function(){var e=this.$refs.theForm;this.$nextTick(function(){e.clearValidate()})}},{key:"resetForm",value:function(){this.selectForm=xe(),this.clearValidate()}},{key:"cancel",value:function(){this.isShowUpdate=!1,this.resetForm()}},{key:"onTask",value:function(e){switch(e){case 1:this.selectForm.um="2",this.umList=[{name:"m³",id:"2"}];break;case 2:this.selectForm.um="2",this.umList=[{name:"m³",id:"2"}];break;case 3:this.selectForm.um="3",this.umList=[{name:"件",id:"3"},{name:"箱",id:"4"}];break;case 4:this.selectForm.um="3",this.umList=[{name:"件",id:"3"},{name:"箱",id:"4"}];break;default:this.selectForm.um=this.selectForm.um?this.selectForm.um:"1",this.umList=[{name:"kg",id:"1"},{name:"m³",id:"2"},{name:"件",id:"3"},{name:"箱",id:"4"}];break}}},{key:"onJob",value:function(e){var t=this,a="",n=e.map(function(e){var n=t.jobList.find(function(t){return t.id===e})||{},i=n.id,r=n.name;return a+=(n.name||"")+",",{postId:i,postName:r}});this.selectForm.jobIds=e.join(","),this.selectForm.jobName=a,this.selectForm.wcPosts=n.filter(function(e){return e.postId&&e.postName})}},{key:"saveConfirm",value:function(){var e=this,t=this.$refs.theForm;t.validate(function(t){if(!t)return!1;e.formLoading=!0;var a=Oe({},e.selectForm);a.wcId&&a.wcPosts.map(function(e){e.wcId=a.wcId}),Object(b["Yb"])(a).then(function(t){e.$message({type:"success",message:"保存成功"}),e.resetForm(),e.formLoading=!1,e.isShowUpdate=!1,e.$emit("getTableList")}).catch(function(t){return e.formLoading=!1,t})})}},{key:"getWareHouseEdit",value:function(){var e=this;this.formLoading=!0,Object(b["ob"])({id:this.selectForm.wcId}).then(function(t){var a=t.data||{};e.selectForm=Oe({},a);var n=[];a.wcPosts.map(function(e){n.push(e.postId)}),e.$set(e.selectForm,"job",n),e.onTask(e.selectForm.taskType),e.formLoading=!1}).catch(function(t){return e.formLoading=!1,[t,null]})}},{key:"getPostList",value:function(){var e=this;Object(b["hb"])({page:1,size:9999,type:3}).then(function(t){var a=t.data||{},n=a.result||[];e.jobList=n}).catch(function(e){return[e,null]})}},{key:"init",value:function(e){this.isShowUpdate=!0,this.getPostList(),this.selectForm.warehouseId=this.wsId;var t=this.isEdit;t&&(this.selectForm.wcId=e.wcId,this.getWareHouseEdit())}}]),t}(h["e"]);Se=p["a"]([Object(h["a"])({name:"OpeartingForm",components:{},props:{isEdit:{type:Boolean,default:!1},wsId:{type:String,default:""}}})],Se);var je=Se,Ie=je,Fe=(a("6c2f"),Object(F["a"])(Ie,ye,we,!1,null,"be825ce6",null)),Te=Fe.exports,_e=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.loading=!1,e.isEdit=!1,e.tableData=[],e.pageNumber=1,e.pageSize=10,e.totalCount=0,e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"handleAdd",value:function(){this.isEdit=!1;var e=this.$refs.opeartingForm;this.$nextTick(function(){e.init()})}},{key:"handleEdit",value:function(e){this.isEdit=!0;var t=this.$refs.opeartingForm;this.$nextTick(function(){t.init(e)})}},{key:"handleDelete",value:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){var a={id:e,warehouseId:t.wsId};Object(b["t"])(a).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.getTableList()}).catch(function(e){return[e,null]})}).catch(function(e){return[e,null]})}},{key:"formatUm",value:function(e){var t;switch(e.um){case"1":t=" kg";break;case"2":t=" m³";break;case"3":t=" 件";break;case"4":t=" 箱";break;default:t="";break}return e.efficiency+t}},{key:"formatPer",value:function(e){var t;switch(e.per){case"1":t="天";break;case"2":t="小时";break;case"3":t="分钟";break;default:break}return t}},{key:"getTableList",value:function(){var e=this,t={model:this.wsId,page:this.pageNumber,size:this.pageSize};this.loading=!0,Object(b["Ib"])(t).then(function(t){e.loading=!1;var a=t.data;e.totalCount=a.total,e.tableData=a.result||[]}).catch(function(){e.loading=!1})}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.getTableList()}},{key:"handleCurrentChange",value:function(e){this.pageNumber=e,this.getTableList()}},{key:"created",value:function(){this.getTableList()}}]),t}(h["e"]);_e=p["a"]([Object(h["a"])({name:"OperatingCenter",components:{opeartingForm:Te},props:{wsId:{type:String,default:""}}})],_e);var Ce=_e,$e=Ce,De=Object(F["a"])($e,ge,be,!1,null,"6d81e1e0",null),Ne=De.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseDischargingHatchAdd"],expression:"['warehouseDischargingHatchAdd']"}],attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAdd}},[e._v("\n    新增分拣口\n  ")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.tableData,border:"",height:"calc(100vh - 310px)"}},[a("el-table-column",{attrs:{prop:"discharge",label:"分拣口名称"}}),a("el-table-column",{attrs:{prop:"code",label:"分拣口编码"}}),a("el-table-column",{attrs:{prop:"remarks",label:"备注信息"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseDischargingHatchEdit"],expression:"['warehouseDischargingHatchEdit']"}],attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("\n          编辑\n        ")]),e._v("\n         \n        "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseDischargingHatchDel"],expression:"['warehouseDischargingHatchDel']"}],attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("\n          删除\n        ")])]}}])})],1),a("dischargeForm",{ref:"dischargeForm",attrs:{"is-edit":e.isEdit,"ws-id":e.wsId},on:{getTableList:e.getTableList}})],1)},ze=[],Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.isEdit?"编辑分拣口":"新增分拣口",visible:e.isShowUpdate,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.isShowUpdate=t},closed:e.cancel}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],staticClass:"add-edit-truck"},[a("el-form",{ref:"theForm",staticStyle:{"padding-right":"20px"},attrs:{model:e.selectForm,rules:e.formRules,"label-width":"120px","label-position":"right",size:"small"}},[a("el-form-item",{attrs:{label:"分拣口名称",prop:"discharge"}},[a("el-input",{attrs:{type:"text",maxlength:20,placeholder:"请输入"},model:{value:e.selectForm.discharge,callback:function(t){e.$set(e.selectForm,"discharge",t)},expression:"selectForm.discharge"}})],1),a("el-form-item",{attrs:{label:"分拣口编码",prop:"code"}},[a("el-input-number",{staticClass:"input-number-valiate",attrs:{controls:!1,placeholder:"请输入","step-strictly":"",step:1,min:1,max:8},model:{value:e.selectForm.code,callback:function(t){e.$set(e.selectForm,"code",t)},expression:"selectForm.code"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{maxlength:50,type:"text",placeholder:"请输入"},model:{value:e.selectForm.remarks,callback:function(t){e.$set(e.selectForm,"remarks",t)},expression:"selectForm.remarks"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("\n        取 消\n      ")]),a("el-button",{attrs:{type:"primary",loading:e.formLoading},on:{click:e.saveConfirm}},[e._v("\n        确 定\n      ")])],1)])],1)},Ve=[];function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(a,!0).forEach(function(t){Object(r["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function We(){return{discharge:void 0,code:void 0,remarks:void 0,warehouseId:void 0}}var qe=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.isShowUpdate=!1,e.formLoading=!1,e.selectForm=We(),e.formRules={discharge:[{required:!0,message:"请输入分拣口名称",trigger:"blur"}],code:[{required:!0,message:"请输入分拣口编码",trigger:"blur"},{validator:function(e,t,a){var n=/^[0-9a-zA-Z]+$/;t||a(),n.test(t)?a():a(new Error("分拣口编码不正确"))},trigger:"blur"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"clearValidate",value:function(){var e=this.$refs.theForm;this.$nextTick(function(){e.clearValidate()})}},{key:"resetForm",value:function(){this.selectForm=We(),this.clearValidate()}},{key:"cancel",value:function(){this.isShowUpdate=!1,this.resetForm()}},{key:"saveConfirm",value:function(){var e=this,t=this.$refs.theForm;t.validate(function(t){if(!t)return!1;e.formLoading=!0;var a=Ae({},e.selectForm);Object(b["Ob"])(a).then(function(t){e.$message({type:"success",message:"保存成功"}),e.resetForm(),e.formLoading=!1,e.isShowUpdate=!1,e.$emit("getTableList")}).catch(function(t){return e.formLoading=!1,t})})}},{key:"init",value:function(e){this.isShowUpdate=!0,this.selectForm.warehouseId=this.wsId;var t=this.isEdit;t&&(this.selectForm.id=e.id,this.selectForm.discharge=e.discharge,this.selectForm.code=e.code,this.selectForm.remarks=e.remarks)}}]),t}(h["e"]);qe=p["a"]([Object(h["a"])({name:"DischargeForm",components:{},props:{isEdit:{type:Boolean,default:!1},wsId:{type:String,default:""}}})],qe);var Ue=qe,Re=Ue,He=(a("30bb"),Object(F["a"])(Re,Pe,Ve,!1,null,"e063bf92",null)),Ye=He.exports,Be=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.loading=!1,e.isEdit=!1,e.tableData=[],e.pageNumber=1,e.pageSize=10,e.totalCount=0,e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"handleAdd",value:function(){this.isEdit=!1;var e=this.$refs.dischargeForm;this.$nextTick(function(){e.init()})}},{key:"handleEdit",value:function(e){this.isEdit=!0;var t=this.$refs.dischargeForm;this.$nextTick(function(){t.init(e)})}},{key:"handleDelete",value:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){var a={id:e,warehouseId:t.wsId};Object(b["m"])(a).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.getTableList()}).catch(function(e){return[e,null]})}).catch(function(e){return[e,null]})}},{key:"getTableList",value:function(){var e=this,t={warehouseId:this.wsId};this.loading=!0,Object(b["M"])(t).then(function(t){e.loading=!1;var a=t.data;e.tableData=a||[]}).catch(function(){e.loading=!1})}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.getTableList()}},{key:"handleCurrentChange",value:function(e){this.pageNumber=e,this.getTableList()}},{key:"created",value:function(){this.getTableList()}}]),t}(h["e"]);Be=p["a"]([Object(h["a"])({name:"DischargingHatch",components:{dischargeForm:Ye},props:{wsId:{type:String,default:""}}})],Be);var Je=Be,Ge=Je,Qe=Object(F["a"])(Ge,Ee,ze,!1,null,"18bd14c0",null),Ze=Qe.exports,Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAdd}},[e._v("\n    新增轮岗配置\n  ")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.tableData,border:"",height:"calc(100vh - 315px)"}},[a("el-table-column",{attrs:{label:"序号",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.$index+1)+"\n      ")]}}])}),a("el-table-column",{attrs:{prop:"nums",label:"轮换时间"}}),a("el-table-column",{attrs:{prop:"unit",label:"轮换周期"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.unit?a("span",[e._v("周")]):2===t.row.unit?a("span",[e._v("月")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"oldWcName",label:"原操作中心"}}),a("el-table-column",{attrs:{prop:"oldJobName",label:"原岗位"}}),a("el-table-column",{attrs:{prop:"newWcName",label:"新操作中心"}}),a("el-table-column",{attrs:{prop:"newJobName",label:"新岗位"}}),a("el-table-column",{attrs:{prop:"startTime",label:"执行日期",width:"180"}}),a("el-table-column",{attrs:{prop:"endTime",label:"截止日期",width:"180"}}),a("el-table-column",{attrs:{prop:"notes",label:"备注"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("\n          编辑\n        ")]),e._v("\n         \n        "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("\n          删除\n        ")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.pageNumber,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:e.isEdit?"编辑轮岗配置":"新增轮岗配置",visible:e.isShowUpdate,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.isShowUpdate=t}}},[a("postShiftForm",{ref:"editForm",attrs:{"is-edit":e.isEdit,"ws-id":e.wsId},on:{cancel:e.handleClose,getTableList:e.getTableList}})],1)],1)},Xe=[],et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],staticClass:"add-edit-truck"},[a("el-form",{ref:"theForm",staticStyle:{"padding-right":"20px"},attrs:{model:e.selectForm,rules:e.formRules,"label-width":"120px","label-position":"right",size:"small"}},[a("el-form-item",{attrs:{label:"轮岗模板"}},[e._l(e.tagList,function(t,n){return a("el-tag",{key:n,attrs:{closable:""},on:{click:e.handleTag,close:e.deleteTag}},[e._v("\n          "+e._s(t.name)+"\n        ")])}),a("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAddTemplate}},[e._v("\n          新增轮岗配置模板\n        ")])],2),a("el-form-item",{attrs:{label:"轮换周期",prop:"nums"}},[a("el-input",{attrs:{maxlength:10,placeholder:"请输入"},model:{value:e.selectForm.nums,callback:function(t){e.$set(e.selectForm,"nums",t)},expression:"selectForm.nums"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{slot:"append"},slot:"append",model:{value:e.selectForm.unit,callback:function(t){e.$set(e.selectForm,"unit",t)},expression:"selectForm.unit"}},[a("el-option",{attrs:{label:"周(7天)",value:1}}),a("el-option",{attrs:{label:"月(30天)",value:2}})],1)],1)],1),a("el-form-item",{attrs:{label:"原操作中心",prop:"oldWcId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.selectForm.oldWcId,callback:function(t){e.$set(e.selectForm,"oldWcId",t)},expression:"selectForm.oldWcId"}},e._l(e.dischargeList,function(e){return a("el-option",{key:e.wcId,attrs:{label:e.name,value:e.wcId}})}),1)],1),a("el-form-item",{attrs:{label:"原岗位",prop:"oldJobId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.selectForm.oldJobId,callback:function(t){e.$set(e.selectForm,"oldJobId",t)},expression:"selectForm.oldJobId"}},e._l(e.postList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"新操作中心",prop:"newWcId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.selectForm.newWcId,callback:function(t){e.$set(e.selectForm,"newWcId",t)},expression:"selectForm.newWcId"}},e._l(e.dischargeList,function(e){return a("el-option",{key:e.wcId,attrs:{label:e.name,value:e.wcId}})}),1)],1),a("el-form-item",{attrs:{label:"新岗位",prop:"newJobId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.selectForm.newJobId,callback:function(t){e.$set(e.selectForm,"newJobId",t)},expression:"selectForm.newJobId"}},e._l(e.postList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"执行日期",prop:"startTime"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"年/月/日","picker-options":e.pickerOptions},model:{value:e.selectForm.startTime,callback:function(t){e.$set(e.selectForm,"startTime",t)},expression:"selectForm.startTime"}})],1),a("el-form-item",{attrs:{label:"截止日期",prop:"endTime"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"年/月/日","picker-options":e.pickerOptions},model:{value:e.selectForm.endTime,callback:function(t){e.$set(e.selectForm,"endTime",t)},expression:"selectForm.endTime"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"notes"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",maxlength:20,placeholder:"请输入"},model:{value:e.selectForm.notes,callback:function(t){e.$set(e.selectForm,"notes",t)},expression:"selectForm.notes"}})],1)],1)],1),a("div",{staticStyle:{"text-align":"center","padding-top":"20px"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("\n      取 消\n    ")]),a("el-button",{attrs:{type:"primary",loading:e.formLoading},on:{click:e.saveConfirm}},[e._v("\n      确 定\n    ")])],1)])},tt=[];function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?at(a,!0).forEach(function(t){Object(r["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function it(){return{nums:void 0,unit:1,newJobId:void 0,newJobName:void 0,oldJobId:void 0,oldJobName:void 0,oldWcId:void 0,oldWcName:void 0,newWcId:void 0,newWcName:void 0,startTime:void 0,endTime:void 0,notes:void 0,warehouseId:void 0}}function rt(e,t,a){var n=/^[1-9]+[0-9]*$/;n.test(t)?a():a(new Error("轮换周期为正整数"))}var st=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formLoading=!1,e.selectForm=it(),e.formRules={nums:[{required:!0,message:"轮换周期不能为空",trigger:"change"},{validator:rt,trigger:"blur"}],newWcId:[{required:!0,message:"请选择新操作中心",trigger:"change"}],newJobId:[{required:!0,message:"请选择新岗位",trigger:"change"}],oldWcId:[{required:!0,message:"请选择原操作中心",trigger:"change"}],oldJobId:[{required:!0,message:"请选择原岗位",trigger:"change"}],startTime:[{required:!0,message:"请选择执行日期",trigger:"change"}],endTime:[{required:!0,message:"请选择截止日期",trigger:"change"}]},e.postList=[],e.dischargeList=[],e.tagList=[],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"clearValidate",value:function(){var e=this.$refs.theForm;this.$nextTick(function(){e.clearValidate()})}},{key:"resetForm",value:function(){this.selectForm=it(),this.clearValidate()}},{key:"cancel",value:function(){this.resetForm(),this.$emit("cancel")}},{key:"handleAddTemplate",value:function(){return[]}},{key:"handleTag",value:function(){return[]}},{key:"deleteTag",value:function(){return[]}},{key:"saveConfirm",value:function(){var e=this,t=this.$refs.theForm;t.validate(function(t){if(!t)return!1;e.formLoading=!0;var a=nt({},e.selectForm);e.postList.map(function(e){e.id===a.newJobId&&(a.newJobName=e.name),e.id===a.oldJobId&&(a.oldJobName=e.name)}),e.dischargeList.map(function(e){e.wcId===a.oldWcId&&(a.oldWcName=e.name),e.wcId===a.newWcId&&(a.newWcName=e.name)}),Object(b["Sb"])(a).then(function(t){e.$message({type:"success",message:"保存成功"}),e.resetForm(),e.formLoading=!1,e.$emit("cancel"),e.$emit("getTableList")}).catch(function(t){return e.formLoading=!1,t})})}},{key:"getWareHouseEdit",value:function(){var e=this;this.formLoading=!0,Object(b["pb"])({id:this.selectForm.id}).then(function(t){var a=t.data||{};e.selectForm=nt({},a),e.formLoading=!1}).catch(function(t){return e.formLoading=!1,[t,null]})}},{key:"getWorkCenterList",value:function(){var e=this;Object(b["Ib"])({page:1,size:9999}).then(function(t){var a=t.data||{};e.dischargeList=a.result||[]}).catch(function(e){return[e,null]})}},{key:"getPostList",value:function(){var e=this;Object(b["hb"])({page:1,size:9999}).then(function(t){var a=t.data||{};e.postList=a.result||[]}).catch(function(e){return[e,null]})}},{key:"init",value:function(e){this.getPostList(),this.getWorkCenterList(),this.selectForm.warehouseId=this.wsId;var t=this.isEdit;t&&(this.selectForm.id=e.id,this.formLoading=!0,this.getWareHouseEdit())}},{key:"pickerOptions",get:function(){return{disabledDate:function(e){return e.getTime()<=Date.now()-864e5}}}}]),t}(h["e"]);st=p["a"]([Object(h["a"])({name:"PostShiftForm",components:{},props:{isEdit:{type:Boolean,default:!1},wsId:{type:String,default:""}}})],st);var ot=st,lt=ot,ct=Object(F["a"])(lt,et,tt,!1,null,"70eab682",null),ut=ct.exports,dt=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.loading=!1,e.isEdit=!1,e.isShowUpdate=!1,e.tableData=[],e.pageNumber=1,e.pageSize=10,e.totalCount=0,e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"handleAdd",value:function(){var e=this;this.isShowUpdate=!0,this.isEdit=!1,this.$nextTick(function(){var t=e.$refs.editForm;t.init()})}},{key:"handleEdit",value:function(e){var t=this;this.isShowUpdate=!0,this.isEdit=!0,this.$nextTick(function(){var a=t.$refs.editForm;a.init(e)})}},{key:"handleDelete",value:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){var a={id:e};Object(b["p"])(a).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.getTableList()}).catch(function(e){return[e,null]})}).catch(function(e){return[e,null]})}},{key:"handleClose",value:function(){this.isShowUpdate=!1}},{key:"getTableList",value:function(){var e=this,t={model:{warehouseId:this.wsId},page:this.pageNumber,size:this.pageSize};this.loading=!0,Object(b["ib"])(t).then(function(t){e.loading=!1;var a=t.data;e.totalCount=a.total,e.tableData=a.result||[]}).catch(function(){e.loading=!1})}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.getTableList()}},{key:"handleCurrentChange",value:function(e){this.pageNumber=e,this.getTableList()}},{key:"created",value:function(){this.getTableList()}}]),t}(h["e"]);dt=p["a"]([Object(h["a"])({name:"WorkShiftConfiguration",components:{postShiftForm:ut},props:{wsId:{type:String,default:""}}})],dt);var mt=dt,pt=mt,ht=Object(F["a"])(pt,Ke,Xe,!1,null,"bcd4a63c",null),ft=ht.exports,vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAdd}},[e._v("\n    新增轮班配置\n  ")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.tableData,border:"",height:"calc(100vh - 315px)"}},[a("el-table-column",{attrs:{label:"序号",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.$index+1)+"\n      ")]}}])}),a("el-table-column",{attrs:{prop:"nums",label:"轮换时间"}}),a("el-table-column",{attrs:{prop:"unit",label:"轮换周期"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.unit?a("span",[e._v("周")]):2===t.row.unit?a("span",[e._v("月")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"oldShiftName",label:"原班次"}}),a("el-table-column",{attrs:{prop:"newShiftName",label:"新班次"}}),a("el-table-column",{attrs:{prop:"startTime",label:"执行日期"}}),a("el-table-column",{attrs:{prop:"endTime",label:"截止日期"}}),a("el-table-column",{attrs:{prop:"notes",label:"备注"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("\n          编辑\n        ")]),e._v("\n         \n        "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("\n          删除\n        ")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.pageNumber,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:e.isEdit?"编辑轮班配置":"新增轮班配置",visible:e.isShowUpdate,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.isShowUpdate=t}}},[a("workShiftForm",{ref:"editForm",attrs:{"is-edit":e.isEdit,"ws-id":e.wsId},on:{cancel:e.handleClose,getTableList:e.getTableList}})],1)],1)},gt=[],bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],staticClass:"add-edit-truck"},[a("el-form",{ref:"theForm",staticStyle:{"padding-right":"20px"},attrs:{model:e.selectForm,rules:e.formRules,"label-width":"120px","label-position":"right",size:"small"}},[a("el-form-item",{attrs:{label:"轮班模板"}},[e._l(e.tagList,function(t,n){return a("el-tag",{key:n,attrs:{closable:""},on:{click:e.handleTag,close:e.deleteTag}},[e._v("\n          "+e._s(t.name)+"\n        ")])}),a("el-button",{attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAddTemplate}},[e._v("\n          新增轮班配置模板\n        ")])],2),a("el-form-item",{attrs:{label:"轮换周期",prop:"nums"}},[a("el-input",{attrs:{maxlength:10,placeholder:"请输入"},model:{value:e.selectForm.nums,callback:function(t){e.$set(e.selectForm,"nums",t)},expression:"selectForm.nums"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{slot:"append"},slot:"append",model:{value:e.selectForm.unit,callback:function(t){e.$set(e.selectForm,"unit",t)},expression:"selectForm.unit"}},[a("el-option",{attrs:{label:"周(7天)",value:1}}),a("el-option",{attrs:{label:"月(30天)",value:2}})],1)],1)],1),a("el-form-item",{attrs:{label:"原班次",prop:"oldShiftId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.selectForm.oldShiftId,callback:function(t){e.$set(e.selectForm,"oldShiftId",t)},expression:"selectForm.oldShiftId"}},e._l(e.classList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name+" "+e.filterTime(t),value:t.id}})}),1)],1),a("el-form-item",{attrs:{label:"新班次",prop:"newShiftId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.selectForm.newShiftId,callback:function(t){e.$set(e.selectForm,"newShiftId",t)},expression:"selectForm.newShiftId"}},e._l(e.classList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name+" "+e.filterTime(t),value:t.id}})}),1)],1),a("el-form-item",{attrs:{label:"执行日期",prop:"startTime"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"年/月/日","picker-options":e.pickerOptions},model:{value:e.selectForm.startTime,callback:function(t){e.$set(e.selectForm,"startTime",t)},expression:"selectForm.startTime"}})],1),a("el-form-item",{attrs:{label:"截止日期",prop:"endTime"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"年/月/日","picker-options":e.pickerOptions},model:{value:e.selectForm.endTime,callback:function(t){e.$set(e.selectForm,"endTime",t)},expression:"selectForm.endTime"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"notes"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",maxlength:20,placeholder:"请输入"},model:{value:e.selectForm.notes,callback:function(t){e.$set(e.selectForm,"notes",t)},expression:"selectForm.notes"}})],1)],1)],1),a("div",{staticStyle:{"text-align":"right","padding-top":"20px"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("\n      取 消\n    ")]),a("el-button",{attrs:{type:"primary",loading:e.formLoading},on:{click:e.saveConfirm}},[e._v("\n      确 定\n    ")])],1)])},yt=[];function wt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function kt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wt(a,!0).forEach(function(t){Object(r["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Ot(){return{nums:void 0,unit:1,oldShiftName:void 0,oldShiftId:void 0,newShiftName:void 0,newShiftId:void 0,startTime:void 0,endTime:void 0,notes:void 0}}function xt(e,t,a){var n=/^[1-9]+[0-9]*$/;n.test(t)?a():a(new Error("轮换周期为正整数"))}var Lt=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.formLoading=!1,e.selectForm=Ot(),e.formRules={nums:[{required:!0,message:"轮换周期不能为空",trigger:"blur"},{validator:xt,trigger:"blur"}],newShiftId:[{required:!0,message:"请选择新班次",trigger:"change"}],oldShiftId:[{required:!0,message:"请选择原班次",trigger:"change"}],startTime:[{required:!0,message:"请选择执行日期",trigger:"change"}],endTime:[{required:!0,message:"请选择截止日期",trigger:"change"}]},e.classList=[],e.tagList=[],e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"filterTime",value:function(e){var t=e.startTime||"",a=e.endTime||"";return t&&a?"("+t.slice(10)+"~"+a.slice(10)+")":null}},{key:"clearValidate",value:function(){var e=this.$refs.theForm;this.$nextTick(function(){e.clearValidate()})}},{key:"resetForm",value:function(){this.selectForm=Ot(),this.clearValidate()}},{key:"cancel",value:function(){this.resetForm(),this.$emit("cancel")}},{key:"handleAddTemplate",value:function(){return[]}},{key:"handleTag",value:function(){return[]}},{key:"deleteTag",value:function(){return[]}},{key:"saveConfirm",value:function(){var e=this,t=this.$refs.theForm;t.validate(function(t){if(!t)return!1;e.formLoading=!0;var a=kt({},e.selectForm);e.classList.map(function(e){e.id===a.oldShiftId&&(a.oldShiftName=e.name),e.id===a.newShiftId&&(a.newShiftName=e.name)}),Object(b["Zb"])(a).then(function(t){e.$message({type:"success",message:"保存成功"}),e.resetForm(),e.formLoading=!1,e.$emit("cancel"),e.$emit("getTableList")}).catch(function(t){return e.formLoading=!1,t})})}},{key:"getWareHouseEdit",value:function(){var e=this;this.formLoading=!0,Object(b["rb"])({id:this.selectForm.id}).then(function(t){var a=t.data||{};e.selectForm=kt({},a),e.formLoading=!1}).catch(function(t){return e.formLoading=!1,[t,null]})}},{key:"getClassesList",value:function(){var e=this,t=this.wsId;Object(b["H"])({warehouseId:t}).then(function(t){e.classList=t.data||[]}).catch(function(e){return[e,null]})}},{key:"init",value:function(e){this.getClassesList(),this.selectForm.warehouseId=this.wsId;var t=this.isEdit;t&&(this.selectForm=kt({},e))}},{key:"pickerOptions",get:function(){return{disabledDate:function(e){return e.getTime()<=Date.now()-864e5}}}}]),t}(h["e"]);Lt=p["a"]([Object(h["a"])({name:"WorkShiftForm",components:{},props:{isEdit:{type:Boolean,default:!1},wsId:{type:String,default:""}}})],Lt);var St=Lt,jt=St,It=Object(F["a"])(jt,bt,yt,!1,null,"17c7272a",null),Ft=It.exports,Tt=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.loading=!1,e.isEdit=!1,e.isShowUpdate=!1,e.tableData=[],e.pageNumber=1,e.pageSize=10,e.totalCount=0,e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"handleAdd",value:function(){var e=this;this.isShowUpdate=!0,this.isEdit=!1,this.$nextTick(function(){var t=e.$refs.editForm;t.init()})}},{key:"handleEdit",value:function(e){var t=this;this.isShowUpdate=!0,this.isEdit=!0,this.$nextTick(function(){var a=t.$refs.editForm;a.init(e)})}},{key:"handleDelete",value:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){var a={id:e};Object(b["u"])(a).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.getTableList()}).catch(function(e){return[e,null]})}).catch(function(e){return[e,null]})}},{key:"handleClose",value:function(){this.isShowUpdate=!1}},{key:"getTableList",value:function(){var e=this,t={model:{warehouseId:this.wsId},page:this.pageNumber,size:this.pageSize};this.loading=!0,Object(b["Jb"])(t).then(function(t){e.loading=!1;var a=t.data;e.totalCount=a.total,e.tableData=a.result||[]}).catch(function(){e.loading=!1})}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.getTableList()}},{key:"handleCurrentChange",value:function(e){this.pageNumber=e,this.getTableList()}},{key:"created",value:function(){this.getTableList()}}]),t}(h["e"]);Tt=p["a"]([Object(h["a"])({name:"WorkShiftConfiguration",components:{workShiftForm:Ft},props:{wsId:{type:String,default:""}}})],Tt);var _t=Tt,Ct=_t,$t=Object(F["a"])(Ct,vt,gt,!1,null,"031dd95d",null),Dt=$t.exports,Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{display:"flex","flex-direction":"row","overflow-x":"auto"}},[a("div",{staticStyle:{flex:"60%",border:"1px solid #ccc","margin-right":"5px","padding-top":"20px"}},[a("div",{staticStyle:{"padding-left":"20px"}},[a("span",{staticStyle:{"line-height":"22px","font-size":"18px","padding-right":"20px"}},[e._v("\n          班次岗位日历\n        ")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.handleWeek}},[e._v("\n          周期分配班次岗位\n        ")]),a("div",[a("el-button",{class:"0"===e.view?"view-active":"",attrs:{size:"small"},on:{click:function(t){return e.handleView("0")}}},[e._v("\n            按人员查看\n          ")]),a("el-button",{class:"1"===e.view?"view-active":"",attrs:{size:"small"},on:{click:function(t){return e.handleView("1")}}},[e._v("\n            按班次查看\n          ")]),a("el-button",{class:"2"===e.view?"view-active":"",attrs:{size:"small"},on:{click:function(t){return e.handleView("2")}}},[e._v("\n            按岗位查看\n          ")]),a("el-button",{class:"3"===e.view?"view-active":"",attrs:{size:"small"},on:{click:function(t){return e.handleView("3")}}},[e._v("\n            按操作中心查看\n          ")])],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.calenderLoading,expression:"calenderLoading"}],staticStyle:{padding:"20px"}},[a("jht-calendar",{staticClass:"jht-calendar",attrs:{masks:e.masks,attributes:e.calendarData,"disable-page-swipe":"","is-expanded":""},on:{"update:to-page":e.handlePaneClick},scopedSlots:e._u([{key:"day-content",fn:function(t){var n=t.day,i=t.attributes;return a("div",{class:e.dayTime===n.id?"is-selected":"",staticStyle:{height:"100%",cursor:"pointer",padding:"5px"},on:{click:function(t){return e.handleDayClick(n.date)}}},[a("span",[e._v(e._s(n.day))]),e._l(i,function(t,n){return a("div",{key:n,staticStyle:{height:"40px"}},[a("p",{staticClass:"calender-content"},[e._v("\n                "+e._s(e.attributeFilter(t.customData))+"\n              ")])])})],2)}}])})],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{flex:"40%",border:"1px solid #ccc","margin-left":"5px",padding:"20px"}},[a("div",{staticStyle:{"line-height":"22px","font-size":"18px"}},[e._v("\n        班次岗位明细\n      ")]),a("div",{staticStyle:{"text-align":"right"}},[a("span",{staticStyle:{float:"left","line-height":"32px"}},[e._v(e._s(e.ymdFilter(e.dayTime)))]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseShiftPostAdd"],expression:"['warehouseShiftPostAdd']"}],attrs:{type:"text",size:"small",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAdd}},[e._v("\n          新增明细\n        ")])],1),a("el-table",{ref:"table",staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.tableData,border:"",height:"550px"}},[a("el-table-column",{attrs:{prop:"employeeName",label:"员工"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isAdd?a("el-select",{attrs:{loading:e.selectLoading,placeholder:"请选择",filterable:"",clearable:""},on:{focus:e.getEmployeeList},model:{value:t.row.employeeId,callback:function(a){e.$set(t.row,"employeeId",a)},expression:"scope.row.employeeId"}},e._l(e.employeeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.username,value:e.id}})}),1):a("span",[e._v(e._s(t.row.employeeName))])]}}])}),a("el-table-column",{attrs:{prop:"shiftName",label:"所属班次"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isAdd?a("el-select",{attrs:{loading:e.selectLoading,placeholder:"请选择",filterable:"",clearable:""},on:{focus:e.getShiftList},model:{value:t.row.shiftId,callback:function(a){e.$set(t.row,"shiftId",a)},expression:"scope.row.shiftId"}},e._l(e.shiftList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1):a("span",[e._v(e._s(t.row.shiftName))])]}}])}),a("el-table-column",{attrs:{prop:"postName",label:"所属岗位"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isAdd?a("el-select",{attrs:{loading:e.selectLoading,placeholder:"请选择",filterable:"",clearable:""},on:{focus:e.getPostList},model:{value:t.row.postId,callback:function(a){e.$set(t.row,"postId",a)},expression:"scope.row.postId"}},e._l(e.postList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1):a("span",[e._v(e._s(t.row.postName))])]}}])}),a("el-table-column",{attrs:{prop:"wcName",label:"所属操作中心"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isAdd?a("el-select",{attrs:{loading:e.selectLoading,placeholder:"请选择",filterable:"",clearable:""},on:{focus:e.getWCList},model:{value:t.row.wcId,callback:function(a){e.$set(t.row,"wcId",a)},expression:"scope.row.wcId"}},e._l(e.wcList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.wcId}})}),1):a("span",[e._v(e._s(t.row.wcName))])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"110px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEdit?e._e():a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("\n              编辑\n            ")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDelete(t.$index)}}},[e._v("\n              移除\n            ")])]}}])})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isAddShow,expression:"isAddShow"}],staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{size:"small"},on:{click:e.handleDayCancel}},[e._v("\n          取消\n        ")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleDaySave}},[e._v("\n          保存\n        ")])],1)],1)]),a("el-dialog",{staticClass:"week-dialog",attrs:{title:"周期设置班次岗位",visible:e.isShowChange,"close-on-click-modal":!1,width:"1000px"},on:{"update:visible":function(t){e.isShowChange=t},close:e.handleClose}},[a("shiftPostWeek",{ref:"editForm",attrs:{"ws-id":e.wsId},on:{cancel:e.close,getMonthData:e.getMonthData}})],1)],1)},Et=[],zt=(a("4f7f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.weekLoading,expression:"weekLoading"}],staticClass:"shift-post-week"},[a("div",{staticStyle:{height:"24px"}},[e._v("\n    1、设置一周周期\n  ")]),a("div",{staticStyle:{display:"flex","flex-direction":"row"}},[a("div",{staticStyle:{width:"280px",border:"1px solid #ccc","margin-right":"5px"}},e._l(e.weekData,function(t,n){return a("div",{key:n,staticClass:"week-data",class:e.selected===t.id?"active":"",on:{click:function(a){return e.handleWeek(t)}}},[a("div",{staticClass:"week-day"},[a("span",[e._v(e._s(t.label))])]),a("div",{staticClass:"week-persons"},[a("p",[e._v(e._s(e.contentFilter(t.content)))])])])}),0),a("div",{staticStyle:{width:"670px",border:"1px solid #ccc","margin-left":"5px",padding:"10px"}},[a("div",{staticStyle:{"line-height":"22px","font-size":"18px"}},[e._v("\n        班次岗位明细\n      ")]),a("div",{staticStyle:{"text-align":"right","padding-right":"10px"}},[a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAdd}},[e._v("\n          新增明细\n        ")])],1),a("el-table",{ref:"table",staticStyle:{width:"640px",margin:"10px 0"},attrs:{data:e.table,border:"",height:"436px"}},[a("el-table-column",{attrs:{prop:"employeeName",label:"员工"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isAdd?a("el-select",{attrs:{loading:e.selectLoading,placeholder:"请选择",size:"small",filterable:""},on:{focus:e.getEmployeeList,change:e.onPersonChange},model:{value:t.row.employeeId,callback:function(a){e.$set(t.row,"employeeId",a)},expression:"scope.row.employeeId"}},e._l(e.personList,function(e,t){return a("el-option",{key:t,attrs:{label:e.username,value:e.id}})}),1):a("span",[e._v(e._s(t.row.employeeName))])]}}])}),a("el-table-column",{attrs:{prop:"shiftName",label:"所属班次"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isAdd?a("el-select",{attrs:{loading:e.selectLoading,placeholder:"请选择",size:"small",filterable:""},on:{focus:e.getShiftList},model:{value:t.row.shiftId,callback:function(a){e.$set(t.row,"shiftId",a)},expression:"scope.row.shiftId"}},e._l(e.shiftList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1):a("span",[e._v(e._s(t.row.shiftName))])]}}])}),a("el-table-column",{attrs:{prop:"postName",label:"所属岗位"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isAdd?a("el-select",{attrs:{loading:e.selectLoading,placeholder:"请选择",size:"small",filterable:""},on:{focus:e.getPostList},model:{value:t.row.postId,callback:function(a){e.$set(t.row,"postId",a)},expression:"scope.row.postId"}},e._l(e.postList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}),1):a("span",[e._v(e._s(t.row.postName))])]}}])}),a("el-table-column",{attrs:{prop:"wcName",label:"所属操作中心"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isAdd?a("el-select",{attrs:{loading:e.selectLoading,placeholder:"请选择",size:"small",filterable:""},on:{focus:e.getWCList},model:{value:t.row.wcId,callback:function(a){e.$set(t.row,"wcId",a)},expression:"scope.row.wcId"}},e._l(e.wcList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.wcId}})}),1):a("span",[e._v(e._s(t.row.wcName))])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDelete(t.row,t.$index)}}},[e._v("\n              移除\n            ")])]}}])})],1)],1)]),a("div",{staticStyle:{height:"24px","margin-top":"10px"}},[e._v("\n    2、将周期应用到\n  ")]),a("div",[a("el-date-picker",{attrs:{"value-format":"yyyy-MM",size:"small",type:"month",placeholder:"选择月"},model:{value:e.monthDate,callback:function(t){e.monthDate=t},expression:"monthDate"}})],1),a("div",{staticStyle:{"text-align":"right","padding-top":"20px"}},[a("el-button",{on:{click:e.preview}},[e._v("\n      班次岗位分配预览\n    ")]),a("el-button",{on:{click:e.cancel}},[e._v("\n      取 消\n    ")]),a("el-button",{attrs:{type:"primary",loading:e.weekLoading},on:{click:e.save}},[e._v("\n      保 存\n    ")])],1),a("el-dialog",{staticClass:"view-dialog",attrs:{title:"班次岗位分配预览",visible:e.isPreview,"close-on-click-modal":!1,top:"10vh","append-to-body":"",width:"1460px"},on:{"update:visible":function(t){e.isPreview=t},close:e.close}},[a("calendarPreview",{ref:"calendarView"})],1)],1)}),Pt=[],Vt=a("75fc"),Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{display:"flex","flex-direction":"row"}},[a("div",{staticStyle:{flex:"65%",border:"1px solid #ccc","margin-right":"5px"}},[a("div",{staticStyle:{padding:"0 10px"}},[a("div",{staticStyle:{"font-size":"18px",padding:"10px 0"}},[e._v("\n          班次岗位日历\n        ")]),a("div",[a("el-button",{class:"0"===e.view?"view-active":"",attrs:{size:"small"},on:{click:function(t){return e.handleView("0")}}},[e._v("\n            按人员查看\n          ")]),a("el-button",{class:"1"===e.view?"view-active":"",attrs:{size:"small"},on:{click:function(t){return e.handleView("1")}}},[e._v("\n            按班次查看\n          ")]),a("el-button",{class:"2"===e.view?"view-active":"",attrs:{size:"small"},on:{click:function(t){return e.handleView("2")}}},[e._v("\n            按岗位查看\n          ")]),a("el-button",{class:"3"===e.view?"view-active":"",attrs:{size:"small"},on:{click:function(t){return e.handleView("3")}}},[e._v("\n            按操作中心查看\n          ")])],1)]),a("div",{staticStyle:{padding:"10px"}},[a("jht-calendar",{ref:"calendar",staticClass:"jht-calendar",attrs:{masks:e.masks,attributes:e.calendarData,"disable-page-swipe":"","is-expanded":""},on:{"update:to-page":e.handlePaneClick},scopedSlots:e._u([{key:"day-content",fn:function(t){var n=t.day,i=t.attributes;return a("div",{class:e.dayTime===n.id?"is-selected":"",staticStyle:{height:"100%",cursor:"pointer",padding:"5px"},on:{click:function(t){return e.handleDayClick(n.date)}}},[a("span",[e._v(e._s(n.day))]),e._l(i,function(t,n){return a("div",{key:n,staticStyle:{height:"40px"}},[a("p",{staticClass:"calender-content"},[e._v("\n                "+e._s(e.calendarFilter(t.customData))+"\n              ")])])})],2)}}])})],1)]),a("div",{staticStyle:{flex:"35%",border:"1px solid #ccc","margin-left":"5px"}},[a("div",{staticStyle:{padding:"0 10px"}},[a("div",{staticStyle:{"font-size":"18px",padding:"10px 0"}},[e._v("\n          班次岗位明细\n        ")]),a("div",{staticStyle:{"line-height":"22px",height:"22px"}},[e._v("\n          "+e._s(e.ymdFilter(e.dayTime))+"\n        ")]),a("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.table,border:"",height:"600px"}},[a("el-table-column",{attrs:{prop:"employeeName",label:"员工"}}),a("el-table-column",{attrs:{prop:"shiftName",label:"所属班次"}}),a("el-table-column",{attrs:{prop:"postName",label:"所属岗位"}}),a("el-table-column",{attrs:{prop:"wcName",label:"所属操作中心"}})],1)],1)])])])},At=[],Wt=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.view="0",e.monthTime="",e.monthDate="",e.dayTime="",e.weekDay="",e.tableData=[],e.calendarData=[],e.masks={weekdays:"WWW"},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"setData",value:function(e,t){var a=this;this.tableData=e;var n=g()(t).daysInMonth();this.calendarData=[];for(var i=1;i<Number(n);i++){var r=g()(t+i).format("YYYY-MM-DD"),s=g()(r).day()+1;this.calendarData.push({dates:r,isWeek:s,customData:{employees:[],posts:[],shifts:[],wcs:[]}})}this.calendarData.map(function(e){a.tableData.filter(function(t){return t.isWeek===e.isWeek}).map(function(t){if(t&&Object.keys(t).length>0){var a=t.employeeName,n=t.postName,i=t.shiftName,r=t.wcName;e.customData.employees.push(a),e.customData.posts.push(n),e.customData.shifts.push(i),e.customData.wcs.push(r)}})}),this.view="0",this.monthDate=t,this.dayTime=g()().format("YYYY-MM-DD"),this.weekDay=g()().day()+1}},{key:"cancel",value:function(){this.view="0",this.monthTime="",this.monthDate="",this.dayTime="",this.weekDay="",this.tableData=[],this.calendarData=[]}},{key:"handleView",value:function(e){this.view=e}},{key:"ymdFilter",value:function(e){if(e)return g()(e).format("YYYY年MM月DD日")}},{key:"calendarFilter",value:function(e){var t,a=Object(Vt["a"])(new Set(e.employees)),n=Object(Vt["a"])(new Set(e.shifts)),i=Object(Vt["a"])(new Set(e.posts)),r=Object(Vt["a"])(new Set(e.wcs));switch(this.view){case"0":t=a.join("、");break;case"1":t=n.join("、");break;case"2":t=i.join("、");break;case"3":t=r.join("、");break;default:break}return t}},{key:"handlePaneClick",value:function(e){var t=e.year+"-"+e.month;this.monthTime=g()(t).format("YYYY-MM"),this.dayTime="",this.weekDay=""}},{key:"handleDayClick",value:function(e){this.dayTime=g()(e).format("YYYY-MM-DD"),this.weekDay=g()(e).day()+1}},{key:"mounted",value:function(){}},{key:"created",value:function(){}},{key:"table",get:function(){var e=this;return this.tableData.filter(function(t){return t.isWeek===e.weekDay&&e.monthDate===e.monthTime})}}]),t}(h["e"]);Wt=p["a"]([Object(h["a"])({name:"Calendar",components:{},props:{}})],Wt);var qt=Wt,Ut=qt,Rt=(a("c602"),Object(F["a"])(Ut,Mt,At,!1,null,"a19e9a0c",null)),Ht=Rt.exports;function Yt(){return[{weekDay:1,infoList:[]},{weekDay:2,infoList:[]},{weekDay:3,infoList:[]},{weekDay:4,infoList:[]},{weekDay:5,infoList:[]},{weekDay:6,infoList:[]},{weekDay:7,infoList:[]}]}function Bt(){return[{label:"周一",content:[],id:2},{label:"周二",content:[],id:3},{label:"周三",content:[],id:4},{label:"周四",content:[],id:5},{label:"周五",content:[],id:6},{label:"周六",content:[],id:7},{label:"周日",content:[],id:1}]}var Jt=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.subTableData=[],e.subLoading=!1,e.weekLoading=!1,e.isPreview=!1,e.selectLoading=!1,e.wcList=[],e.shiftList=[],e.postList=[],e.monthDate="",e.selected=2,e.custId="",e.personList=[],e.weekdayList=Yt(),e.weekData=Bt(),e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"setData",value:function(e){var t=this;this.custId=e,this.$nextTick(function(){var e=t.$refs.table;e.doLayout()})}},{key:"contentFilter",value:function(e){return e.length>0?e.join("、"):""}},{key:"handleWeek",value:function(e){this.selected=e.id}},{key:"handleAdd",value:function(){this.subTableData.push({isAdd:!0,isWeek:this.selected,isStr:String(Math.random()),employeeId:void 0,employeeName:void 0,postId:void 0,postName:void 0,shiftId:void 0,shiftName:void 0,wcId:void 0,wcName:void 0})}},{key:"handleDelete",value:function(e){var t=this;this.subTableData=this.subTableData.filter(function(t){return t.isStr!==e.isStr}),this.weekData.map(function(e){e.id===t.selected&&(e.content=[],t.subTableData.map(function(t){e.id===t.isWeek&&e.content.push(t.employeeName)}),e.content=Object(Vt["a"])(new Set(e.content)))})}},{key:"onPersonChange",value:function(){var e=this;this.subTableData.map(function(t){t.employeeName=(e.personList.find(function(e){return t.employeeId===e.id})||{}).username});var t=this.subTableData.map(function(e,t){return{id:e.isWeek,name:e.employeeName}});this.weekData.map(function(e){var a=t.filter(function(t){return e.id===t.id}).map(function(e){return e.name});e.content=Object(Vt["a"])(new Set(a))})}},{key:"preview",value:function(){var e=this,t=this.subTableData.every(function(e){return e.employeeId&&e.postId&&e.shiftId&&e.wcId});t?this.monthDate?(this.subTableData.map(function(t){t.employeeName=(e.personList.find(function(e){return t.employeeId===e.id})||{}).username,t.postName=(e.postList.find(function(e){return t.postId===e.id})||{}).name,t.shiftName=(e.shiftList.find(function(e){return t.shiftId===e.id})||{}).name,t.wcName=(e.wcList.find(function(e){return t.wcId===e.wcId})||{}).name}),this.isPreview=!0,this.$nextTick(function(){var t=e.$refs.calendarView;t.setData(e.subTableData,e.monthDate)})):this.$message.error("请选择周期应用的时间"):this.$message.error("请完整填写班次岗位明细")}},{key:"close",value:function(){var e=this;this.isPreview=!1,this.$nextTick(function(){var t=e.$refs.calendarView;t.cancel()})}},{key:"cancel",value:function(){this.selected=2,this.monthDate="",this.weekdayList=Yt(),this.subTableData=[],this.weekData=Bt(),this.$emit("cancel")}},{key:"save",value:function(){var e,t=this,a=this.subTableData.every(function(e){return e.employeeId&&e.postId&&e.shiftId&&e.wcId});if(a)if(this.monthDate)if(this.subTableData.map(function(e){e.employeeName=(t.personList.find(function(t){return e.employeeId===t.id})||{}).username,e.postName=(t.postList.find(function(t){return e.postId===t.id})||{}).name,e.shiftName=(t.shiftList.find(function(t){return e.shiftId===t.id})||{}).name,e.wcName=(t.wcList.find(function(t){return e.wcId===t.wcId})||{}).name}),this.weekdayList.map(function(a){a.infoList=t.subTableData.filter(function(e){return a.weekDay===e.isWeek});var n=a.infoList.map(function(e){return e.employeeId}),i=new Set(n);i.size!==n.length&&(e=!0)}),e)this.$message.error("班次岗位明细的一天之中员工不能重复选择");else{this.weekLoading=!0;var n={endDate:this.monthDate,startDate:this.monthDate,warehouseId:this.wsId,weekdayList:this.weekdayList};Object(b["ac"])(n).then(function(e){t.weekLoading=!1,t.$message({type:"success",message:"保存成功"}),t.cancel(),t.$emit("getMonthData")}).catch(function(e){return t.weekLoading=!1,[e,null]})}else this.$message.error("请选择周期应用的时间");else this.$message.error("请完整填写班次岗位明细")}},{key:"getWCList",value:function(){var e=this;this.wcList.length>0||(this.selectLoading=!0,Object(b["Hb"])({schedule:"true",warehouseId:this.wsId}).then(function(t){var a=t.data;e.wcList=a||[],e.selectLoading=!1}).catch(function(t){return e.selectLoading=!1,[t,null]}))}},{key:"getShiftList",value:function(){var e=this;this.shiftList.length>0||(this.selectLoading=!0,Object(b["lb"])({warehouseId:this.wsId}).then(function(t){var a=t.data;e.shiftList=a||[],e.selectLoading=!1}).catch(function(t){return e.selectLoading=!1,[t,null]}))}},{key:"getPostList",value:function(){var e=this;this.postList.length>0||(this.selectLoading=!0,Object(b["hb"])({page:1,size:9999}).then(function(t){var a=t.data.result;e.postList=a||[],e.selectLoading=!1}).catch(function(t){return e.selectLoading=!1,[t,null]}))}},{key:"getEmployeeList",value:function(){var e=this;if(!(this.personList.length>0)){this.selectLoading=!0;var t={custId:this.custId,page:1,size:9999,deptId:"",key:"",keyType:"",postId:"",status:""};Object(b["gb"])(t).then(function(t){var a=t.data.result;e.personList=a||[],e.selectLoading=!1}).catch(function(t){return e.selectLoading=!1,[t,null]})}}},{key:"table",get:function(){var e=this;return this.subTableData.filter(function(t){return t.isWeek===e.selected})}}]),t}(h["e"]);Jt=p["a"]([Object(h["a"])({name:"ShiftPostWeek",components:{calendarPreview:Ht},props:{wsId:{type:String,default:""}}})],Jt);var Gt=Jt,Qt=Gt,Zt=(a("efee"),Object(F["a"])(Qt,zt,Pt,!1,null,"63295934",null)),Kt=Zt.exports,Xt=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.loading=!1,e.calenderLoading=!1,e.selectLoading=!1,e.isShowChange=!1,e.tableData=[],e.tableJson=[],e.view="0",e.monthTime="",e.dayTime="",e.currentTime="",e.calendarData=[],e.employeeList=[],e.wcList=[],e.shiftList=[],e.postList=[],e.isAddShow=!1,e.masks={weekdays:"WWW"},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"handleClose",value:function(){var e=this;this.$nextTick(function(){var t=e.$refs.editForm;t.cancel()})}},{key:"close",value:function(){this.isShowChange=!1}},{key:"handleWeek",value:function(){var e=this;this.isShowChange=!0,this.$nextTick(function(){var t=e.$refs.editForm,a=e.ctId;t.setData(a)})}},{key:"ymdFilter",value:function(e){if(e)return g()(e).format("YYYY年MM月DD日")}},{key:"attributeFilter",value:function(e){var t;switch(this.view){case"0":t=e.employees.join("、");break;case"1":t=e.shifts.join("、");break;case"2":t=e.posts.join("、");break;case"3":t=e.wcs.join("、");break;default:break}return t}},{key:"handleView",value:function(e){this.view=e}},{key:"handlePaneClick",value:function(e){var t=e.year+"-"+e.month;this.monthTime=g()(t).format("YYYY-MM");var a=g()(this.currentTime).format("YYYY-MM");a===this.monthTime?this.dayTime=this.currentTime:this.dayTime=g()(this.monthTime+"-01").format("YYYY-MM-DD"),this.getMonthData()}},{key:"handleDayClick",value:function(e){this.dayTime=g()(e).format("YYYY-MM-DD"),this.handleDayDetail()}},{key:"handleAdd",value:function(){this.tableData.push({isAdd:!0,isEdit:!0,employeeId:void 0,employeeName:void 0,postId:void 0,postName:void 0,shiftId:void 0,shiftName:void 0,wcId:void 0,wcName:void 0}),this.isAddShow||(this.isAddShow=!0)}},{key:"handleEdit",value:function(e){this.$set(e,"isAdd",!0),this.isAddShow||(this.isAddShow=!0)}},{key:"handleDelete",value:function(e){this.tableData.splice(e,1),this.isAddShow||(this.isAddShow=!0)}},{key:"handleDayCancel",value:function(){this.tableData=JSON.parse(JSON.stringify(this.tableJson)),this.isAddShow=!1}},{key:"handleDaySave",value:function(){var e=this;if(this.dayTime){var t=this.tableData.every(function(e){return e.employeeId&&e.postId&&e.shiftId&&e.wcId});if(t){var a=this.tableData.map(function(e){return e.employeeId}),n=new Set(a);if(n.size===a.length){this.loading=!0,this.tableData.map(function(t){t.employeeName=(e.employeeList.find(function(e){return t.employeeId===e.id})||{}).username,t.postName=(e.postList.find(function(e){return t.postId===e.id})||{}).name,t.shiftName=(e.shiftList.find(function(e){return t.shiftId===e.id})||{}).name,t.wcName=(e.wcList.find(function(e){return t.wcId===e.wcId})||{}).name});var i={dates:this.dayTime,warehouseId:this.wsId,details:this.tableData};Object(b["Nb"])(i).then(function(t){e.loading=!1,e.$message({type:"success",message:"更新成功"}),e.isAddShow=!1,e.getMonthData(),e.handleDayDetail()}).catch(function(t){return e.loading=!1,[t,null]})}else this.$message.error("班次岗位明细的员工不能重复选择")}else this.$message.error("请完整填写班次岗位明细")}else this.$message.error("请选择班次岗位分配的日期")}},{key:"getMonthData",value:function(){var e=this;this.calenderLoading=!0,this.loading=!0;var t={startDate:this.monthTime,warehouseId:this.wsId};Object(b["Z"])(t).then(function(t){var a=t.data;e.calendarData=a.map(function(e){var t=e.dates,a=e.employees,n=e.shifts,i=e.posts,r=e.wcs,s=e.details;return{dates:t,customData:{employees:a,shifts:n,posts:i,wcs:r,details:s}}}),e.handleDayDetail(),e.calenderLoading=!1,e.loading=!1}).catch(function(){e.calenderLoading=!1,e.loading=!1})}},{key:"handleDayDetail",value:function(){var e=this;this.tableData=[],this.tableJson=[],this.isAddShow=!1,this.calendarData.map(function(t){var a=g()(t.dates).format("YYYY-MM-DD");a===e.dayTime&&(e.tableData=JSON.parse(JSON.stringify(t.customData.details)),e.tableJson=JSON.parse(JSON.stringify(t.customData.details)),e.setTable())})}},{key:"setTable",value:function(){var e=this;this.$nextTick(function(){var t=e.$refs.table;t.doLayout()})}},{key:"getWCList",value:function(){var e=this;this.wcList.length>0||(this.selectLoading=!0,Object(b["Hb"])({schedule:"true",warehouseId:this.wsId}).then(function(t){var a=t.data;e.wcList=a||[],e.selectLoading=!1}).catch(function(t){return e.selectLoading=!1,[t,null]}))}},{key:"getShiftList",value:function(){var e=this;this.shiftList.length>0||(this.selectLoading=!0,Object(b["lb"])({warehouseId:this.wsId}).then(function(t){var a=t.data;e.shiftList=a||[],e.selectLoading=!1}).catch(function(t){return e.selectLoading=!1,[t,null]}))}},{key:"getPostList",value:function(){var e=this;this.postList.length>0||(this.selectLoading=!0,Object(b["hb"])({page:1,size:9999}).then(function(t){var a=t.data.result;e.postList=a||[],e.selectLoading=!1}).catch(function(t){return e.selectLoading=!1,[t,null]}))}},{key:"getEmployeeList",value:function(){var e=this;if(!(this.employeeList.length>0)){this.selectLoading=!0;var t={custId:this.ctId,page:1,size:9999,deptId:"",key:"",keyType:"",postId:"",status:""};Object(b["gb"])(t).then(function(t){var a=t.data.result;e.employeeList=a||[],e.selectLoading=!1}).catch(function(t){return e.selectLoading=!1,[t,null]})}}},{key:"mounted",value:function(){}},{key:"created",value:function(){this.monthTime=g()().format("YYYY-MM"),this.dayTime=g()().format("YYYY-MM-DD"),this.currentTime=g()().format("YYYY-MM-DD"),this.getEmployeeList(),this.getWCList(),this.getShiftList(),this.getPostList()}}]),t}(h["e"]);Xt=p["a"]([Object(h["a"])({name:"ShiftPostAllocation",components:{shiftPostWeek:Kt},props:{wsId:{type:String,default:""},ctId:{type:String,default:""}}})],Xt);var ea=Xt,ta=ea,aa=(a("e2b7"),Object(F["a"])(ta,Nt,Et,!1,null,"af4e69b4",null)),na=aa.exports,ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseTransferInfmtAdd"],expression:"['warehouseTransferInfmtAdd']"}],attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAdd}},[e._v("\n    新增转仓信息\n  ")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.tableData,border:"",height:"calc(100vh - 340px)"}},[a("el-table-column",{attrs:{prop:"targetName",label:"目的仓"}}),a("el-table-column",{attrs:{prop:"transitTime",label:"转仓时间(小时)"}}),a("el-table-column",{attrs:{formatter:e.formatUmW,prop:"priceWeight",label:"重量单价"}}),a("el-table-column",{attrs:{formatter:e.formatUmV,prop:"priceVolume",label:"体积单价"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseTransferInfmtEdit"],expression:"['warehouseTransferInfmtEdit']"}],attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("\n          编辑\n        ")]),e._v("\n         \n        "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseTransferInfmtDel"],expression:"['warehouseTransferInfmtDel']"}],attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("\n          删除\n        ")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.pageNumber,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("transferInfoForm",{ref:"transferInfoForm",attrs:{"is-edit":e.isEdit,"ws-id":e.wsId},on:{getTableList:e.getTableList}})],1)},ra=[],sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.isEdit?"编辑转仓信息":"新增转仓信息",visible:e.isShowUpdate,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.isShowUpdate=t},closed:e.cancel}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],staticClass:"add-edit-truck"},[a("el-form",{ref:"theForm",staticStyle:{"padding-right":"20px"},attrs:{model:e.selectForm,rules:e.formRules,"label-width":"120px","label-position":"right",size:"small"}},[a("el-form-item",{attrs:{label:"目的仓",prop:"targetId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:"",filterable:""},model:{value:e.selectForm.targetId,callback:function(t){e.$set(e.selectForm,"targetId",t)},expression:"selectForm.targetId"}},e._l(e.purposeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"转仓时间",prop:"transitTime"}},[a("div",{staticClass:"input-content"},[a("div",{staticStyle:{flex:"1"}},[a("el-input-number",{staticClass:"input-number-valiate input-border",attrs:{controls:!1,placeholder:"请输入",min:0,max:999,step:1,"step-strictly":""},model:{value:e.selectForm.transitTime,callback:function(t){e.$set(e.selectForm,"transitTime",t)},expression:"selectForm.transitTime"}})],1),a("div",{staticClass:"input-unit"},[e._v("\n              小时\n            ")])])]),a("el-form-item",{attrs:{label:"重量单价",prop:"priceWeight"}},[a("el-input",{attrs:{type:"text",maxlength:20,placeholder:"请输入"},model:{value:e.selectForm.priceWeight,callback:function(t){e.$set(e.selectForm,"priceWeight",t)},expression:"selectForm.priceWeight"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{slot:"append"},slot:"append",model:{value:e.selectForm.umWeight,callback:function(t){e.$set(e.selectForm,"umWeight",t)},expression:"selectForm.umWeight"}},[a("el-option",{attrs:{label:"RMB/KGS",value:"KGS"}}),a("el-option",{attrs:{label:"RMB/LBS",value:"LBS"}}),a("el-option",{attrs:{label:"RMB/OZS",value:"OZS"}})],1)],1)],1),a("el-form-item",{attrs:{label:"体积单价",prop:"priceVolume"}},[a("el-input",{attrs:{type:"text",maxlength:20,placeholder:"请输入"},model:{value:e.selectForm.priceVolume,callback:function(t){e.$set(e.selectForm,"priceVolume",t)},expression:"selectForm.priceVolume"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{slot:"append"},slot:"append",model:{value:e.selectForm.umVolume,callback:function(t){e.$set(e.selectForm,"umVolume",t)},expression:"selectForm.umVolume"}},[a("el-option",{attrs:{label:"RMB/CBM",value:"CBM"}}),a("el-option",{attrs:{label:"RMB/CUFT",value:"CUFT"}})],1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.cancel}},[e._v("\n        取 消\n      ")]),a("el-button",{attrs:{type:"primary",size:"small",loading:e.formLoading},on:{click:e.saveConfirm}},[e._v("\n        确 定\n      ")])],1)])],1)},oa=[];function la(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ca(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?la(a,!0).forEach(function(t){Object(r["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):la(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ua(){return{targetId:void 0,targetName:void 0,transitTime:void 0,priceVolume:void 0,priceWeight:void 0,umVolume:"CBM",umWeight:"KGS",warehouseId:void 0}}function da(e,t,a){var n=/^\d+(\.\d{0,2})?$/;n.test(t)?a():a(new Error("单价为正数且最多为两位小数"))}var ma=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.isShowUpdate=!1,e.formLoading=!1,e.selectForm=ua(),e.purposeList=[],e.formRules={transitTime:[{required:!0,message:"请选择转仓时间",trigger:"change"}],targetId:[{required:!0,message:"请选择目的仓",trigger:"change"}],priceVolume:[{required:!0,message:"体积单价不能为空",trigger:"blur"},{validator:da,trigger:"blur"}],priceWeight:[{required:!0,message:"重量单价不能为空",trigger:"blur"},{validator:da,trigger:"blur"}]},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"getPurposeWH",value:function(){var e=this;Object(b["jb"])({id:this.selectForm.warehouseId}).then(function(t){var a=t.data||[];e.purposeList=a}).catch(function(e){return[e,null]})}},{key:"clearValidate",value:function(){var e=this.$refs.theForm;this.$nextTick(function(){e.clearValidate()})}},{key:"resetForm",value:function(){this.selectForm=ua(),this.clearValidate()}},{key:"cancel",value:function(){this.isShowUpdate=!1,this.resetForm()}},{key:"saveConfirm",value:function(){var e=this,t=this.$refs.theForm;t.validate(function(t){if(!t)return!1;e.formLoading=!0;var a=ca({},e.selectForm);e.purposeList.map(function(e){e.id===a.targetId&&(a.targetName=e.name)}),Object(b["Vb"])(a).then(function(t){e.$message({type:"success",message:"保存成功"}),e.resetForm(),e.formLoading=!1,e.isShowUpdate=!1,e.$emit("getTableList")}).catch(function(t){return e.formLoading=!1,t})})}},{key:"getWareHouseEdit",value:function(){var e=this;this.formLoading=!0,Object(b["qb"])({id:this.selectForm.id}).then(function(t){var a=t.data||{};e.selectForm=ca({},a),e.formLoading=!1}).catch(function(t){return e.formLoading=!1,[t,null]})}},{key:"init",value:function(e){this.isShowUpdate=!0,this.selectForm.warehouseId=this.wsId,this.getPurposeWH();var t=this.isEdit;t&&(this.selectForm.id=e.id,this.getWareHouseEdit())}}]),t}(h["e"]);ma=p["a"]([Object(h["a"])({name:"TransferInfoForm",components:{},props:{isEdit:{type:Boolean,default:!1},wsId:{type:String,default:""}}})],ma);var pa=ma,ha=pa,fa=(a("4259"),Object(F["a"])(ha,sa,oa,!1,null,"14921cd6",null)),va=fa.exports,ga=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.loading=!1,e.isEdit=!1,e.tableData=[],e.pageNumber=1,e.pageSize=10,e.totalCount=0,e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"formatUmW",value:function(e){var t=e.priceWeight||"",a=e.umWeight?" RMB/"+e.umWeight:"";return t+a}},{key:"formatUmV",value:function(e){var t=e.priceVolume||"",a=e.umVolume?" RMB/"+e.umVolume:"";return t+a}},{key:"handleAdd",value:function(){this.isEdit=!1;var e=this.$refs.transferInfoForm;this.$nextTick(function(){e.init()})}},{key:"handleEdit",value:function(e){this.isEdit=!0;var t=this.$refs.transferInfoForm;this.$nextTick(function(){t.init(e)})}},{key:"handleDelete",value:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){var a={id:e};Object(b["r"])(a).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.getTableList()}).catch(function(e){return[e,null]})}).catch(function(e){return[e,null]})}},{key:"getTableList",value:function(){var e=this,t={model:this.wsId,page:this.pageNumber,size:this.pageSize};this.loading=!0,Object(b["zb"])(t).then(function(t){e.loading=!1;var a=t.data;e.totalCount=a.total,e.tableData=a.result||[]}).catch(function(){e.loading=!1})}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.getTableList()}},{key:"handleCurrentChange",value:function(e){this.pageNumber=e,this.getTableList()}},{key:"created",value:function(){this.getTableList()}}]),t}(h["e"]);ga=p["a"]([Object(h["a"])({name:"TransferInformation",components:{transferInfoForm:va},props:{wsId:{type:String,default:""}}})],ga);var ba=ga,ya=ba,wa=Object(F["a"])(ya,ia,ra,!1,null,"0a50dabe",null),ka=wa.exports,Oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticStyle:{"text-align":"right","padding-bottom":"10px"}},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseClauseSave"],expression:"['warehouseClauseSave']"}],attrs:{type:"primary",size:"small"},on:{click:e.saveClause}},[e._v("\n      保存\n    ")])],1),a("markdown-editor",{ref:"markdownEditor",attrs:{options:{hideModeSwitch:!0,previewStyle:"tab",toolbarItems:["heading","bold","italic"]},height:"calc(100vh - 290px)"},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)},xa=[],La=a("16d8"),Sa=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.loading=!1,e.text="",e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"saveClause",value:function(e){var t=this,a=this.$refs.markdownEditor.getHtml(),n={id:this.wsId,terms:a};Object(b["Xb"])(n).then(function(e){t.$message({type:"success",message:"保存成功!"}),t.getClause()}).catch(function(e){return[e,null]})}},{key:"getClause",value:function(){var e=this,t={id:this.wsId};this.loading=!0,Object(b["Fb"])(t).then(function(t){e.loading=!1;var a=t.data||{},n=a.terms||"";e.setTerms(n)}).catch(function(t){return e.loading=!1,[t,null]})}},{key:"setTerms",value:function(e){this.$refs.markdownEditor.setHtml(e)}},{key:"created",value:function(){this.getClause()}}]),t}(h["e"]);Sa=p["a"]([Object(h["a"])({name:"DischargingHatch",components:{MarkdownEditor:La["a"]},props:{wsId:{type:String,default:""}}})],Sa);var ja=Sa,Ia=ja,Fa=Object(F["a"])(Ia,Oa,xa,!1,null,"cc750aa6",null),Ta=Fa.exports,_a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.tableData,height:"calc(100vh - 313px)",border:""}},[a("el-table-column",{attrs:{label:"项目中文名称",prop:"name"}}),a("el-table-column",{attrs:{label:"项目英文名称",prop:"alias"}}),a("el-table-column",{attrs:{label:"服务类型",width:"120",prop:"serviceTypeName"}}),a("el-table-column",{attrs:{label:"项目类型",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s((t.row.list||[]).map(function(e){return e.typeName}).join(",")||"--")+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"结算单位",width:"120",prop:"settlement"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e.settlementList[t.row.settlement].name)+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"发票描述",prop:"invoice"}}),a("el-table-column",{attrs:{label:"备注",prop:"remark"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("span",{staticStyle:{"font-size":"30px","margin-right":"5px"}},[a("strong",[t.row.transConfiged?a("span",{staticStyle:{color:"#4cd964"}},[e._v("\n                ·\n              ")]):a("span",{staticStyle:{color:"#ff3b30"}},[e._v("\n                ·\n              ")])])]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["warehouseCustItemConfigSetting"],expression:"['warehouseCustItemConfigSetting']"}],attrs:{type:"text"},on:{click:function(a){return e.editRow(t.row)}}},[e._v("\n            设置\n          ")])],1)]}}])})],1),a("el-dialog",{attrs:{visible:e.dialogVisible,"close-on-click-modal":!1,width:e.isWidth},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.cancel}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",[e._v("\n        "+e._s(e.title)+"\n      ")]),"one"===e.isType&&2===e.dialogForm.type?a("div",{staticStyle:{"font-size":"14px",color:"#606266"}},[e._v("\n        "+e._s(e.text)+"\n      ")]):e._e()]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}]},[a("el-form",{ref:"dialogForm",staticClass:"dialog-form",attrs:{model:e.dialogForm,"label-width":"120px","label-position":"right",size:"small"}},[a("el-form-item",{staticClass:"is-required",staticStyle:{width:"85%"},attrs:{label:"是否启用",prop:"status"}},[a("el-radio-group",{on:{change:e.onStatus},model:{value:e.dialogForm.status,callback:function(t){e.$set(e.dialogForm,"status",t)},expression:"dialogForm.status"}},[a("el-radio",{attrs:{label:"0"}},[e._v("\n              否\n            ")]),a("el-radio",{attrs:{label:"1"}},[e._v("\n              是\n            ")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"===e.dialogForm.status&&"one"===e.isType,expression:"dialogForm.status === '1' && isType === 'one'"}]},[a("el-form-item",{staticClass:"is-required",staticStyle:{width:"85%"},attrs:{label:"计费方式",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:""},on:{change:e.onType},model:{value:e.dialogForm.type,callback:function(t){e.$set(e.dialogForm,"type",t)},expression:"dialogForm.type"}},[a("el-option",{attrs:{label:"单位单价",value:1}}),a("el-option",{attrs:{label:"区间",value:2}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2===e.dialogForm.type,expression:"dialogForm.type === 2"}],staticClass:"is-required",staticStyle:{width:"92%"},attrs:{label:"区间范围",prop:"sections"}},e._l(e.dialogForm.sections,function(t,n){return a("div",{key:n,staticClass:"item-after-icon"},[a("el-input-number",{staticClass:"input-number-valiate",staticStyle:{width:"44.5%"},attrs:{controls:!1,placeholder:"输入下限",min:0,max:999999,step:1,"step-strictly":""},model:{value:e.dialogForm.sections[n].lower,callback:function(t){e.$set(e.dialogForm.sections[n],"lower",t)},expression:"dialogForm.sections[index].lower"}}),a("el-input-number",{staticClass:"input-number-valiate",staticStyle:{width:"45%"},attrs:{controls:!1,placeholder:"输入上限",min:0,max:999999,step:1,"step-strictly":""},model:{value:e.dialogForm.sections[n].upper,callback:function(t){e.$set(e.dialogForm.sections[n],"upper",t)},expression:"dialogForm.sections[index].upper"}}),a("span",[a("i",0===n?{staticClass:"el-icon-circle-plus-outline item-icon-plus",on:{click:e.addRangeData}}:{staticClass:"el-icon-remove-outline item-icon-reduce",on:{click:function(t){return e.deleteRangeData(n)}}})])],1)}),0)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"===e.dialogForm.status&&"three"===e.isType,expression:"dialogForm.status === '1' && isType === 'three'"}]},[a("el-transfer",{ref:"transferItem",staticStyle:{height:"500px"},attrs:{filterable:"","filter-method":e.filterMethod,titles:["选择"+e.title,"已选择"],props:{key:"id",label:"name"},"filter-placeholder":"输入搜索",data:e.list},model:{value:e.options,callback:function(t){e.options=t},expression:"options"}})],1),a("div",{staticStyle:{"text-align":"right",margin:"20px 40px 0"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.cancel}},[e._v("\n          取消\n        ")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.save}},[e._v("\n          保存\n        ")])],1)],1)])],1)},Ca=[],$a=a("c3f6");function Da(){return{status:"0",type:1,sections:[{lower:void 0,upper:void 0}]}}var Na=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.text="(取值范围：>=起始值， <结束值)",e.loading=!1,e.dialogVisible=!1,e.dialogLoading=!1,e.tableData=[],e.title="",e.currentId="",e.settlementList=[{id:"0",name:"按重量"},{id:"1",name:"按体积"},{id:"2",name:"按金额"},{id:"3",name:"按票"},{id:"4",name:"按箱"},{id:"5",name:"按车"},{id:"6",name:"按柜"},{id:"7",name:"按里程"},{id:"8",name:"按时间"},{id:"9",name:"按托"},{id:"A",name:"按个数"}],e.isType="",e.isWidth="",e.options=[],e.list=[],e.serviceList=[],e.dialogForm=Da(),e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"getWarehouseServer",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={id:this.wsId},e.next=3,Object($a["o"])(t).then(function(e){a.serviceList=e.data||[]}).catch(function(e){return e});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"queryAll",value:function(e){var t=this;this.loading=!0;var a={serviceTypeId:"04",warehouseId:this.wsId,list:this.serviceList.length<=0?[""]:this.serviceList};Object($a["e"])(a).then(function(e){t.loading=!1;var a=e.data||[];t.tableData=a}).catch(function(e){return t.loading=!1,e})}},{key:"getVehicleTypeList",value:function(){var e=this,t={page:1,size:99999};Object($a["m"])(t).then(function(t){var a=t.data||{},n=a.result||[];e.list=n}).catch(function(e){return e})}},{key:"getContainerList",value:function(){var e=this,t={page:1,size:99999};Object($a["c"])(t).then(function(t){var a=t.data||{},n=a.result||[];e.list=n}).catch(function(e){return e})}},{key:"editRow",value:function(e){var t=e.settlement,a=e.id;if("5"===t)this.isType="three",this.title="车型",this.isWidth="960px",this.getVehicleTypeList();else if("6"===t)this.isType="three",this.isWidth="960px",this.title="柜型",this.getContainerList();else switch(this.isType="one",this.isWidth="600px",t){case"0":this.title="按重量";break;case"1":this.title="按体积";break;case"3":this.title="按票";break;case"4":this.title="按箱";break;case"7":this.title="按里程";break;case"8":this.title="按时间";break;case"9":this.title="按托";break;case"A":this.title="按个数";break;default:break}this.dialogVisible=!0,this.currentId=a,this.getPriceConfig()}},{key:"onStatus",value:function(){this.dialogForm.type=1}},{key:"onType",value:function(){this.dialogForm.sections=[{lower:void 0,upper:void 0}]}},{key:"getPriceConfig",value:function(){var e=this;this.dialogLoading=!0;var t={costitemId:this.currentId,warehouseId:this.wsId};Object($a["d"])(t).then(function(t){var a=t.data||{},n=a.rangeList,i=a.id,r=a.status;if(e.dialogForm.id=i,e.dialogForm.status=r||"0","one"===e.isType){var s=[{lower:void 0,upper:void 0}];if(Array.isArray(n)&&n.length>0){var o=n.map(function(t){return e.dialogForm.type=t.type,{lower:t.min,upper:t.max}});e.dialogForm.sections=o}else e.dialogForm.sections=s}else"three"===e.isType&&(e.options=n.map(function(e){return e.code}));e.dialogLoading=!1}).catch(function(t){return e.dialogLoading=!1,t})}},{key:"addRangeData",value:function(){this.dialogForm.sections.push({lower:void 0,upper:void 0})}},{key:"deleteRangeData",value:function(e){this.dialogForm.sections.splice(e,1)}},{key:"filterMethod",value:function(e,t){var a=t.name||"";return a.indexOf(e)>-1}},{key:"cancel",value:function(){this.dialogVisible=!1,this.isType="",this.options=[],this.list=[],this.dialogForm=Da()}},{key:"rangeValidate",value:function(e){var t=e.every(function(e){return(0===e.lower||e.lower)&&e.upper});if(!t)return this.$message.error("请完整填写区间值"),!1;var a=e.some(function(e){return e.upper<=e.lower});if(a)return this.$message({type:"error",message:"下限值不能大于等于上限值"}),!1;var n=!1;if(e.map(function(t,a){n=e.some(function(e,n){return a!==n&&(e.lower<=t.lower&&t.lower<e.upper||e.lower<t.upper&&t.upper<=e.upper)})}),n)return this.$message({type:"error",message:"区间范围不能重叠"}),!1;for(var i=!1,r=0;r<e.length;r++)if(r>0){var s=e[r],o=e[r-1];if(s.lower!==o.upper){i=!0;break}}return!i||(this.$message({type:"error",message:"区间范围必须连续"}),!1)}},{key:"save",value:function(){var e=this,t=this.dialogForm,a=(t.rangeList,t.sections),n=t.id,i=t.type,r=t.status,s={id:n,costitemId:this.currentId,warehouseId:this.wsId,rangeList:[],status:r},o=[];if("1"===r&&"one"===this.isType){if(!i)return void this.$message.error("请选择计费方式");if(a.map(function(e){o.push({max:e.upper||"",min:e.lower||"",code:"",name:"",type:i})}),2===i){var l=this.rangeValidate(a);if(!l)return}s.rangeList=o}else"1"===r&&"three"===this.isType&&(this.options.map(function(t){var a=e.list.find(function(e){return e.id===t})||{};a.id&&a.name&&o.push({code:a.id||"",name:a.name||"",max:"",min:"",type:""})}),s.rangeList=o);this.dialogLoading=!0,Object($a["r"])(s).then(function(t){e.$message({type:"success",message:"保存成功"}),e.dialogLoading=!1,e.cancel(),e.queryAll()}).catch(function(t){return e.dialogLoading=!1,t})}},{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getWarehouseServer();case 2:this.queryAll();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"custId",get:function(){var e=f["a"].info||{},t=e.custId;return t}},{key:"custName",get:function(){var e=f["a"].info||{},t=e.custName;return t}}]),t}(h["e"]);Na=p["a"]([Object(h["a"])({name:"",components:{},props:{wsId:{type:String,default:""}}})],Na);var Ea=Na,za=Ea,Pa=(a("7b92"),Object(F["a"])(za,_a,Ca,!1,null,"17b2a9a0",null)),Va=Pa.exports,Ma=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.activeName="schedulingInformation",e.currentTabIndex=0,e.currentCompanyId="",e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"handleTabClick",value:function(e,t){switch(e.name){case"schedulingInformation":this.currentTabIndex=0;break;case"locationManagement":this.currentTabIndex=1;break;case"operatingCenter":this.currentTabIndex=2;break;case"transferInformation":this.currentTabIndex=3;break;case"workShiftConfiguration":this.currentTabIndex=4;break;case"postShiftConfiguration":this.currentTabIndex=5;break;case"shiftPostAllocation":this.currentTabIndex=6;break;case"dischargingHatch":this.currentTabIndex=7;break;case"warehouseClause":this.currentTabIndex=8;break;case"custItemConfig":this.currentTabIndex=9;break}}},{key:"created",value:function(){}}]),t}(h["e"]);Ma=p["a"]([Object(h["a"])({name:"TabsData",components:{locationManagement:ve,dischargingHatch:Ze,operatingCenter:Ne,postShiftConfiguration:ft,schedulingInformation:G,workShiftConfiguration:Dt,shiftPostAllocation:na,transferInformation:ka,warehouseClause:Ta,custItemConfig:Va},props:{wsId:{type:String,default:""},wsNm:{type:String,default:""},ctId:{type:String,default:""}}})],Ma);var Aa=Ma,Wa=Aa,qa=Object(F["a"])(Wa,C,$,!1,null,null,null),Ua=qa.exports,Ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"设置服务",visible:e.visible,"close-on-click-modal":!1,width:"960px"},on:{close:e.dialogClose}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-transfer",{ref:"transferItem",staticClass:"transfer-agent",staticStyle:{height:"500px"},attrs:{filterable:"","filter-method":e.filterMethod,titles:["全部","已选择"],props:{key:"id",label:"name"},"filter-placeholder":"输入搜索",data:e.list},model:{value:e.relevanceList,callback:function(t){e.relevanceList=t},expression:"relevanceList"}}),a("div",{staticStyle:{"text-align":"right",margin:"20px 40px 0"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.cancel}},[e._v("\n        取 消\n      ")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.save}},[e._v("\n        保 存\n      ")])],1)],1)])},Ha=[],Ya=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.loading=!1,e.visible=!1,e.list=[],e.relevanceList=[],e.row={},e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"showModel",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.visible=!0,this.row=t,this.loading=!0,e.next=5,this.getSubtypeByCustAndType();case 5:return e.next=7,this.getWarehouseServer();case 7:this.loading=!1;case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSubtypeByCustAndType",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={custId:this.row.custId,typeId:"04"},e.next=3,Object($a["l"])(t).then(function(e){e.success&&(a.list=e.data||[])}).catch(function(e){return e});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getWarehouseServer",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={id:this.row.id},e.next=3,Object($a["o"])(t).then(function(e){e.success&&(a.relevanceList=e.data||[])}).catch(function(e){return e});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){this.dialogClose()}},{key:"dialogClose",value:function(){this.relevanceList=[],this.visible=!1}},{key:"save",value:function(){var e=this;if(0!==this.relevanceList.length){var t={id:this.row.id,typeList:this.relevanceList};this.loading=!0,Object($a["u"])(t).then(function(t){e.loading=!1,t.success&&(e.$message.success("保存成功"),e.dialogClose())}).catch(function(t){return e.loading=!1,t})}else this.$message.warning("请选择关联的数据")}},{key:"filterMethod",value:function(e,t){var a=t.name||"";return a.indexOf(e)>-1}}]),t}(h["e"]);Ya=p["a"]([Object(h["a"])({name:"",components:{}})],Ya);var Ba=Ya,Ja=Ba,Ga=(a("9e34"),Object(F["a"])(Ja,Ra,Ha,!1,null,"e8cfaa88",null)),Qa=Ga.exports;function Za(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ka(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Za(a,!0).forEach(function(t){Object(r["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Za(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Xa=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.statusList=[{value:"0",name:"禁用"},{value:"1",name:"启用"}],e.attributes=[{name:"普货",id:"0"},{name:"纯电",id:"1"},{name:"带电",id:"2"},{name:"带磁",id:"3"},{name:"危险",id:"4"}],e.configuration=[{value:"0",name:"有卸货平台"},{value:"1",name:"无卸货平台"},{value:"2",name:"有叉车"},{value:"3",name:"无叉车"}],e.properties=[{value:"0",name:"是监管仓"},{value:"1",name:"非监管仓"},{value:"2",name:"是中转仓"},{value:"3",name:"非中转仓"}],e.serviceTypes=[],e.deliveries=[{name:"快递",id:"0"},{name:"卡车",id:"1"},{name:"自提",id:"2"}],e.props={label:"name",value:"id"},e.weightList=[],e.countryList=[],e.supplierList=[],e.tableData=[],e.selectValue={name:void 0,countryId:void 0,categories:"",categoryList:[],id:void 0,status:void 0,stateId:void 0,cityId:void 0,wareAttr:void 0,wareConfig:void 0,unloading:void 0,forklift:void 0,transfer:void 0,supervise:void 0,custId:void 0,custName:void 0},e.pageSize=10,e.pageNumber=1,e.totalCount=0,e.isEdit=!1,e.loading=!1,e.selectLoading=!1,e.stateList=[],e.cityList=[],e.isMoreShow=!0,e.wsID="",e.wsNm="",e.ctID="",e}return Object(m["a"])(t,e),Object(c["a"])(t,[{key:"getWordsList",value:function(){var e=this,t={type:"weight_type"};Object(b["Gb"])(t).then(function(t){var a=t.data||[];e.weightList=a}).catch(function(e){return e})}},{key:"filterUnit",value:function(e){var t;return e&&this.weightList.map(function(a){a.value===e&&(t="".concat(a.value,"(").concat(a.label,")"))}),t||""}},{key:"settingService",value:function(e){this.$refs.transferModal.showModel(e)}},{key:"selectwareConfig",value:function(e){switch(e){case"0":this.selectValue.unloading=!0,this.selectValue.forklift=void 0;break;case"1":this.selectValue.unloading=!1,this.selectValue.forklift=void 0;break;case"2":this.selectValue.forklift=!0,this.selectValue.unloading=void 0;break;case"3":this.selectValue.forklift=!1,this.selectValue.unloading=void 0;break;default:this.selectValue.forklift=void 0,this.selectValue.unloading=void 0;break}}},{key:"selectwareAttr",value:function(e){switch(e){case"0":this.selectValue.supervise=!0,this.selectValue.transfer=void 0;break;case"1":this.selectValue.supervise=!1,this.selectValue.transfer=void 0;break;case"2":this.selectValue.transfer=!0,this.selectValue.supervise=void 0;break;case"3":this.selectValue.transfer=!1,this.selectValue.supervise=void 0;break;default:this.selectValue.transfer=void 0,this.selectValue.supervise=void 0;break}}},{key:"getServiceTypeList",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,a,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="1",a={custType:t},e.next=4,Object(b["nb"])(a).then(function(e){n.serviceTypes=e.data||[]}).catch(function(e){return e});case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getCountryList",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.selectLoading=!0,e.next=3,Object(b["I"])().then(function(e){var a=e.data||{};t.countryList=a.result||[],t.selectLoading=!1}).catch(function(e){return t.selectLoading=!1,e});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getStateList",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.selectValue.countryId){e.next=2;break}return e.abrupt("return");case 2:return this.selectLoading=!0,e.next=5,Object(b["tb"])(this.selectValue.countryId).then(function(e){t.selectLoading=!1;var a=e.data||{},n=a.result||[];t.stateList=n}).catch(function(){t.stateList=[],t.selectLoading=!1});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getCityList",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.selectValue.stateId){e.next=2;break}return e.abrupt("return");case 2:return this.selectLoading=!0,e.next=5,Object(b["G"])(this.selectValue.stateId).then(function(e){t.selectLoading=!1;var a=e.data||{},n=a.result||[];t.cityList=n}).catch(function(){t.cityList=[],t.selectLoading=!1});case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onCountryChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.selectValue.stateId="",this.onStateChange();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"onStateChange",value:function(){this.selectValue.cityId=""}},{key:"onSupplier",value:function(e){var t=this;this.selectValue.custName=void 0,this.supplierList.map(function(e){e.id===t.selectValue.custId&&(t.selectValue.custName=e.name)}),this.getTableList(1)}},{key:"getSupplierList",value:function(){var e=this,t={page:1,size:9999,parentId:this.custId,types:"04"};Object(b["ub"])(t).then(function(t){var a=t.data||{},n=a.result||[];e.supplierList=n,e.selectValue.custId=n[0].id,e.selectValue.custName=n[0].name,e.getTableList()}).catch(function(e){return e})}},{key:"formatData",value:function(e){var t=this;return e.forEach(function(e){e.children&&Array.isArray(e.children)&&0===e.children.length?delete e.children:t.formatData(e.children)}),e}},{key:"handleAdd",value:function(){this.isEdit=!1;var e=this.$refs.editForm;this.$nextTick(function(){e.init()})}},{key:"handleEdit",value:function(e){this.isEdit=!0;var t=this.$refs.editForm;this.$nextTick(function(){t.init(e)})}},{key:"handleMore",value:function(e){this.isMoreShow=!1,this.wsID=e.id,this.wsNm=e.name,this.ctID=this.selectValue.custId}},{key:"handleBack",value:function(e){this.isMoreShow=!0}},{key:"onStatus",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,a){var n,i,r,o,l=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.status&&t.status!==a){e.next=2;break}return e.abrupt("return");case 2:return n="0"===a?"禁用":"开启",e.next=5,this.$confirm("此操作将".concat(n,"该仓库，是否继续？"),"提示",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(e){return[null,e]}).catch(function(e){return[e,null]});case 5:if(i=e.sent,r=Object(s["a"])(i,2),o=r[0],r[1],!o){e.next=11;break}return e.abrupt("return");case 11:Object(b["k"])({id:t.id,status:a}).then(function(e){l.$message.success("修改成功"),l.getTableList()}).catch(function(e){return e});case 12:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"handleDelete",value:function(e){var t=this;this.$confirm("此操作将永久删除该数据, 是否继续?",{confirmButtonText:"确定",closeOnClickModal:!1,cancelButtonText:"取消",type:"warning"}).then(function(){var a={id:e};Object(b["s"])(a).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.getTableList()}).catch(function(e){return[e,null]})}).catch(function(e){return[e,null]})}},{key:"formatTime",value:function(e){return g()(e).format("YYYY-MM-DD HH:mm:ss")}},{key:"getTableList",value:function(e){var t=this;this.loading=!0,e&&(this.pageNumber=e),Object(b["Eb"])({model:Ka({},this.selectValue),page:this.pageNumber,size:this.pageSize}).then(function(e){t.loading=!1;var a=e.data;t.totalCount=a.total,t.tableData=a.result||[]}).catch(function(){t.loading=!1})}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.getTableList()}},{key:"handleCurrentChange",value:function(e){this.pageNumber=e,this.getTableList()}},{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return"0"!==this.custId?(this.selectValue.custId=this.custId,this.selectValue.custName=this.custName,this.getTableList()):this.getSupplierList(),this.getWordsList(),e.next=4,this.getServiceTypeList();case 4:return e.next=6,this.getCountryList();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"custId",get:function(){var e=f["a"].info||{},t=e.custId;return t}},{key:"custName",get:function(){var e=f["a"].info||{},t=e.custName;return t}}]),t}(h["e"]);Xa=p["a"]([Object(h["a"])({name:"WarehouseConfig",components:{editForm:_,tabsData:Ua,transferModal:Qa}})],Xa);var en=Xa,tn=en,an=(a("7b3f"),Object(F["a"])(tn,n,i,!1,null,"54333f61",null));t["default"]=an.exports}}]);